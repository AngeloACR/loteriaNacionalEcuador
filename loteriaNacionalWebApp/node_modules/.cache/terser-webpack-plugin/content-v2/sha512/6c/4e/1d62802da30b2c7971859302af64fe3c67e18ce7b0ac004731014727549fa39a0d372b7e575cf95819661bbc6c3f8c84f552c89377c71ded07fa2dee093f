{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Z8MR:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\");class CodigosPromocionalesModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),tslib_es6=__webpack_require__(\"mrSG\"),http=__webpack_require__(\"IheW\");let codigos_promocionales_service_CodigosPromocionalesService=(()=>{class CodigosPromocionalesService{constructor(http){this.http=http,this.localSource=\"http://localhost:100\",this.testSource=\"https://ventas-api-prueba.loteria.com.ec\",this.productionSource=\"https://ventas-api.loteria.com.ec\",this.mySource=this.productionSource}obtenerCodigos(){let headers=new http.g;headers=headers.append(\"Content-Type\",\"application/json\");let address=\"/codigosPromocionales\";return address=this.mySource+address+\"/getCodCsv\",new Promise((resolve,reject)=>{this.http.get(address,{headers:headers}).subscribe(data=>{resolve(data)},error=>{reject(new Error(error.error.message))})})}obtenerTxt(){let address=\"\";return address=this.mySource+address+\"/getTxt\",this.http.get(address,{observe:\"response\",responseType:\"blob\"})}}return CodigosPromocionalesService.ngInjectableDef=core.Qb({factory:function(){return new CodigosPromocionalesService(core.Rb(http.c))},token:CodigosPromocionalesService,providedIn:\"root\"}),CodigosPromocionalesService})();class codigos_promocionales_component_CodigosPromocionalesComponent{constructor(codigosService){this.codigosService=codigosService,this.codigos=[]}ngOnInit(){return tslib_es6.a(this,void 0,void 0,(function*(){}))}generarTxt(){return tslib_es6.a(this,void 0,void 0,(function*(){this.codigos=this.codigosService.obtenerTxt().subscribe(data=>{var fileName=\"\";const contentDisposition=data.headers.get(\"Content-Disposition\");if(contentDisposition){const matches=/filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/.exec(contentDisposition);null!=matches&&matches[1]&&(fileName=matches[1].replace(/['\"]/g,\"\"))}const blob=new Blob([data.body],{type:\"text/txt\"}),element=document.createElement(\"a\");element.href=URL.createObjectURL(blob),element.download=fileName,element.click()},error=>{throw new Error(error.error.message)})}))}}var RenderType_CodigosPromocionalesComponent=core.pb({encapsulation:0,styles:[['button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:40px;height:30px;padding:5px 50px;outline:0;font-family:\"Monstserrat SemiBold\";color:#fff;font-size:12px;cursor:pointer;transition:background-color .5s ease;background-color:#2f72b9;border:1px solid #2f72b9}button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#2f72b9;transition:background-color .5s ease}']],data:{}});function View_CodigosPromocionalesComponent_0(_l){return core.Mb(0,[(_l()(),core.rb(0,0,null,null,1,\"button\",[],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.generarTxt()&&ad),ad}),null,null)),(_l()(),core.Kb(-1,null,[\"Generar archivo de codigos\"]))],null,null)}function View_CodigosPromocionalesComponent_Host_0(_l){return core.Mb(0,[(_l()(),core.rb(0,0,null,null,1,\"app-codigos-promocionales\",[],null,null,null,View_CodigosPromocionalesComponent_0,RenderType_CodigosPromocionalesComponent)),core.qb(1,114688,null,0,codigos_promocionales_component_CodigosPromocionalesComponent,[codigos_promocionales_service_CodigosPromocionalesService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var CodigosPromocionalesComponentNgFactory=core.nb(\"app-codigos-promocionales\",codigos_promocionales_component_CodigosPromocionalesComponent,View_CodigosPromocionalesComponent_Host_0,{},{},[]),common=__webpack_require__(\"SVse\"),router=__webpack_require__(\"iInd\");class CodigosPromocionalesRoutingModule{}__webpack_require__.d(__webpack_exports__,\"CodigosPromocionalesModuleNgFactory\",(function(){return CodigosPromocionalesModuleNgFactory}));var CodigosPromocionalesModuleNgFactory=core.ob(CodigosPromocionalesModule,[],(function(_l){return core.Ab([core.Bb(512,core.j,core.Z,[[8,[router_ngfactory.a,CodigosPromocionalesComponentNgFactory]],[3,core.j],core.v]),core.Bb(4608,common.m,common.l,[core.s,[2,common.y]]),core.Bb(4608,http.i,http.o,[common.d,core.z,http.m]),core.Bb(4608,http.p,http.p,[http.i,http.n]),core.Bb(5120,http.a,(function(p0_0){return[p0_0]}),[http.p]),core.Bb(4608,http.l,http.l,[]),core.Bb(6144,http.j,null,[http.l]),core.Bb(4608,http.h,http.h,[http.j]),core.Bb(6144,http.b,null,[http.h]),core.Bb(4608,http.f,http.k,[http.b,core.p]),core.Bb(4608,http.c,http.c,[http.f]),core.Bb(1073742336,common.c,common.c,[]),core.Bb(1073742336,http.e,http.e,[]),core.Bb(1073742336,http.d,http.d,[]),core.Bb(1073742336,router.r,router.r,[[2,router.w],[2,router.n]]),core.Bb(1073742336,CodigosPromocionalesRoutingModule,CodigosPromocionalesRoutingModule,[]),core.Bb(1073742336,CodigosPromocionalesModule,CodigosPromocionalesModule,[]),core.Bb(256,http.m,\"XSRF-TOKEN\",[]),core.Bb(256,http.n,\"X-XSRF-TOKEN\",[]),core.Bb(1024,router.l,(function(){return[[{path:\"\",component:codigos_promocionales_component_CodigosPromocionalesComponent}]]}),[])])}))}}]);","extractedComments":[]}
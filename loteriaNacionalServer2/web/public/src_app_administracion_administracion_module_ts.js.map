{"version":3,"file":"src_app_administracion_administracion_module_ts.js","mappings":";;;;;;;;;;;;;;;;AACuD;AACc;;;AAErE,MAAM,MAAM,GAAW,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,8EAAuB,EAAE,CAAC,CAAC;AAMnE,MAAM,2BAA2B;;sGAA3B,2BAA2B;wHAA3B,2BAA2B;4HAH7B,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC,EAC9B,yDAAY;mIAEX,2BAA2B,oFAF5B,yDAAY;;;;;;;;;;;;;;;;;;;;;;;;;ACAlB,MAAOA,uBAAP,CAA8B;AAGlCC,cAAoBC,qBAApB,EAAgE;AAA5C;AAFpB,mBAAe,EAAf;AACA,qBAAqB,KAArB;AACoE;;AAE9DC,UAAQ;AAAA;;AAAA;AACZ,WAAI,CAACC,SAAL,SAAuB,KAAI,CAACF,qBAAL,CAA2BG,SAA3B,EAAvB,CADY,CAEZ;AAFY;AAGb;;AAEKC,uBAAqB;AAAA;;AAAA;AACzB,YAAMC,OAAO,GAASC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,EAAyCC,KAA/D;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACA,UAAI,CAACC,MAAM,CAACC,IAAP,CAAYP,OAAZ,EAAqBQ,MAA1B,EAAkC;AAClCF,YAAM,CAACC,IAAP,CAAYP,OAAZ,EAAqBS,OAArB,CAA8BC,GAAD,IAAQ;AACnCN,gBAAQ,CAACO,MAAT,CAAgBX,OAAO,CAACY,IAAR,CAAaF,GAAb,EAAkBG,IAAlC,EAAwCb,OAAO,CAACY,IAAR,CAAaF,GAAb,CAAxC;AACD,OAFD;AAIA,YAAMI,QAAQ,SAAS,MAAI,CAACnB,qBAAL,CAA2BoB,cAA3B,CAA0CX,QAA1C,CAAvB;AARyB;AAS1B;;AACKY,YAAU;AAAA;;AAAA;AACd,YAAI,CAACC,OAAL,GAAe,MAAI,CAACtB,qBAAL,CAA2BuB,UAA3B,GAAwCC,SAAxC,CACZC,IAAD,IAA6B;AAC3B,YAAIC,QAAQ,GAAG,EAAf;AACA,cAAMC,kBAAkB,GAAGF,IAAI,CAACG,OAAL,CAAaC,GAAb,CAAiB,qBAAjB,CAA3B;;AACA,YAAIF,kBAAJ,EAAwB;AACtB,gBAAMG,aAAa,GAAG,wCAAtB;AACA,gBAAMC,OAAO,GAAGD,aAAa,CAACE,IAAd,CAAmBL,kBAAnB,CAAhB;;AACA,cAAII,OAAO,IAAI,IAAX,IAAmBA,OAAO,CAAC,CAAD,CAA9B,EAAmC;AACjCL,oBAAQ,GAAGK,OAAO,CAAC,CAAD,CAAP,CAAWE,OAAX,CAAmB,OAAnB,EAA4B,EAA5B,CAAX;AACD;AACF;;AAED,cAAMC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACV,IAAI,CAACW,IAAN,CAAT,EAAuB;AAAEC,cAAI,EAAE;AAAR,SAAvB,CAAb;AACA,cAAMC,OAAO,GAAGhC,QAAQ,CAACiC,aAAT,CAAuB,GAAvB,CAAhB;AAEAD,eAAO,CAACE,IAAR,GAAeC,GAAG,CAACC,eAAJ,CAAoBR,IAApB,CAAf;AACAI,eAAO,CAACK,QAAR,GAAmBjB,QAAnB;AACAY,eAAO,CAACM,KAAR;AACD,OAlBY,EAmBZC,KAAD,IAAe;AACb,cAAM,IAAIC,KAAJ,CAAUD,KAAK,CAACA,KAAN,CAAYE,OAAtB,CAAN;AACD,OArBY,CAAf;AADc;AAwBf;;AACKC,aAAW;AAAA;;AAAA;AACf,YAAM,MAAI,CAAChD,qBAAL,CAA2BiD,SAA3B,CAAqC,MAAI,CAAC/C,SAA1C,CAAN;AADe;AAEhB;;AA/CiC;;;mBAAvBJ,yBAAuBoD,+DAAAA,CAAAA,mFAAAA;AAAA;;;QAAvBpD;AAAuBqD;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;;;ACRpCL,MAAAA,4DAAAA;AACEA,MAAAA,4DAAAA;AAAkBA,MAAAA,wDAAAA;AAAA;AAAA,SAAuB,QAAvB,EAAuB;AAAA,eAAWM,iBAAX;AAAwB,OAA/C;AACfN,MAAAA,oDAAAA;AAAeA,MAAAA,0DAAAA;AAElBA,MAAAA,4DAAAA;AAAwCA,MAAAA,wDAAAA;AAAAA,QAAAA,2DAAAA;;AAAA;;AAAA,eAASO,WAAT;AAA0B,OAA1B;AACtCP,MAAAA,oDAAAA;AACFA,MAAAA,0DAAAA;AACAA,MAAAA,4DAAAA;AAEEA,MAAAA,wDAAAA;AAAA,eAAUM,2BAAV;AAAiC,OAAjC;AAFFN,MAAAA,0DAAAA;AASAA,MAAAA,4DAAAA;AAAQA,MAAAA,wDAAAA;AAAA,eAASM,gBAAT;AAAqB,OAArB;AAAuBN,MAAAA,oDAAAA;AAA0BA,MAAAA,0DAAAA;AAC3DA,MAAAA,0DAAAA;;;;AAhBoBA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA2B;AAE+B;AACT;AACgB;AAC7B;AACc;AACJ;AACX;;AAchD,MAAM,oBAAoB;;wFAApB,oBAAoB;iHAApB,oBAAoB;qHAVtB;YACP,yDAAY;YACZ,kEAAgB;YAChB,gFAAoB;YACpB,+DAAmB;YACnB,uDAAW;YACX,+DAAY;YACZ,uFAA2B;SAC5B;mIAEU,oBAAoB,mBAXhB,8EAAuB,EAAE,8FAAmB,aAEzD,yDAAY;QACZ,kEAAgB;QAChB,gFAAoB;QACpB,+DAAmB;QACnB,uDAAW;QACX,+DAAY;QACZ,uFAA2B;;;;;;;;;;;;;;;;;;;;ACpB/B;;;;AAQM,MAAOS,mBAAP,CAA0B;AAG9B5D,cAAoBC,qBAApB,EAAgE;AAA5C;AAFV,sBAAa,IAAI0D,uDAAJ,EAAb;AACV,sBAAqB,EAArB;AACoE;;AAE9DzD,UAAQ;AAAA;;AAAA;AACZ,WAAI,CAAC2D,UAAL,SAAwB,KAAI,CAAC5D,qBAAL,CAA2B6D,aAA3B,EAAxB;AADY;AAEb;;AACDC,OAAK;AACH,SAAKC,UAAL,CAAgBC,IAAhB;AACD;;AAV6B;;;mBAAnBL,qBAAmBT,+DAAAA,CAAAA,mFAAAA;AAAA;;;QAAnBS;AAAmBR;AAAAc;AAAAF;AAAA;AAAAX;AAAAC;AAAAC;AAAAC;AAAA;ACRhCL,MAAAA,4DAAAA;AAAsBA,MAAAA,wDAAAA;AAAA,eAASM,WAAT;AAAgB,OAAhB;AAAkBN,MAAAA,0DAAAA;AACxCA,MAAAA,4DAAAA;AACEA,MAAAA,4DAAAA;AACEA,MAAAA,4DAAAA;AACEA,MAAAA,4DAAAA;AAAyCA,MAAAA,wDAAAA;AAAA,eAASM,WAAT;AAAgB,OAAhB;AAAkBN,MAAAA,0DAAAA;AAC7DA,MAAAA,0DAAAA;AAEAA,MAAAA,4DAAAA;AACEA,MAAAA,4DAAAA;AACEA,MAAAA,4DAAAA;AAIEA,MAAAA,4DAAAA;AAA6CA,MAAAA,wDAAAA;AAAA,eAASM,WAAT;AAAgB,OAAhB;AAA7CN,MAAAA,0DAAAA;AACFA,MAAAA,0DAAAA;AACAA,MAAAA,4DAAAA;AAIEA,MAAAA,4DAAAA;AAIEA,MAAAA,wDAAAA;AAAA,eAASM,WAAT;AAAgB,OAAhB;AAJFN,MAAAA,0DAAAA;AAMFA,MAAAA,0DAAAA;AACAA,MAAAA,4DAAAA;AAIEA,MAAAA,4DAAAA;AAA6BA,MAAAA,wDAAAA;AAAA,eAASM,WAAT;AAAgB,OAAhB;AAA7BN,MAAAA,0DAAAA;AACFA,MAAAA,0DAAAA;AACFA,MAAAA,0DAAAA;AACFA,MAAAA,0DAAAA;AACFA,MAAAA,0DAAAA;AACFA,MAAAA,0DAAAA;;;;;;;;;;;;;;;;;;;;;;AC7B8B;AAE6B;;;AAKpD,MAAM,qBAAqB;IAGhC,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAFpC,aAAQ,GAAG,4EAAkB,CAAC;IAES,CAAC;IACxC,aAAa;QACX,IAAI,OAAO,GAAG,IAAI,6DAAW,EAAE,CAAC;QAChC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QAC7D,4BAA4B;QAE5B,IAAI,OAAO,GAAG,iBAAiB,CAAC;QAChC,IAAI,QAAQ,GAAG,QAAQ,CAAC;QACxB,OAAO,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,GAAG,QAAQ,CAAC;QAC7C,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,IAAI;iBACN,GAAG,CAAC,OAAO,EAAE;gBACZ,OAAO,EAAE,OAAO;aACjB,CAAC;iBACD,SAAS,CACR,CAAC,IAAS,EAAE,EAAE;gBACZ,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,EACD,CAAC,KAAU,EAAE,EAAE;gBACb,MAAM,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YACzC,CAAC,CACF,CAAC;QACN,CAAC,CAAC,CAAC;IACL,CAAC;IAED,cAAc;QACZ,IAAI,OAAO,GAAG,IAAI,6DAAW,EAAE,CAAC;QAChC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QAC7D,4BAA4B;QAE5B,IAAI,OAAO,GAAG,uBAAuB,CAAC;QACtC,IAAI,QAAQ,GAAG,aAAa,CAAC;QAC7B,OAAO,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,GAAG,QAAQ,CAAC;QAC7C,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,IAAI;iBACN,GAAG,CAAC,OAAO,EAAE;gBACZ,OAAO,EAAE,OAAO;aACjB,CAAC;iBACD,SAAS,CACR,CAAC,IAAS,EAAE,EAAE;gBACZ,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,EACD,CAAC,KAAU,EAAE,EAAE;gBACb,MAAM,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YACzC,CAAC,CACF,CAAC;QACN,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS;QACP,IAAI,OAAO,GAAG,IAAI,6DAAW,EAAE,CAAC;QAChC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QAC7D,4BAA4B;QAE5B,IAAI,OAAO,GAAG,uBAAuB,CAAC;QACtC,IAAI,QAAQ,GAAG,SAAS,CAAC;QACzB,OAAO,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,GAAG,QAAQ,CAAC;QAC7C,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,IAAI;iBACN,GAAG,CAAC,OAAO,EAAE;gBACZ,OAAO,EAAE,OAAO;aACjB,CAAC;iBACD,SAAS,CACR,CAAC,IAAS,EAAE,EAAE;gBACZ,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,EACD,CAAC,KAAU,EAAE,EAAE;gBACb,MAAM,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YACzC,CAAC,CACF,CAAC;QACN,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS,CAAC,SAAkB;QAC1B,IAAI,OAAO,GAAG,IAAI,6DAAW,EAAE,CAAC;QAChC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QAC7D,4BAA4B;QAE5B,IAAI,OAAO,GAAG,uBAAuB,CAAC;QACtC,IAAI,QAAQ,GAAG,SAAS,CAAC;QACzB,OAAO,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,GAAG,QAAQ,CAAC;QAC7C,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC1C,IAAI,IAAI,GAAG,EAAE,SAAS,EAAE,CAAC;YACzB,IAAI,CAAC,IAAI;iBACN,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE;gBACnB,OAAO,EAAE,OAAO;aACjB,CAAC;iBACD,SAAS,CACR,CAAC,IAAS,EAAE,EAAE;gBACZ,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,EACD,CAAC,KAAU,EAAE,EAAE;gBACb,MAAM,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YACzC,CAAC,CACF,CAAC;QACN,CAAC,CAAC,CAAC;IACL,CAAC;IAED,cAAc,CAAC,QAAa;QAC1B,IAAI,OAAO,GAAG,IAAI,6DAAW,EAAE,CAAC;QAEhC,IAAI,OAAO,GAAG,uBAAuB,CAAC;QACtC,IAAI,QAAQ,GAAG,QAAQ,CAAC;QACxB,OAAO,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,GAAG,QAAQ,CAAC;QAC7C,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,IAAI;iBACN,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE;gBACvB,OAAO,EAAE,OAAO;aACjB,CAAC;iBACD,SAAS,CACR,CAAC,IAAS,EAAE,EAAE;gBACZ,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,EACD,CAAC,KAAU,EAAE,EAAE;gBACb,MAAM,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YACzC,CAAC,CACF,CAAC;QACN,CAAC,CAAC,CAAC;IACL,CAAC;IACD;;;;;;;;;;;;;;;;;;;;QAoBI;IAEJ,UAAU;QACR,IAAI,OAAO,GAAG,uBAAuB,CAAC;QACtC,IAAI,QAAQ,GAAG,SAAS,CAAC;QACzB,OAAO,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,GAAG,QAAQ,CAAC;QAC7C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAO,OAAO,EAAE;YAClC,OAAO,EAAE,UAAU;YACnB,YAAY,EAAE,MAAgB;SAC/B,CAAC,CAAC;IACL,CAAC;;0FAxJU,qBAAqB;sHAArB,qBAAqB,WAArB,qBAAqB,mBAFpB,MAAM","sources":["./src/app/administracion/administracion-routing.module.ts","./src/app/administracion/administracion.component.ts","./src/app/administracion/administracion.component.html","./src/app/administracion/administracion.module.ts","./src/app/administracion/components/popup-promo/popup-promo.component.ts","./src/app/administracion/components/popup-promo/popup-promo.component.html","./src/app/administracion/services/administracion.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AdministracionComponent } from './administracion.component';\r\n\r\nconst routes: Routes = [{ path: '', component: AdministracionComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AdministracionRoutingModule { }\r\n","import { HttpResponse } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AdministracionService } from './services/administracion.service';\r\n@Component({\r\n  selector: 'app-administracion',\r\n  templateUrl: './administracion.component.html',\r\n  styleUrls: ['./administracion.component.scss'],\r\n})\r\nexport class AdministracionComponent implements OnInit {\r\n  codigos: any = [];\r\n  showPromo: boolean = false;\r\n  constructor(private administracionService: AdministracionService) {}\r\n\r\n  async ngOnInit() {\r\n    this.showPromo = await this.administracionService.getStatus();\r\n    //this.codigos = (await this.administracionService.obtenerCodigos() as any).values\r\n  }\r\n\r\n  async imagenesSeleccionadas() {\r\n    const myFiles: any = (document.querySelector('#file') as any)!.files;\r\n    const formData = new FormData();\r\n    if (!Object.keys(myFiles).length) return;\r\n    Object.keys(myFiles).forEach((key) => {\r\n      formData.append(myFiles.item(key).name, myFiles.item(key));\r\n    });\r\n\r\n    const response = await this.administracionService.cargarImagenes(formData);\r\n  }\r\n  async generarTxt() {\r\n    this.codigos = this.administracionService.obtenerTxt().subscribe(\r\n      (data: HttpResponse<Blob>) => {\r\n        var fileName = '';\r\n        const contentDisposition = data.headers.get('Content-Disposition');\r\n        if (contentDisposition) {\r\n          const fileNameRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\r\n          const matches = fileNameRegex.exec(contentDisposition);\r\n          if (matches != null && matches[1]) {\r\n            fileName = matches[1].replace(/['\"]/g, '');\r\n          }\r\n        }\r\n\r\n        const blob = new Blob([data.body!], { type: 'text/txt' });\r\n        const element = document.createElement('a');\r\n\r\n        element.href = URL.createObjectURL(blob);\r\n        element.download = fileName;\r\n        element.click();\r\n      },\r\n      (error: any) => {\r\n        throw new Error(error.error.message);\r\n      }\r\n    );\r\n  }\r\n  async changePopup() {\r\n    await this.administracionService.setStatus(this.showPromo);\r\n  }\r\n}\r\n","<div class=\"containerBox\">\r\n  <mat-slide-toggle [(ngModel)]=\"showPromo\" (change)=\"changePopup()\"\r\n    >Habilitar popup</mat-slide-toggle\r\n  >\r\n  <button type=\"button\" mat-raised-button (click)=\"fileInput.click()\">\r\n    Escoja la(s) imagen(es) del popup\r\n  </button>\r\n  <input\r\n    hidden\r\n    (change)=\"imagenesSeleccionadas()\"\r\n    accept=\"image/*\"\r\n    multiple\r\n    #fileInput\r\n    type=\"file\"\r\n    id=\"file\"\r\n  />\r\n  <button (click)=\"generarTxt()\">Generar archivo de codigos</button>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AdministracionRoutingModule } from './administracion-routing.module';\r\nimport { AdministracionComponent } from './administracion.component';\r\nimport { PopupPromoComponent } from './components/popup-promo/popup-promo.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [AdministracionComponent, PopupPromoComponent],\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    MatSlideToggleModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    SharedModule,\r\n    AdministracionRoutingModule,\r\n  ],\r\n})\r\nexport class AdministracionModule {}\r\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\nimport { AdministracionService } from '../../services/administracion.service';\r\n\r\n@Component({\r\n  selector: 'app-popup-promo',\r\n  templateUrl: './popup-promo.component.html',\r\n  styleUrls: ['./popup-promo.component.scss'],\r\n})\r\nexport class PopupPromoComponent implements OnInit {\r\n  @Output() closePromo = new EventEmitter();\r\n  bannerLink: string = '';\r\n  constructor(private administracionService: AdministracionService) {}\r\n\r\n  async ngOnInit() {\r\n    this.bannerLink = await this.administracionService.getBannerLink();\r\n  }\r\n  close() {\r\n    this.closePromo.emit();\r\n  }\r\n}\r\n","<div class=\"blackBox\" (click)=\"close()\"></div>\r\n<div id=\"myModal\" floatingItem class=\"modal fade\" tabindex=\"-1\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-header\">\r\n      <button class=\"close\" aria-label=\"Close\" (click)=\"close()\"></button>\r\n    </div>\r\n\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <a\r\n          target=\"_parent\"\r\n          href=\"https://www.loteria.com.ec/#/loteria/compra_tus_juegos\"\r\n        >\r\n          <img src=\"assets/aviso.jpeg\" class=\"Desktop\" (click)=\"close()\" />\r\n        </a>\r\n        <a\r\n          target=\"_parent\"\r\n          href=\"https://www.loteria.com.ec/#/loteria/compra_tus_juegos\"\r\n        >\r\n          <img\r\n            src=\"assets/aviso.jpeg\"\r\n            style=\"max-width: 100%\"\r\n            class=\"Ipad\"\r\n            (click)=\"close()\"\r\n          />\r\n        </a>\r\n        <a\r\n          target=\"_parent\"\r\n          href=\"https://www.loteria.com.ec/#/loteria/compra_tus_juegos\"\r\n        >\r\n          <img src=\"assets/aviso.jpeg\" (click)=\"close()\" class=\"Mobile\" />\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpClient,\r\n  HttpHeaders,\r\n  HttpParams,\r\n  HttpResponse,\r\n} from '@angular/common/http';\r\nimport { Observable } from 'rxjs/internal/Observable';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AdministracionService {\r\n  mySource = environment.source;\r\n\r\n  constructor(private http: HttpClient) {}\r\n  getBannerLink() {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    //let endpoint = \"/inquiry\";\r\n\r\n    let address = '/administracion';\r\n    let endpoint = '/files';\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.http\r\n        .get(address, {\r\n          headers: headers,\r\n        })\r\n        .subscribe(\r\n          (data: any) => {\r\n            resolve(data);\r\n          },\r\n          (error: any) => {\r\n            reject(new Error(error.error.message));\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  obtenerCodigos() {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    //let endpoint = \"/inquiry\";\r\n\r\n    let address = '/codigosPromocionales';\r\n    let endpoint = '/getCodeCsv';\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.http\r\n        .get(address, {\r\n          headers: headers,\r\n        })\r\n        .subscribe(\r\n          (data: any) => {\r\n            resolve(data);\r\n          },\r\n          (error: any) => {\r\n            reject(new Error(error.error.message));\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  getStatus() {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    //let endpoint = \"/inquiry\";\r\n\r\n    let address = '/codigosPromocionales';\r\n    let endpoint = '/status';\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.http\r\n        .get(address, {\r\n          headers: headers,\r\n        })\r\n        .subscribe(\r\n          (data: any) => {\r\n            resolve(data);\r\n          },\r\n          (error: any) => {\r\n            reject(new Error(error.error.message));\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  setStatus(showPromo: boolean) {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    //let endpoint = \"/inquiry\";\r\n\r\n    let address = '/codigosPromocionales';\r\n    let endpoint = '/status';\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<any>((resolve, reject) => {\r\n      let body = { showPromo };\r\n      this.http\r\n        .post(address, body, {\r\n          headers: headers,\r\n        })\r\n        .subscribe(\r\n          (data: any) => {\r\n            resolve(data);\r\n          },\r\n          (error: any) => {\r\n            reject(new Error(error.error.message));\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  cargarImagenes(formData: any) {\r\n    let headers = new HttpHeaders();\r\n\r\n    let address = '/codigosPromocionales';\r\n    let endpoint = '/files';\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.http\r\n        .post(address, formData, {\r\n          headers: headers,\r\n        })\r\n        .subscribe(\r\n          (data: any) => {\r\n            resolve(data);\r\n          },\r\n          (error: any) => {\r\n            reject(new Error(error.error.message));\r\n          }\r\n        );\r\n    });\r\n  }\r\n  /*   obtenerTxt() {\r\n    let address = \"\";\r\n    let endpoint = \"/getTxt\";\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.http\r\n        .get<Blob>(address, {\r\n          observe: \"response\",\r\n          responseType: \"blob\" as \"json\",\r\n        })\r\n        .subscribe(\r\n          (data: HttpResponse<Blob>) => {\r\n            let contentDisposition = data.headers.get(\"content-disposition\");\r\n            resolve(data.body);\r\n          },\r\n          (error: any) => {\r\n            reject(new Error(error.error.message));\r\n          }\r\n        );\r\n    });\r\n  } */\r\n\r\n  obtenerTxt(): Observable<HttpResponse<Blob>> {\r\n    let address = '/codigosPromocionales';\r\n    let endpoint = '/getTxt';\r\n    address = this.mySource + address + endpoint;\r\n    return this.http.get<Blob>(address, {\r\n      observe: 'response',\r\n      responseType: 'blob' as 'json',\r\n    });\r\n  }\r\n}\r\n"],"names":["AdministracionComponent","constructor","administracionService","ngOnInit","showPromo","getStatus","imagenesSeleccionadas","myFiles","document","querySelector","files","formData","FormData","Object","keys","length","forEach","key","append","item","name","response","cargarImagenes","generarTxt","codigos","obtenerTxt","subscribe","data","fileName","contentDisposition","headers","get","fileNameRegex","matches","exec","replace","blob","Blob","body","type","element","createElement","href","URL","createObjectURL","download","click","error","Error","message","changePopup","setStatus","i0","selectors","decls","vars","consts","template","ctx","_r0","EventEmitter","PopupPromoComponent","bannerLink","getBannerLink","close","closePromo","emit","outputs"],"sourceRoot":"webpack:///"}
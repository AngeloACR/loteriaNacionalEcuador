{"version":3,"file":"src_app_administracion_administracion_module_ts.js","mappings":"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","sources":["./src/app/administracion/administracion-routing.module.ts","./src/app/administracion/administracion.component.html","./src/app/administracion/administracion.component.ts","./src/app/administracion/administracion.module.ts","./src/app/administracion/components/popup-promo/popup-promo.component.ts","./src/app/administracion/components/popup-promo/popup-promo.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AdministracionComponent } from './administracion.component';\r\n\r\nconst routes: Routes = [{ path: '', component: AdministracionComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AdministracionRoutingModule { }\r\n","<div class=\"containerBox\">\r\n  <mat-slide-toggle [(ngModel)]=\"status\" (change)=\"changePopupStatus()\"\r\n    >Habilitar popup</mat-slide-toggle\r\n  >\r\n  <div>\r\n    Mostrar imagenes mixtas\r\n    <mat-slide-toggle\r\n      [(ngModel)]=\"type\"\r\n      (change)=\"changePopupType()\"\r\n    ></mat-slide-toggle>\r\n    Mostrar imagen fija\r\n  </div>\r\n  <button type=\"button\" mat-raised-button (click)=\"fileInput.click()\">\r\n    Escoja la(s) imagen(es) del popup\r\n  </button>\r\n  <input\r\n    hidden\r\n    (change)=\"imagenesSeleccionadas()\"\r\n    accept=\"image/*\"\r\n    multiple\r\n    #fileInput\r\n    type=\"file\"\r\n    id=\"file\"\r\n  />\r\n  <div id=\"fileList\">\r\n    <p *ngIf=\"type\">Seleccione la imagen principal del popup</p>\r\n    <p *ngIf=\"!type\">\r\n      Listado de imágenes que aparecerán de forma aleatoria en el popup\r\n    </p>\r\n    <img *ngFor=\"let file of files\" [src]=\"file\" alt=\"\" />\r\n  </div>\r\n</div>\r\n","import { HttpResponse } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AdministracionService } from './services/administracion.service';\r\n@Component({\r\n  selector: 'app-administracion',\r\n  templateUrl: './administracion.component.html',\r\n  styleUrls: ['./administracion.component.scss'],\r\n})\r\nexport class AdministracionComponent implements OnInit {\r\n  codigos: any = [];\r\n  files: any = [];\r\n  image: any = [];\r\n  status: boolean = false;\r\n  type: boolean = false;\r\n  constructor(private administracionService: AdministracionService) {}\r\n\r\n  async ngOnInit() {\r\n    this.status = await this.administracionService.getPopupStatus();\r\n    this.type = await this.administracionService.getPopupType();\r\n    await this.getFiles();\r\n  }\r\n\r\n  async deleteImage(image: string) {\r\n    let response = await this.deleteImage(image);\r\n    console.log(response);\r\n  }\r\n  async getFiles() {\r\n    this.files = await this.administracionService.getPopupFiles();\r\n  }\r\n  async setImage(image: string) {\r\n    let response = await this.setImage(image);\r\n    console.log(response);\r\n  }\r\n\r\n  async imagenesSeleccionadas() {\r\n    const myFiles: any = (document.querySelector('#file') as any)!.files;\r\n    const formData = new FormData();\r\n    if (!Object.keys(myFiles).length) return;\r\n    Object.keys(myFiles).forEach((key) => {\r\n      formData.append(myFiles.item(key).name, myFiles.item(key));\r\n    });\r\n\r\n    const response = await this.administracionService.cargarImagenes(formData);\r\n  }\r\n\r\n  async changePopupStatus() {\r\n    await this.administracionService.setPopupStatus(this.status);\r\n  }\r\n  async changePopupType() {\r\n    await this.administracionService.setPopupType(this.type);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AdministracionRoutingModule } from './administracion-routing.module';\r\nimport { AdministracionComponent } from './administracion.component';\r\nimport { PopupPromoComponent } from './components/popup-promo/popup-promo.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [AdministracionComponent, PopupPromoComponent],\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    MatSlideToggleModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    SharedModule,\r\n    AdministracionRoutingModule,\r\n  ],\r\n})\r\nexport class AdministracionModule {}\r\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\nimport { AdministracionService } from '../../services/administracion.service';\r\n\r\n@Component({\r\n  selector: 'public-popup',\r\n  templateUrl: './popup-promo.component.html',\r\n  styleUrls: ['./popup-promo.component.scss'],\r\n})\r\nexport class PopupPromoComponent implements OnInit {\r\n  @Output() closePromo = new EventEmitter();\r\n  bannerLink: string = '';\r\n  constructor(private administracionService: AdministracionService) {}\r\n\r\n  async ngOnInit() {\r\n    this.bannerLink = await this.administracionService.getBannerLink();\r\n  }\r\n  close() {\r\n    this.closePromo.emit();\r\n  }\r\n}\r\n","<div class=\"blackBox\" (click)=\"close()\"></div>\r\n<div id=\"myModal\" floatingItem class=\"modal fade\" tabindex=\"-1\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-header\">\r\n      <button class=\"close\" aria-label=\"Close\" (click)=\"close()\"></button>\r\n    </div>\r\n\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <a target=\"_parent\">\r\n          <img src=\"assets/popupPozo.gif\" class=\"Desktop\" (click)=\"close()\" />\r\n        </a>\r\n        <a target=\"_parent\">\r\n          <img\r\n            src=\"assets/popupPozo.gif\"\r\n            style=\"max-width: 100%\"\r\n            class=\"Ipad\"\r\n            (click)=\"close()\"\r\n          />\r\n        </a>\r\n        <a target=\"_parent\">\r\n          <img src=\"assets/popupPozo.gif\" (click)=\"close()\" class=\"Mobile\" />\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"names":["i0","AdministracionComponent","constructor","administracionService","ngOnInit","status","getPopupStatus","type","getPopupType","getFiles","deleteImage","image","response","console","log","files","getPopupFiles","setImage","imagenesSeleccionadas","myFiles","document","querySelector","formData","FormData","Object","keys","length","forEach","key","append","item","name","cargarImagenes","changePopupStatus","setPopupStatus","changePopupType","setPopupType","selectors","decls","vars","consts","template","ctx","_r0","EventEmitter","PopupPromoComponent","bannerLink","getBannerLink","close","closePromo","emit","outputs"],"sourceRoot":"webpack:///"}
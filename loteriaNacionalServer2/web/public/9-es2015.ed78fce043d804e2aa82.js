(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Z8MR:function(o,n,t){"use strict";t.r(n);var e=t("8Y7J");class r{}var c=t("pMnS"),s=t("mrSG"),i=t("IheW");let l=(()=>{class o{constructor(o){this.http=o,this.localSource="http://localhost:100",this.testSource="https://ventas-api-prueba.loteria.com.ec",this.productionSource="https://ventas-api.loteria.com.ec",this.mySource=this.productionSource}obtenerCodigos(){let o=new i.g;o=o.append("Content-Type","application/json");let n="/codigosPromocionales";return n=this.mySource+n+"/getCodCsv",new Promise((t,e)=>{this.http.get(n,{headers:o}).subscribe(o=>{t(o)},o=>{e(new Error(o.error.message))})})}obtenerTxt(){let o="/codigosPromocionales";return o=this.mySource+o+"/getTxt",this.http.get(o,{observe:"response",responseType:"blob"})}}return o.ngInjectableDef=e.Qb({factory:function(){return new o(e.Rb(i.c))},token:o,providedIn:"root"}),o})();class u{constructor(o){this.codigosService=o,this.codigos=[]}ngOnInit(){return s.a(this,void 0,void 0,(function*(){}))}generarTxt(){return s.a(this,void 0,void 0,(function*(){this.codigos=this.codigosService.obtenerTxt().subscribe(o=>{var n="";const t=o.headers.get("Content-Disposition");if(t){const o=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t);null!=o&&o[1]&&(n=o[1].replace(/['"]/g,""))}const e=new Blob([o.body],{type:"text/txt"}),r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=n,r.click()},o=>{throw new Error(o.error.message)})}))}}var a=e.pb({encapsulation:0,styles:[['button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:40px;height:30px;padding:5px 50px;outline:0;font-family:"Monstserrat SemiBold";color:#fff;font-size:12px;cursor:pointer;transition:background-color .5s ease;background-color:#2f72b9;border:1px solid #2f72b9}button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#2f72b9;transition:background-color .5s ease}']],data:{}});function b(o){return e.Mb(0,[(o()(),e.rb(0,0,null,null,1,"button",[],null,[[null,"click"]],(function(o,n,t){var e=!0;return"click"===n&&(e=!1!==o.component.generarTxt()&&e),e}),null,null)),(o()(),e.Kb(-1,null,["Generar archivo de codigos"]))],null,null)}function p(o){return e.Mb(0,[(o()(),e.rb(0,0,null,null,1,"app-codigos-promocionales",[],null,null,null,b,a)),e.qb(1,114688,null,0,u,[l],null,null)],(function(o,n){o(n,1,0)}),null)}var d=e.nb("app-codigos-promocionales",u,p,{},{},[]),h=t("SVse"),f=t("iInd");class g{}t.d(n,"CodigosPromocionalesModuleNgFactory",(function(){return m}));var m=e.ob(r,[],(function(o){return e.Ab([e.Bb(512,e.j,e.Z,[[8,[c.a,d]],[3,e.j],e.v]),e.Bb(4608,h.m,h.l,[e.s,[2,h.y]]),e.Bb(4608,i.i,i.o,[h.d,e.z,i.m]),e.Bb(4608,i.p,i.p,[i.i,i.n]),e.Bb(5120,i.a,(function(o){return[o]}),[i.p]),e.Bb(4608,i.l,i.l,[]),e.Bb(6144,i.j,null,[i.l]),e.Bb(4608,i.h,i.h,[i.j]),e.Bb(6144,i.b,null,[i.h]),e.Bb(4608,i.f,i.k,[i.b,e.p]),e.Bb(4608,i.c,i.c,[i.f]),e.Bb(1073742336,h.c,h.c,[]),e.Bb(1073742336,i.e,i.e,[]),e.Bb(1073742336,i.d,i.d,[]),e.Bb(1073742336,f.r,f.r,[[2,f.w],[2,f.n]]),e.Bb(1073742336,g,g,[]),e.Bb(1073742336,r,r,[]),e.Bb(256,i.m,"XSRF-TOKEN",[]),e.Bb(256,i.n,"X-XSRF-TOKEN",[]),e.Bb(1024,f.l,(function(){return[[{path:"",component:u}]]}),[])])}))}}]);
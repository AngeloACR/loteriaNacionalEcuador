{"version":3,"file":"default-src_app_ventas_ventas_module_ts.js","mappings":"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","sources":["./src/app/juegos/loteria/services/venta.service.ts","./src/app/juegos/millonaria/services/venta.service.ts","./src/app/ventas/components/boton-de-juego/boton-de-juego.component.ts","./src/app/ventas/components/boton-de-juego/boton-de-juego.component.html","./src/app/ventas/components/carrito/carrito.component.ts","./src/app/ventas/components/carrito/carrito.component.html","./src/app/ventas/components/confirmacion-de-venta/confirmacion-de-venta.component.ts","./src/app/ventas/components/confirmacion-de-venta/confirmacion-de-venta.component.html","./src/app/ventas/components/descripcion-de-venta/descripcion-de-venta.component.ts","./src/app/ventas/components/descripcion-de-venta/descripcion-de-venta.component.html","./src/app/ventas/components/detalle-sorteo/detalle-sorteo.component.ts","./src/app/ventas/components/detalle-sorteo/detalle-sorteo.component.html","./src/app/ventas/components/floating-menu/floating-menu.component.ts","./src/app/ventas/components/floating-menu/floating-menu.component.html","./src/app/ventas/components/instantanea/instantanea.component.ts","./src/app/ventas/components/instantanea/instantanea.component.html","./src/app/ventas/components/instantaneas/instantaneas.component.ts","./src/app/ventas/components/instantaneas/instantaneas.component.html","./src/app/ventas/components/menu-box/menu-box.component.html","./src/app/ventas/components/menu-box/menu-box.component.ts","./src/app/ventas/components/menu-header/menu-header.component.ts","./src/app/ventas/components/menu-header/menu-header.component.html","./src/app/ventas/components/saldo-insuficiente/saldo-insuficiente.component.ts","./src/app/ventas/components/saldo-insuficiente/saldo-insuficiente.component.html","./src/app/ventas/components/venta-cancelada/venta-cancelada.component.ts","./src/app/ventas/components/venta-cancelada/venta-cancelada.component.html","./src/app/ventas/components/venta-finalizada/venta-finalizada.component.ts","./src/app/ventas/components/venta-finalizada/venta-finalizada.component.html","./src/app/ventas/containers/detalle-de-venta/detalle-de-venta.component.html","./src/app/ventas/containers/detalle-de-venta/detalle-de-venta.component.ts","./src/app/ventas/containers/home/home.component.ts","./src/app/ventas/containers/home/home.component.html","./src/app/ventas/containers/loteria/loteria.component.html","./src/app/ventas/containers/loteria/loteria.component.ts","./src/app/ventas/containers/lotto/lotto.component.html","./src/app/ventas/containers/lotto/lotto.component.ts","./src/app/ventas/containers/millonaria/millonaria.component.html","./src/app/ventas/containers/millonaria/millonaria.component.ts","./src/app/ventas/containers/pozo/pozo.component.html","./src/app/ventas/containers/pozo/pozo.component.ts","./src/app/ventas/services/carrito.service.ts","./src/app/ventas/services/pagos.service.ts","./src/app/ventas/services/ventas.service.ts","./src/app/ventas/ventas-routing.module.ts","./src/app/ventas/ventas.component.ts","./src/app/ventas/ventas.component.html","./src/app/ventas/ventas.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { sorteo } from '../interfaces/sorteo';\r\nimport { ticketsVenta } from '../interfaces/ticket-venta';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class VentaService {\r\n  mySource = environment.source\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  obtenerSorteo(authData: any) {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let address = '/loteria';\r\n    let endpoint = `/cache/sorteosDisponibles`;\r\n    address = this.mySource + address + endpoint;\r\n\r\n    return new Promise<Array<sorteo>>((resolve, reject) => {\r\n      this.http\r\n        .get(address, {\r\n          params: {\r\n            lotteryToken: authData.lotteryToken,\r\n            user: authData.user,\r\n          },\r\n          headers: headers,\r\n        })\r\n        .subscribe(\r\n          (data: any) => {\r\n            let sorteosDisponibles: Array<sorteo> = data;\r\n            sorteosDisponibles.sort(this.ordenaSorteos);\r\n            resolve(sorteosDisponibles);\r\n          },\r\n          (error: any) => {\r\n            reject(new Error(error.error.message));\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  ordenaSorteos(a: any, b: any) {\r\n    let a1 = a['sorteo'];\r\n    let b1 = b['sorteo'];\r\n    return a1 - b1;\r\n  }\r\n\r\n  obtenerTickets(\r\n    sorteo: any,\r\n    combinacion: any,\r\n    combinacionFigura: any,\r\n    tipoSeleccion: any,\r\n    authData: any\r\n  ): Promise<any> {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let endpoint = '';\r\n    let body = {\r\n      sorteo,\r\n      lotteryToken: authData.lotteryToken,\r\n      user: authData.user,\r\n      combinacion,\r\n      combinacionFigura,\r\n      tipoSeleccion,\r\n    };\r\n    endpoint = `${endpoint}/combinacionesDisponibles`;\r\n    let address = '/loteria';\r\n\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<Array<ticketsVenta>>((resolve, reject) => {\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          let combinacionesDisponibles: Array<ticketsVenta> =\r\n            data.combinaciones;\r\n          resolve(combinacionesDisponibles);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { sorteo } from '../interfaces/sorteo';\r\nimport { ticketsVenta } from '../interfaces/ticket-venta';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class VentaService {\r\n  mySource = environment.source\r\n\r\n  constructor(private http: HttpClient) {}\r\n  obtenerSorteo(authData: any) {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    //let endpoint = \"/inquiry\";\r\n    let endpoint = `/cache/sorteosDisponibles`;\r\n    let address = '/millonaria';\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<Array<sorteo>>((resolve, reject) => {\r\n      this.http\r\n        .get(address, {\r\n          params: {\r\n            lotteryToken: authData.lotteryToken,\r\n            user: authData.user,\r\n          },\r\n          headers: headers,\r\n        })\r\n        .subscribe(\r\n          (data: any) => {\r\n            let sorteosDisponibles: Array<sorteo> = data;\r\n            sorteosDisponibles.sort(this.ordenaSorteos);\r\n            resolve(sorteosDisponibles);\r\n          },\r\n          (error: any) => {\r\n            reject(new Error(error.error.message));\r\n          }\r\n        );\r\n    });\r\n  }\r\n  obtenerSeries(sorteo: any, authData: any) {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let endpoint = '/getSeries';\r\n    let address = '/millonaria';\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<Array<any>>((resolve, reject) => {\r\n      this.http\r\n        .get(address, {\r\n          params: {\r\n            lotteryToken: authData.lotteryToken,\r\n            user: authData.user,\r\n            sorteo,\r\n          },\r\n          headers: headers,\r\n        })\r\n        .subscribe(\r\n          (data: any) => {\r\n            let aux = data.map((element: any) => {\r\n              return {\r\n                serie: element,\r\n                status: false,\r\n              };\r\n            });\r\n            resolve(aux);\r\n          },\r\n          (error: any) => {\r\n            reject(new Error(error.error.message));\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  ordenaSorteos(a: any, b: any) {\r\n    let a1 = a['sorteo'];\r\n    let b1 = b['sorteo'];\r\n    return a1 - b1;\r\n  }\r\n\r\n  obtenerTickets(\r\n    sorteo: any,\r\n    combinacion: any,\r\n    combinacionFigura: any,\r\n    tipoSeleccion: any,\r\n    authData: any\r\n  ): Promise<any> {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let endpoint = '';\r\n    let body = {\r\n      sorteo,\r\n      lotteryToken: authData.lotteryToken,\r\n      user: authData.user,\r\n      combinacion,\r\n      combinacionFigura,\r\n      tipoSeleccion,\r\n    };\r\n    endpoint = `${endpoint}/combinacionesDisponibles`;\r\n    let address = '/millonaria';\r\n\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<Array<ticketsVenta>>((resolve, reject) => {\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          let combinacionesDisponibles: Array<ticketsVenta> =\r\n            data.combinaciones;\r\n          resolve(combinacionesDisponibles);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-boton-de-juego',\r\n  templateUrl: './boton-de-juego.component.html',\r\n  styleUrls: ['./boton-de-juego.component.scss'],\r\n})\r\nexport class BotonDeJuegoComponent implements OnInit {\r\n  @Input() image?: String;\r\n  @Input() link?: String;\r\n  @Input() name?: String;\r\n  @Input() loteria?: String;\r\n  @Input() token?: String;\r\n  @Output() authError = new EventEmitter();\r\n  tipoLoteria: any;\r\n  constructor() {}\r\n\r\n  ngOnInit() {\r\n    switch (this.name) {\r\n      case 'loteria':\r\n        this.tipoLoteria = {\r\n          loteria: true,\r\n        };\r\n        break;\r\n      case 'lotto':\r\n        this.tipoLoteria = {\r\n          lotto: true,\r\n        };\r\n        break;\r\n\r\n      case 'pozo':\r\n        this.tipoLoteria = {\r\n          pozo: true,\r\n        };\r\n        break;\r\n\r\n      default:\r\n        this.tipoLoteria = {\r\n          millonaria: true,\r\n        };\r\n        break;\r\n    }\r\n  }\r\n  checkToken(e: any) {\r\n    if (!this.token) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      this.authError.emit();\r\n      return;\r\n    }\r\n  }\r\n}\r\n","<a\r\n  class=\"lotteryBox\"\r\n  [href]=\"link\"\r\n  [ngClass]=\"name!\"\r\n  [ngClass]=\"tipoLoteria!\"\r\n  (click)=\"checkToken($event)\"\r\n>\r\n  <img class=\"lotteryImg\" [src]=\"image\" alt=\"\" />\r\n  Jugar\r\n</a>\r\n\r\n","import { Component, OnInit, Input, EventEmitter, Output } from \"@angular/core\";\r\nimport { CarritoService } from \"../../services/carrito.service\";\r\n\r\n@Component({\r\n  selector: 'app-carrito',\r\n  templateUrl: './carrito.component.html',\r\n  styleUrls: ['./carrito.component.scss']\r\n})\r\nexport class CarritoComponent implements OnInit {\r\n  @Input() logo?: String;\r\n  @Input() ticketsLoteria: any;\r\n  @Input() ticketsLotto: any;\r\n  @Input() ticketsPozo: any;\r\n  @Input() ticketsMillonaria: any;\r\n  @Input() tickets: any;\r\n  @Input() tipoLoteria?: string;\r\n  @Input() isResumen: boolean = false;\r\n  @Output() emitirCompra = new EventEmitter();\r\n  @Output() eliminarTodo = new EventEmitter();\r\n  @Output() deleteLoteriaTicket = new EventEmitter();\r\n  @Output() deleteLoteriaFraccion = new EventEmitter();\r\n  @Output() deleteMillonariaFraccion = new EventEmitter();\r\n  @Output() deleteLottoTicket = new EventEmitter();\r\n  @Output() deletePozoTicket = new EventEmitter();\r\n  @Output() deleteMillonariaTicket = new EventEmitter();\r\n\r\n  isLoteriaNacional: boolean = false;\r\n  isLotto: boolean = false;\r\n  isPozoMillonario: boolean = false;\r\n  isLaMillonaria: boolean = false;\r\n  logoPath?: string;\r\n  total: any;\r\n  totalConDesc: any;\r\n  seleccionadosCarrito: any;\r\n  constructor(private cart: CarritoService) {}\r\n\r\n  comprar() {\r\n    this.emitirCompra.emit();\r\n  }\r\n  eliminar() {\r\n    this.eliminarTodo.emit();\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.seleccionadosCarrito = this.cart.ticketsCarrito;\r\n    //this.seleccionadosCarrito = (await this.cart.getCarrito()).carrito\r\n    this.seleccionadosCarrito =\r\n      this.seleccionadosCarrito.length != 0\r\n        ? this.seleccionadosCarrito.reverse()\r\n        : [];\r\n    //this.seleccionadosCarrito = this.seleccionadosCarrito? this.seleccionadosCarrito.reverse(): [];\r\n    switch (this.tipoLoteria) {\r\n      case \"loteria\":\r\n        this.isLoteriaNacional = true;\r\n        this.logoPath = \"assets/img/loteria-carrito.svg\";\r\n        break;\r\n      case \"lotto\":\r\n        this.isLotto = true;\r\n        this.logoPath = \"assets/img/lotto-carrito.svg\";\r\n        break;\r\n      case \"pozo\":\r\n        this.isPozoMillonario = true;\r\n        this.logoPath = \"assets/img/pozo-carrito.svg\";\r\n        break;\r\n\r\n      case \"millonaria\":\r\n        this.isLaMillonaria = true;\r\n        this.logoPath = \"assets/img/lotto-carrito.svg\";\r\n        break;\r\n    }\r\n    this.getTotal();\r\n  }\r\n\r\n  hasDiscount(total: string) {\r\n    return parseInt(total.replace(\"$\", \"\"));\r\n  }\r\n\r\n  async ngDoCheck() {\r\n    //this.seleccionadosCarrito = (await this.cart.getCarrito()).carrito\r\n    this.seleccionadosCarrito = this.cart.getCarritoLocal();\r\n    this.seleccionadosCarrito =\r\n      this.seleccionadosCarrito.length != 0\r\n        ? this.seleccionadosCarrito.reverse()\r\n        : [];\r\n    //await this.cart.setTotal();\r\n    this.getTotal();\r\n  }\r\n\r\n  checkTicketsLoteria() {\r\n    if (this.ticketsLoteria) {\r\n      return Object.keys(this.ticketsLoteria).length != 0;\r\n    } else return false\r\n  }\r\n\r\n  checkTicketsLotto() {\r\n    if (this.ticketsLotto) {\r\n      return Object.keys(this.ticketsLotto).length != 0;\r\n    }else return false\r\n  }\r\n\r\n  checkTicketsPozo() {\r\n    if (this.ticketsPozo) {\r\n      return Object.keys(this.ticketsPozo).length != 0;\r\n    }else return false\r\n  }\r\n\r\n  checkTicketsLaMillonaria() {\r\n    if (this.ticketsMillonaria) {\r\n      return Object.keys(this.ticketsMillonaria).length != 0;\r\n    }else return false\r\n  }\r\n\r\n  deleteLoteria(ticket: any) {\r\n    this.deleteLoteriaTicket.emit(ticket);\r\n  }\r\n\r\n  deleteFraccionLoteria(ticket: any, fraccion: any) {\r\n    let data = {\r\n      ticket,\r\n      fraccion,\r\n    };\r\n    this.deleteLoteriaFraccion.emit(data);\r\n  }\r\n  deleteFraccionMillonaria(ticket: any, fraccion:any) {\r\n    let data = {\r\n      ticket,\r\n      fraccion,\r\n    };\r\n    this.deleteMillonariaFraccion.emit(data);\r\n  }\r\n\r\n  deleteLotto(ticket: any) {\r\n    this.deleteLottoTicket.emit(ticket);\r\n  }\r\n\r\n  deleteMillonaria(ticket: any) {\r\n    this.deleteMillonariaTicket.emit(ticket);\r\n  }\r\n  deletePozo(ticket: any) {\r\n    this.deletePozoTicket.emit(ticket);\r\n  }\r\n\r\n  getTotal() {\r\n    this.total = this.formatNumber(this.cart.getTotal());\r\n    this.totalConDesc = this.formatNumber(this.cart.getTotalConDesc());\r\n  }\r\n  formatNumber(number: any) {\r\n    // Create our number formatter.\r\n    var formatter = new Intl.NumberFormat(\"en-US\", {\r\n      style: \"currency\",\r\n      currency: \"USD\",\r\n\r\n      // These options are needed to round to whole numbers if that's what you want.\r\n      //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\r\n      //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\r\n    });\r\n\r\n    return formatter.format(number);\r\n  }\r\n}\r\n","<div class=\"contenedor_ticket\">\r\n  <div class=\"logo_ticket\">\r\n    <img [src]=\"logoPath\" alt=\"\" />\r\n  </div>\r\n  <div>\r\n    <hr\r\n      size=\"2px\"\r\n      [ngClass]=\"{\r\n        fondoLoteria: isLoteriaNacional,\r\n        fondoLotto: isLotto,\r\n        fondoPozo: isPozoMillonario,\r\n        fondoMillonaria: isLaMillonaria\r\n      }\"\r\n    />\r\n  </div>\r\n  <div\r\n    class=\"detailBox\"\r\n    *ngIf=\"!(seleccionadosCarrito && seleccionadosCarrito.length)\"\r\n  >\r\n    <div class=\"noItem\">\r\n      No hay boletos en tu carrito, escoge tu número de la suerte y empieza a\r\n      ganar con nosotros!\r\n    </div>\r\n  </div>\r\n  <div\r\n    class=\"detailBox\"\r\n    *ngIf=\"seleccionadosCarrito && seleccionadosCarrito.length\"\r\n  >\r\n    <div class=\"scroll\">\r\n      <ng-container *ngFor=\"let item of seleccionadosCarrito; let i = index\">\r\n        <loteria-ticket-ventas\r\n          style=\"width: 100%\"\r\n          *ngIf=\"item.tipoLoteria == 1\"\r\n          (deleteTicket)=\"deleteLoteria(item)\"\r\n          (deleteFraccion)=\"deleteFraccionLoteria(item, $event)\"\r\n          [ticket]=\"item.ticket\"\r\n          [sorteo]=\"item.sorteo\"\r\n        >\r\n        </loteria-ticket-ventas>\r\n        <lotto-ticket-ventas\r\n          style=\"width: 100%\"\r\n          *ngIf=\"item.tipoLoteria == 2\"\r\n          (delete)=\"deleteLotto(item)\"\r\n          [ticket]=\"item.ticket\"\r\n          [sorteo]=\"item.sorteo\"\r\n        >\r\n        </lotto-ticket-ventas>\r\n        <pozo-ticket-ventas\r\n          style=\"width: 100%\"\r\n          *ngIf=\"item.tipoLoteria == 5\"\r\n          (delete)=\"deletePozo(item)\"\r\n          [ticket]=\"item.ticket\"\r\n          [sorteo]=\"item.sorteo\"\r\n        >\r\n        </pozo-ticket-ventas>\r\n        <millonaria-ticket-ventas\r\n          style=\"width: 100%\"\r\n          *ngIf=\"item.tipoLoteria == 14\"\r\n          (deleteTicket)=\"deleteMillonaria(item)\"\r\n          (deleteFraccion)=\"deleteFraccionMillonaria(item, $event)\"\r\n          [ticket]=\"item.ticket\"\r\n          [sorteo]=\"item.sorteo\"\r\n        >\r\n        </millonaria-ticket-ventas>\r\n      </ng-container>\r\n    </div>\r\n  </div>\r\n  <ng-container\r\n    *ngIf=\"\r\n      checkTicketsLoteria() ||\r\n      checkTicketsLotto() ||\r\n      checkTicketsPozo() ||\r\n      checkTicketsLaMillonaria()\r\n    \"\r\n  >\r\n    <div>\r\n      <hr\r\n        size=\"2px\"\r\n        [ngClass]=\"{\r\n          fondoLoteria: isLoteriaNacional,\r\n          fondoLotto: isLotto,\r\n          fondoPozo: isPozoMillonario,\r\n          fondoMillonaria: isLaMillonaria\r\n        }\"\r\n      />\r\n    </div>\r\n    <div class=\"totalsBox\">Total: {{ total }}</div>\r\n    <div *ngIf=\"hasDiscount(totalConDesc)\" class=\"totalsBox\">\r\n      Total con descuento: {{ totalConDesc }}\r\n    </div>\r\n\r\n    <div>\r\n      <hr\r\n        size=\"2px\"\r\n        [ngClass]=\"{\r\n          fondoLoteria: isLoteriaNacional,\r\n          fondoLotto: isLotto,\r\n          fondoPozo: isPozoMillonario,\r\n          fondoMillonaria: isLaMillonaria\r\n        }\"\r\n      />\r\n    </div>\r\n    <div class=\"boton_comprar\">\r\n      <button class=\"botonEliminar\" (click)=\"eliminar()\">BORRAR TODO</button>\r\n      <button\r\n        (click)=\"comprar()\"\r\n        [ngClass]=\"{\r\n          fondoLoteria: isLoteriaNacional,\r\n          fondoLotto: isLotto,\r\n          fondoPozo: isPozoMillonario,\r\n          fondoMillonaria: isLaMillonaria\r\n        }\"\r\n      >\r\n        COMPRAR\r\n      </button>\r\n    </div>\r\n  </ng-container>\r\n</div>\r\n","import { Component, OnInit, Output, EventEmitter, Input } from \"@angular/core\";\r\nimport { VentasService } from \"../../services/ventas.service\";\r\n\r\n@Component({\r\n  selector: 'app-confirmacion-de-venta',\r\n  templateUrl: './confirmacion-de-venta.component.html',\r\n  styleUrls: ['./confirmacion-de-venta.component.scss']\r\n})\r\nexport class ConfirmacionDeVentaComponent implements OnInit {\r\n  @Output() compraConfirmada = new EventEmitter();\r\n  @Output() compraCancelada = new EventEmitter();\r\n  @Output() comprarDespues = new EventEmitter();\r\n  @Input() compra: any;\r\n  user: any;\r\n  constructor(\r\n    private ventas: VentasService,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.user = this.ventas.getAuthData().user\r\n  }\r\n  confirmarCompra() {\r\n    this.compraConfirmada.emit();\r\n  }\r\n\r\n  volver() {\r\n    this.comprarDespues.emit();\r\n  }\r\n\r\n  cancelarCompra() {\r\n    this.compraCancelada.emit(\r\n      \"La compra no se pudo procesar, por favor intente mas tarde\"\r\n    );\r\n  }\r\n}\r\n","<div class=\"blackBox\" (click)=\"volver()\"></div>\r\n<div class=\"paymentBox\">\r\n  <app-descripcion-de-venta\r\n    [compra]=\"compra\"\r\n    [user]=\"user\"\r\n  ></app-descripcion-de-venta>\r\n\r\n  <p>Seguro que deseas efectuar la compra?</p>\r\n  <div class=\"buttonBox\">\r\n    <button class=\"backButton\" (click)=\"volver()\">Volver</button>\r\n    <button class=\"confirmationButton\" (click)=\"confirmarCompra()\">\r\n      Confirmar compra\r\n    </button>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Output, EventEmitter, Input } from \"@angular/core\";\r\nimport {VentaService as PozoService} from '../../../juegos/pozo/services/venta.service'\r\nimport {VentaService as LottoService} from '../../../juegos/lotto/services/venta.service'\r\n\r\n@Component({\r\n  selector: 'app-descripcion-de-venta',\r\n  templateUrl: './descripcion-de-venta.component.html',\r\n  styleUrls: ['./descripcion-de-venta.component.scss']\r\n})\r\nexport class DescripcionDeVentaComponent implements OnInit {\r\n  @Input() compra: any;\r\n  @Input() user: any;\r\n  @Input() ticketId: any;\r\n\r\n  constructor(private pozo: PozoService,private lotto: LottoService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  nombreMascota(mascota: any){\r\n    let mascotaData = this.pozo.obtenerCaracteristicasDeMascota(mascota);\r\n    return mascotaData!.nombre;\r\n  }  \r\n  nombreAntojito(antojito: any){\r\n    let antojitoData = this.lotto.obtenerCaracteristicasDeAntojito(antojito);\r\n    return antojitoData!.nombre;\r\n  }\r\n  formatNumber(number: any){// Create our number formatter.\r\n    var formatter = new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n    \r\n      // These options are needed to round to whole numbers if that's what you want.\r\n      //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\r\n      //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\r\n    });\r\n    \r\n    return formatter.format(number);\r\n  }\r\n}\r\n","<div class=\"titleBox\">\r\n    <p>A continuacion un resumen de tu compra:</p>\r\n  </div>\r\n  <div class=\"containerDetails\">\r\n    <div class=\"containerInfoBox\">\r\n      <div class=\"titleLoteryBox\">\r\n        <h3>\r\n          Usuario: <span>{{ user }}</span>\r\n        </h3>\r\n        <h3 *ngIf=\"ticketId\">\r\n          Número de Orden: <span>{{ ticketId }}</span>\r\n        </h3>\r\n      </div>\r\n    </div>\r\n    <div class=\"containerInfoBox\" *ngIf=\"compra.loteria.length != 0\">\r\n      <div class=\"titleLoteriaBox\">\r\n        <h3>LOTERÍA NACIONAL</h3>\r\n      </div>\r\n      <div *ngFor=\"let item of compra.loteria\" class=\"dateLoteryBox loteria\">\r\n        <div class=\"infoSorteoBox\">\r\n          <p>\r\n            Sorteo: <span>{{ item.sorteo }}</span>\r\n          </p>\r\n          <p>\r\n            Fecha del sorteo: <span>{{ item.fecha }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"dateTicketBox\">\r\n          <p>\r\n            Combinación: <span>{{ item.combinacion1 }}</span>\r\n          </p>\r\n          <p>\r\n            Fracciones seleccionadas:\r\n            <span>{{ item.fracciones.join(\", \") }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"numberBox\">\r\n          <p>\r\n            Cantidad: <span>{{ item.fracciones.length }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"montoBox\">\r\n          <p>\r\n            Total: <span>{{ formatNumber(item.subtotal) }}</span>\r\n          </p>\r\n          <p *ngIf=\"item.tieneDescuento\">\r\n            Total con descuento:\r\n            <span>{{ formatNumber(item.subtotalConDesc) }}</span>\r\n          </p>\r\n        </div>\r\n        <ng-container *ngIf=\"item.hasGanador\">\r\n          <div class=\"ganadorTitleBox loteriaColor\">\r\n            <p>Boleto ganador</p>\r\n          </div>\r\n          <div class=\"ganadorBox\">\r\n            <div class=\"ganadorHeaderBox loteriaBackground\">\r\n              <p class=\"ganadorFraccion\">FRACCIÓN</p>\r\n              <p>VALOR DEL PREMIO</p>\r\n              <p>DESCUENTO 14%</p>\r\n              <p>VALOR DEL PREMIO CON DESCUENTO</p>\r\n              <p>DESCRIPCIÓN DEL PREMIO</p>\r\n            </div>\r\n            <div\r\n              class=\"ganadorDetailsBox\"\r\n              *ngFor=\"let ganador of item.detalleGanador\"\r\n            >\r\n              <p class=\"ganadorFraccion\">{{ ganador.fraccion }}</p>\r\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\r\n              <p>\r\n                {{\r\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\r\n                }}\r\n              </p>\r\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\r\n              <p>{{ ganador.descripcionPremio }}</p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"ganadorBoxMobile\"\r\n            *ngFor=\"let ganador of item.detalleGanador; let i = index\"\r\n          >\r\n            <div class=\"ganadorHeaderBox loteriaBackground\">\r\n              <p>Premio {{ i + 1 }}</p>\r\n            </div>\r\n            <div class=\"ganadorDetailsBox\">\r\n              <p>FRACCIÓN</p>\r\n              <p>{{ ganador.fraccion }}</p>\r\n              <p>VALOR DEL PREMIO</p>\r\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\r\n              <p>DESCUENTO 14%</p>\r\n              <p>\r\n                {{\r\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\r\n                }}\r\n              </p>\r\n              <p>VALOR DEL PREMIO CON DESC.</p>\r\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\r\n              <p>DESCRIPCIÓN DEL PREMIO</p>\r\n              <p>{{ ganador.descripcionPremio }}</p>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  \r\n    <div class=\"containerInfoBox\" *ngIf=\"compra.lotto.length != 0\">\r\n      <div class=\"titleLottoBox\">\r\n        <h3>LOTTO</h3>\r\n      </div>\r\n      <div *ngFor=\"let item of compra.lotto\" class=\"dateLoteryBox lotto\">\r\n        <div class=\"infoSorteoBox\">\r\n          <p>\r\n            Sorteo: <span>{{ item.sorteo }}</span>\r\n          </p>\r\n          <p>\r\n            Fecha del sorteo: <span>{{ item.fecha }}</span>\r\n          </p>\r\n        </div>\r\n        <!--       <div class=\"infoTicketBox\">\r\n        </div> -->\r\n        <div class=\"dateTicketBox\">\r\n          <p>\r\n            Combinación: <span>{{ item.combinacion1 }}</span>\r\n          </p>\r\n          <p>\r\n            LottoPlus: <span>{{ item.combinacion3 }}</span>\r\n          </p>\r\n          <p>\r\n            Lottito: <span>{{ item.combinacion2 }}</span>\r\n          </p>\r\n          <p>\r\n            Nos Vemos Jefe:\r\n            <span>{{ item.combinacion4 }}</span>\r\n          </p>\r\n          <p *ngIf=\"item.combinacion5 && item.combinacion5 != ''\">\r\n            Antojito:\r\n            <span>{{ nombreAntojito(item.combinacion5) }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"numberBox\">\r\n          <p>Cantidad: <span>1</span></p>\r\n        </div>\r\n        <div class=\"montoBox\">\r\n          <p>\r\n            Total: <span>{{ formatNumber(item.subtotal) }}</span>\r\n          </p>\r\n          <p *ngIf=\"item.tieneDescuento\">\r\n            Total con descuento:\r\n            <span>{{ formatNumber(item.subtotalConDesc) }}</span>\r\n          </p>\r\n        </div>\r\n        <ng-container *ngIf=\"item.hasGanador\">\r\n          <div class=\"ganadorTitleBox lottoColor\">\r\n            <p>Boleto ganador</p>\r\n          </div>\r\n          <div class=\"ganadorBox\">\r\n            <div class=\"ganadorHeaderBox lottoBackground\">\r\n              <p>VALOR DEL PREMIO</p>\r\n              <p>DESCUENTO 14%</p>\r\n              <p>VALOR DEL PREMIO CON DESCUENTO</p>\r\n              <p>DESCRIPCIÓN DEL PREMIO</p>\r\n            </div>\r\n            <div\r\n              class=\"ganadorDetailsBox\"\r\n              *ngFor=\"let ganador of item.detalleGanador\"\r\n            >\r\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\r\n              <p>\r\n                {{\r\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\r\n                }}\r\n              </p>\r\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\r\n              <p>{{ ganador.descripcionPremio }}</p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"ganadorBoxMobile\"\r\n            *ngFor=\"let ganador of item.detalleGanador; let i = index\"\r\n          >\r\n            <div class=\"ganadorHeaderBox lottoBackground\">\r\n              <p>Premio {{ i + 1 }}</p>\r\n            </div>\r\n            <div class=\"ganadorDetailsBox\">\r\n              <p>VALOR DEL PREMIO</p>\r\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\r\n              <p>DESCUENTO 14%</p>\r\n              <p>\r\n                {{\r\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\r\n                }}\r\n              </p>\r\n              <p>VALOR DEL PREMIO CON DESC.</p>\r\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\r\n              <p>DESCRIPCIÓN DEL PREMIO</p>\r\n              <p>{{ ganador.descripcionPremio }}</p>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  \r\n    <div class=\"containerInfoBox\" *ngIf=\"compra.pozo.length != 0\">\r\n      <div class=\"titlePozoBox\">\r\n        <h3>POZO MILLONARIO</h3>\r\n      </div>\r\n      <div *ngFor=\"let item of compra.pozo\" class=\"dateLoteryBox pozo\">\r\n        <div class=\"infoSorteoBox\">\r\n          <p>\r\n            Sorteo: <span>{{ item.sorteo }}</span>\r\n          </p>\r\n          <p>\r\n            Fecha del sorteo: <span>{{ item.fecha }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"dateTicketBox\">\r\n          <p>\r\n            Boleto: <span>{{ item.combinacion1 }}</span>\r\n          </p>\r\n          <p>\r\n            Mascota: <span>{{ nombreMascota(item.mascota) }}</span>\r\n          </p>\r\n          <p>\r\n            Combinación:\r\n            <span>{{ item.combinacion2 }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"numberBox\">\r\n          <p>Cantidad: <span>1</span></p>\r\n        </div>\r\n        <div class=\"montoBox\">\r\n          <p>\r\n            Total: <span>{{ formatNumber(item.subtotal) }}</span>\r\n          </p>\r\n          <p *ngIf=\"item.tieneDescuento\">\r\n            Total con descuento:\r\n            <span>{{ formatNumber(item.subtotalConDesc) }}</span>\r\n          </p>\r\n        </div>\r\n        <ng-container *ngIf=\"item.hasGanador\">\r\n          <div class=\"ganadorTitleBox pozoColor\">\r\n            <p>Boleto ganador</p>\r\n          </div>\r\n          <div class=\"ganadorBox\">\r\n            <div class=\"ganadorHeaderBox pozoBackground\">\r\n              <p>VALOR DEL PREMIO</p>\r\n              <p>DESCUENTO 14%</p>\r\n              <p>VALOR DEL PREMIO CON DESCUENTO</p>\r\n              <p>DESCRIPCIÓN DEL PREMIO</p>\r\n            </div>\r\n            <div\r\n              class=\"ganadorDetailsBox\"\r\n              *ngFor=\"let ganador of item.detalleGanador\"\r\n            >\r\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\r\n              <p>\r\n                {{\r\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\r\n                }}\r\n              </p>\r\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\r\n              <p>{{ ganador.descripcionPremio }}</p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"ganadorBoxMobile\"\r\n            *ngFor=\"let ganador of item.detalleGanador; let i = index\"\r\n          >\r\n            <div class=\"ganadorHeaderBox pozoBackground\">\r\n              <p>Premio {{ i + 1 }}</p>\r\n            </div>\r\n            <div class=\"ganadorDetailsBox\">\r\n              <p>VALOR DEL PREMIO</p>\r\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\r\n              <p>DESCUENTO 14%</p>\r\n              <p>\r\n                {{\r\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\r\n                }}\r\n              </p>\r\n              <p>VALOR DEL PREMIO CON DESC.</p>\r\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\r\n              <p>DESCRIPCIÓN DEL PREMIO</p>\r\n              <p>{{ ganador.descripcionPremio }}</p>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  \r\n    <div class=\"containerInfoBox\" *ngIf=\"compra.millonaria.length != 0\">\r\n      <div class=\"titleMillonariaBox\">\r\n        <h3>LA MILLONARIA</h3>\r\n      </div>\r\n      <div\r\n        *ngFor=\"let item of compra.millonaria\"\r\n        class=\"dateLoteryBox millonaria\"\r\n      >\r\n        <div class=\"infoSorteoBox\">\r\n          <p>\r\n            Sorteo: <span>{{ item.sorteo }}</span>\r\n          </p>\r\n          <p>\r\n            Fecha del sorteo: <span>{{ item.fecha }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"dateTicketBox\">\r\n          <p>\r\n            Combinación: <span>{{ item.combinacion1 }}</span>\r\n          </p>\r\n          <p>\r\n            Serie: <span>{{ item.combinacion2 }}</span>\r\n          </p>\r\n  \r\n          <p>\r\n            Fracciones seleccionadas:\r\n            <span>{{ item.fracciones.join(\", \") }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"numberBox\">\r\n          <p>\r\n            Cantidad: <span>{{ item.fracciones.length }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"montoBox\">\r\n          <p>\r\n            Total: <span>{{ formatNumber(item.subtotal) }}</span>\r\n          </p>\r\n          <p *ngIf=\"item.tieneDescuento\">\r\n            Total con descuento:\r\n            <span>{{ formatNumber(item.subtotalConDesc) }}</span>\r\n          </p>\r\n        </div>\r\n        <ng-container *ngIf=\"item.hasGanador\">\r\n          <div class=\"ganadorTitleBox millonariaColor\">\r\n            <p>Boleto ganador</p>\r\n          </div>\r\n          <div class=\"ganadorBox\">\r\n            <div class=\"ganadorHeaderBox millonariaBackground\">\r\n              <p>VALOR DEL PREMIO</p>\r\n              <p>DESCUENTO 14%</p>\r\n              <p>VALOR DEL PREMIO CON DESCUENTO</p>\r\n              <p>DESCRIPCIÓN DEL PREMIO</p>\r\n            </div>\r\n            <div\r\n              class=\"ganadorDetailsBox\"\r\n              *ngFor=\"let ganador of item.detalleGanador\"\r\n            >\r\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\r\n              <p>\r\n                {{\r\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\r\n                }}\r\n              </p>\r\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\r\n              <p>{{ ganador.descripcionPremio }}</p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"ganadorBoxMobile\"\r\n            *ngFor=\"let ganador of item.detalleGanador; let i = index\"\r\n          >\r\n            <div class=\"ganadorHeaderBox millonariaBackground\">\r\n              <p>Premio {{ i + 1 }}</p>\r\n            </div>\r\n            <div class=\"ganadorDetailsBox\">\r\n              <p>VALOR DEL PREMIO</p>\r\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\r\n              <p>DESCUENTO 14%</p>\r\n              <p>\r\n                {{\r\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\r\n                }}\r\n              </p>\r\n              <p>VALOR DEL PREMIO CON DESC.</p>\r\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\r\n              <p>DESCRIPCIÓN DEL PREMIO</p>\r\n              <p>{{ ganador.descripcionPremio }}</p>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  \r\n    <div class=\"totalBox\">\r\n      <p>\r\n        Total: <span *ngIf=\"compra.amount\">{{ formatNumber(compra.amount) }}</span\r\n        ><span *ngIf=\"compra.total\">{{ formatNumber(compra.total) }}</span>\r\n      </p>\r\n      <p\r\n        *ngIf=\"\r\n          (compra.amountConDesc && compra.amount != compra.amountConDesc) ||\r\n          (compra.totalConDesc && compra.total != compra.totalConDesc)\r\n        \"\r\n      >\r\n        Total con descuento:\r\n        <span *ngIf=\"compra.amountConDesc\">{{\r\n          formatNumber(compra.amountConDesc)\r\n        }}</span\r\n        ><span *ngIf=\"compra.totalConDesc\">{{\r\n          formatNumber(compra.totalConDesc)\r\n        }}</span>\r\n      </p>\r\n    </div>\r\n  </div>\r\n  ","import {\r\n  Component,\r\n  Input,\r\n  OnInit,\r\n  EventEmitter,\r\n  Output,\r\n  ChangeDetectorRef,\r\n} from \"@angular/core\";\r\nimport { sorteo } from \"../../interfaces/venta\"\r\nimport { VentasService } from \"../../services/ventas.service\";\r\n\r\n@Component({\r\n  selector: 'app-detalle-sorteo',\r\n  templateUrl: './detalle-sorteo.component.html',\r\n  styleUrls: ['./detalle-sorteo.component.scss']\r\n})\r\nexport class DetalleSorteoComponent implements OnInit {\r\n  @Input() titulo?: string;\r\n  @Input() color?: string;\r\n  @Input() loteria?: number;\r\n  @Input() sorteos?: Array<sorteo>;\r\n\r\n  @Output() emitir = new EventEmitter<sorteo>();\r\n\r\n  seleccionado?: sorteo;\r\n  boleto?: string;\r\n  fondoLoteria: boolean = true;\r\n  isLoteria: boolean = false;\r\n  fondoLotto: boolean = false;\r\n  fondoPozo: boolean = false;\r\n  imgNotFound: boolean = true;\r\n  tipoLoteria?: number;\r\n  fondoMillonaria: boolean = false;\r\n\r\n  constructor(\r\n    private ventas: VentasService,\r\n    private changeDetectorRef: ChangeDetectorRef\r\n  ) {}\r\n\r\n  getClassColor(color: string) {\r\n    switch (color) {\r\n      case \"loteria\":\r\n        this.tipoLoteria = 1;\r\n        this.fondoLoteria = true;\r\n        this.isLoteria = true;\r\n        this.fondoLotto = false;\r\n        this.fondoMillonaria = false;\r\n        this.fondoPozo = false;\r\n        break;\r\n\r\n      case \"lotto\":\r\n        this.tipoLoteria = 2;\r\n        this.fondoLotto = true;\r\n        this.fondoMillonaria = false;\r\n        this.fondoLoteria = false;\r\n        this.fondoPozo = false;\r\n        break;\r\n\r\n      case \"pozo\":\r\n        this.tipoLoteria = 5;\r\n        this.fondoPozo = true;\r\n        this.fondoLotto = false;\r\n        this.fondoMillonaria = false;\r\n        this.fondoLoteria = false;\r\n        break;\r\n\r\n      case \"millonaria\":\r\n        this.tipoLoteria = 14;\r\n        this.isLoteria = true;\r\n\r\n        this.fondoMillonaria = true;\r\n        this.fondoPozo = false;\r\n        this.fondoLotto = false;\r\n        this.fondoLoteria = false;\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleImgError() {\r\n    this.imgNotFound = true;\r\n  }\r\n\r\n  async onEmitir() {\r\n    this.changeDetectorRef.detectChanges();\r\n    this.boleto = \"\";\r\n    this.fecha = (this.seleccionado as sorteo).fecha.split(\" \")[0];\r\n    this.hora = (this.seleccionado as sorteo).fecha.split(\" \")[1];\r\n    let auxPremio = (this.seleccionado as sorteo).valorPremioPrincipal;\r\n    let premio = parseFloat(auxPremio).toFixed(2);\r\n    let precio = parseFloat((this.seleccionado as sorteo).precio).toFixed(2);\r\n    this.cantidadDeFracciones = (\r\n      this.seleccionado as sorteo\r\n    ).cantidadDeFracciones;\r\n    let auxPremioLoteria = parseInt(premio) * this.cantidadDeFracciones;\r\n    if (this.tipoLoteria == 14) {\r\n      auxPremioLoteria =\r\n        Math.ceil((parseInt(premio) * this.cantidadDeFracciones) / 10) * 10;\r\n    }\r\n    this.premioLoteria = this.ventas\r\n      .formatNumber(auxPremioLoteria)\r\n      .split(\".\")[0];\r\n    this.premio = this.ventas.formatNumber(premio).split(\".\")[0];\r\n    this.precio = this.ventas.formatNumber(precio);\r\n    this.emitir.emit(this.seleccionado);\r\n    this.boleto = await this.ventas.obtenerImagenBoleto(\r\n      this.tipoLoteria,\r\n      this.seleccionado!.sorteo\r\n    );\r\n    this.imgNotFound = false;\r\n    this.changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  fecha: string = \"\";\r\n  hora: string = \"\";\r\n  premio: string = \"\";\r\n  premioLoteria: string = \"\";\r\n  precio: string = \"\";\r\n  cantidadDeFracciones?: number;\r\n\r\n  async ngOnInit() {\r\n    this.getClassColor(this.color!);\r\n    this.setSorteoDefault(); /* \r\n    this.sorteo = await this.ventas.obtenerSorteo(this.loteria);*/\r\n  }\r\n  sorteoDefault?: sorteo;\r\n\r\n  setSorteoDefault() {\r\n    this.changeDetectorRef.detectChanges();\r\n    this.seleccionado = this.sorteos![0];\r\n    this.changeDetectorRef.markForCheck();\r\n    this.onEmitir();\r\n  }\r\n}\r\n","<div class=\"menuBox\">\r\n  <div class=\"menuInfo\">\r\n    <div class=\"menuSorteo\">\r\n      <h1>SORTEO</h1>\r\n      <div class=\"menuItem\">\r\n        Número:\r\n        <select\r\n          class=\"fechaItem\"\r\n          [(ngModel)]=\"seleccionado\"\r\n          (change)=\"onEmitir()\"\r\n        >\r\n          <option [ngValue]=\"sorteoDefault\" selected disabled>\r\n            Seleccione un sorteo\r\n          </option>\r\n\r\n          <ng-container *ngFor=\"let objeto of sorteos\">\r\n            <option [ngValue]=\"objeto\">\r\n              <span>{{ objeto.dia }}</span> - {{ objeto.sorteo }} -\r\n              {{ objeto.fecha.split(\" \")[0] }}\r\n            </option>\r\n          </ng-container>\r\n        </select>\r\n      </div>\r\n      <div class=\"menuItem\">\r\n        Fecha:\r\n        <p>{{ fecha }}</p>\r\n      </div>\r\n      <div class=\"menuItem\">\r\n        Hora:\r\n        <p>{{ hora }}</p>\r\n      </div>\r\n\r\n      <div class=\"menuItem\" *ngIf=\"!isLoteria\">\r\n        Precio:\r\n        <p>{{ precio }}</p>\r\n      </div>\r\n\r\n      <div class=\"menuItem\" *ngIf=\"isLoteria\">\r\n        Precio de fracción:\r\n        <p>{{ precio }}</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"menuPremio\">\r\n      <h1>PREMIOS</h1>\r\n\r\n      <div class=\"menuItem\" *ngIf=\"!isLoteria\">\r\n        Premio:\r\n        <p>{{ premio }}</p>\r\n      </div>\r\n      <div class=\"menuItem\" *ngIf=\"isLoteria\">\r\n        Premio al entero:\r\n        <p>{{ premioLoteria }}</p>\r\n      </div>\r\n      <div class=\"menuItem\" *ngIf=\"isLoteria\">\r\n        Premio a la fracción:\r\n        <p>{{ premio }}</p>\r\n      </div>\r\n      <div class=\"menuItem\" *ngIf=\"isLoteria\">\r\n        Total de fracciones:\r\n        <p>{{ cantidadDeFracciones }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"menuImage\" *ngIf=\"!imgNotFound\">\r\n    <img [src]=\"boleto\" alt=\"\" (error)=\"handleImgError()\" />\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  OnChanges,\r\n  Input,\r\n  EventEmitter,\r\n  Output,\r\n} from '@angular/core';\r\nimport { CarritoService } from '../../services/carrito.service';\r\n@Component({\r\n  selector: 'app-floating-menu',\r\n  templateUrl: './floating-menu.component.html',\r\n  styleUrls: ['./floating-menu.component.scss'],\r\n})\r\nexport class FloatingMenuComponent implements OnInit {\r\n  isToggled: boolean = false;\r\n  @Input() ticketsLoteria: any;\r\n  @Input() ticketsMillonaria: any;\r\n  @Input() ticketsLotto: any;\r\n  @Input() ticketsPozo: any;\r\n  @Input() tickets: any;\r\n  @Input() tipoLoteria?: string;\r\n  @Output() emitirCompra = new EventEmitter();\r\n  @Output() eliminarTodo = new EventEmitter();\r\n  @Output() deleteLoteriaTicket = new EventEmitter();\r\n  @Output() deleteLoteriaFraccion = new EventEmitter();\r\n  @Output() deleteLottoTicket = new EventEmitter();\r\n  @Output() deletePozoTicket = new EventEmitter();\r\n  @Output() deleteMillonariaTicket = new EventEmitter();\r\n  constructor(private cart: CarritoService) {}\r\n  carrito: any = {};\r\n  cerrar: any = {};\r\n  ngOnInit() {\r\n    this.carrito = {\r\n      carritoDisplay: false,\r\n    };\r\n    this.cerrar = {\r\n      cerrarDisplay: false,\r\n    };\r\n  }\r\n  toggleBox() {\r\n    this.isToggled = !this.isToggled;\r\n    this.carrito = {\r\n      carritoDisplay: this.isToggled,\r\n    };\r\n    this.cerrar = {\r\n      cerrarDisplay: this.isToggled,\r\n    };\r\n    this.isCart = false;\r\n  }\r\n  isCart: boolean = false;\r\n  toggleCart() {\r\n    this.isCart = true;\r\n  }\r\n\r\n  comprar() {\r\n    this.toggleBox();\r\n    this.emitirCompra.emit();\r\n  }\r\n  deleteAllTickets() {\r\n    this.eliminarTodo.emit();\r\n  }\r\n  deleteLoteria(e: any) {\r\n    this.deleteLoteriaTicket.emit(e);\r\n  }\r\n  deleteLotto(e: any) {\r\n    this.deleteLottoTicket.emit(e);\r\n  }\r\n  deletePozo(e: any) {\r\n    this.deletePozoTicket.emit(e);\r\n  }\r\n  deleteMillonaria(e: any) {\r\n    this.deleteMillonariaTicket.emit(e);\r\n  }\r\n  deleteFraccion(e: any) {\r\n    this.deleteLoteriaFraccion.emit(e);\r\n  }\r\n\r\n  total?: any;\r\n\r\n  ngDoCheck() {\r\n    this.total = this.cart.getTotal();\r\n    this.total = this.formatNumber(this.total);\r\n  }\r\n\r\n  formatNumber(number: number) {\r\n    // Create our number formatter.\r\n    var formatter = new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n    });\r\n\r\n    return formatter.format(number);\r\n  }\r\n}\r\n","<div class=\"floatingBox\" (click)=\"toggleBox()\">\r\n  <img\r\n    [ngClass]=\"carrito\"\r\n    class=\"carrito\"\r\n    src=\"assets/carrito-blanco.svg\"\r\n    alt=\"\"\r\n  />\r\n  <img [ngClass]=\"cerrar\" class=\"cerrar\" src=\"assets/cerrar.svg\" alt=\"\" />\r\n</div>\r\n<div class=\"totalBox\" [ngClass]=\"carrito\">\r\n  {{ total }}\r\n</div>\r\n<div class=\"toggleBox\" *ngIf=\"isToggled && !isCart\">\r\n  <div class=\"itemBox\" (click)=\"toggleCart()\">\r\n    <img src=\"assets/carrito-negro.svg\" alt=\"\" />\r\n    <p>CARRITO DE COMPRA</p>\r\n    <div class=\"totalCartBox\">\r\n      {{ total }}\r\n    </div>\r\n  </div>\r\n  <a class=\"itemBox\" href=\"https://www.loteria.com.ec/casino\" target=\"_parent\">\r\n    <img src=\"assets/casino.svg\" alt=\"\" />\r\n    <p>JUEGOS</p>\r\n  </a>\r\n  <a class=\"itemBox\" href=\"https://www.loteria.com.ec/sport\" target=\"_parent\">\r\n    <img src=\"assets/sport.svg\" alt=\"\" />\r\n    <p>DEPORTES</p>\r\n  </a>\r\n</div>\r\n\r\n<app-carrito\r\n  *ngIf=\"isCart\"\r\n  class=\"ticketScroller\"\r\n  (emitirCompra)=\"comprar()\"\r\n  (eliminarTodo)=\"deleteAllTickets()\"\r\n  (deleteLoteriaTicket)=\"deleteLoteria($event)\"\r\n  (deleteLottoTicket)=\"deleteLotto($event)\"\r\n  (deletePozoTicket)=\"deletePozo($event)\"\r\n  (deleteMillonariaTicket)=\"deleteMillonaria($event)\"\r\n  (deleteLoteriaFraccion)=\"deleteFraccion($event)\"\r\n  [ticketsLoteria]=\"ticketsLoteria\"\r\n  [ticketsLotto]=\"ticketsLotto\"\r\n  [ticketsPozo]=\"ticketsPozo\"\r\n  [ticketsMillonaria]=\"ticketsMillonaria\"\r\n  [tipoLoteria]=\"tipoLoteria\"\r\n>\r\n</app-carrito>\r\n","import { Component, OnInit, Input } from \"@angular/core\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-instantanea',\r\n  templateUrl: './instantanea.component.html',\r\n  styleUrls: ['./instantanea.component.scss']\r\n})\r\nexport class InstantaneaComponent implements OnInit {\r\n  @Input() premio: any;\r\n  @Input() tipoLoteria?: number;\r\n\r\n  description?: String;\r\n  nombrePremio?: String;\r\n  descripcionDescuento?: String;\r\n  sorteo?: Number;\r\n  valorPremio?: string;\r\n  constructor() {}\r\n\r\n  ngOnInit() {\r\n    this.sorteo = this.premio.sorteo;\r\n      this.valorPremio = this.formatNumber(parseFloat(this.premio.prizeWithDiscount));\r\n      this.nombrePremio = this.premio.prizeDescription;\r\n  }\r\n\r\n  formatNumber(number: number){// Create our number formatter.\r\n    var formatter = new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n    \r\n      // These options are needed to round to whole numbers if that's what you want.\r\n      //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\r\n      //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\r\n    });\r\n    \r\n    return formatter.format(number);\r\n  }\r\n}","<div class=\"resultadoBox\">\r\n    <div class=\"resultadoDetalles\">\r\n      <p>\r\n        Bienvenido al\r\n        <span\r\n          >País de los Ganadores <img src=\"assets/ganadorbrillante.png\" alt=\"\"\r\n        /></span>\r\n      </p>\r\n      <p>Eres una persona afortunada, ¡acabas de ganar un premio!</p>\r\n  \r\n      <div class=\"detailBox\">\r\n        <img src=\"assets/ganadorpremio.png\" alt=\"\" />\r\n        <div class=\"detailText\">\r\n          <p><span>SORTEO: </span>{{ premio.sorteo }}</p>\r\n          <p><span>COMBINACIÓN: </span>{{ premio.combinacion }}</p>\r\n          <p *ngIf=\"tipoLoteria == 14\"><span>SERIE: </span>{{ premio.combinacion2 }}</p>\r\n          <p><span>PREMIO: </span>{{ premio.prizeDescription }}</p>\r\n          <p><span>VALOR: </span>{{ formatNumber(premio.prizeWithDiscount) }}</p>\r\n          <p *ngIf=\"premio.fracciones && premio.fracciones.length != 0\">\r\n            <span>FRACCIÓN: </span>{{ premio.fracciones }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <p>El valor del premio se acreditará automáticamente en tu cuenta.</p>\r\n    </div>\r\n  </div>\r\n  ","import { Component, OnInit, Input, Output, EventEmitter } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-instantaneas\",\r\n  templateUrl: \"./instantaneas.component.html\",\r\n  styleUrls: [\"./instantaneas.component.scss\"],\r\n})\r\nexport class InstantaneasComponent implements OnInit {\r\n  @Input() resultados: any;\r\n  premios: any[] = [];\r\n  @Input() tipoLoteria?: string;\r\n  @Input() isLoteriaNacional: boolean = false;\r\n  @Input() isLotto: boolean = false;\r\n  @Input() isPozoMillonario: boolean = false;\r\n  @Input() isLaMillonaria: boolean = false;\r\n  @Output() close = new EventEmitter();\r\n  loteriaBackground: any;\r\n  loteriaBackgroundButton: any;\r\n  constructor() {}\r\n\r\n  ngOnInit() {\r\n    switch (parseInt(this.tipoLoteria!)) {\r\n      case 1:\r\n        this.loteriaBackground = {\r\n          backgroundLoteriaNacional: true,\r\n        };\r\n        this.loteriaBackgroundButton = {\r\n          backgroundLoteriaNacionalButton: true,\r\n        };\r\n        break;\r\n      case 2:\r\n        this.loteriaBackground = {\r\n          backgroundLotto: true,\r\n        };\r\n        this.loteriaBackgroundButton = {\r\n          backgroundLottoButton: true,\r\n        };\r\n\r\n        break;\r\n      case 14:\r\n        this.loteriaBackground = {\r\n          backgroundMillonaria: true,\r\n        };\r\n        this.loteriaBackgroundButton = {\r\n          backgroundMillonariaButton: true,\r\n        };\r\n\r\n        break;\r\n\r\n      default:\r\n        this.loteriaBackground = {\r\n          backgroundPozoMillonario: true,\r\n        };\r\n        this.loteriaBackgroundButton = {\r\n          backgroundPozoMillonarioButton: true,\r\n        };\r\n\r\n        break;\r\n    }\r\n    this.resultados.forEach((resultado: any) => {\r\n      let ticket = {\r\n        tipoLoteria: parseInt(resultado.tipoLoteria),\r\n        sorteo: resultado.numeroSorteo,\r\n        drawDate: resultado.fechaCaducidad,\r\n        combinacion: resultado.combinacion1,\r\n        combinacion2: resultado.combinacion2,\r\n        fracciones: resultado.fraccion,\r\n        prize: resultado.valorPremio,\r\n        prizeWithDiscount: resultado.valorPremioDescuento,\r\n        prizeDescription: resultado.descripcionPremio,\r\n      };\r\n      this.premios.push(ticket);\r\n    });\r\n  }\r\n  closeBox() {\r\n    this.close.emit(\"\");\r\n  }\r\n}\r\n","<div class=\"blackBox\" (click)=\"closeBox()\">\r\n</div>\r\n\r\n<div class=\"resultsBox\">\r\n\r\n    <div class=\"resultBox\" *ngFor=\"let premio of premios\">\r\n\r\n        <div class=\"messageBox\" [ngClass]=\"loteriaBackground\">\r\n            <app-instantanea [premio]=\"premio\" [tipoLoteria]=\"premio!.tipoLoteria\">\r\n            </app-instantanea>\r\n        </div>\r\n\r\n    </div>\r\n    <div class=\"buttonsBox\">\r\n        <button  [ngClass]=\"loteriaBackgroundButton\" (click)=\"closeBox()\">Ir a resumen de compra</button>\r\n    </div>\r\n</div>","<div class=\"selectionBox\">\r\n    <app-boton-de-juego\r\n      image=\"assets/img/loteria-sombra-2.png\"\r\n      [link]=\"linkLoteriaNacional\"\r\n      [token]=\"lotteryToken\"\r\n      name=\"loteria\"\r\n      (authError)=\"authError()\"\r\n    >\r\n    </app-boton-de-juego>\r\n  \r\n    <app-boton-de-juego\r\n      image=\"assets/img/lotto-sombra.png\"\r\n      [link]=\"linkLotto\"\r\n      [token]=\"lotteryToken\"\r\n      name=\"lotto\"\r\n      (authError)=\"authError()\"\r\n    >\r\n    </app-boton-de-juego>\r\n  \r\n    <app-boton-de-juego\r\n      image=\"assets/img/pozo-sombra.png\"\r\n      [link]=\"linkPozoMillonario\"\r\n      [token]=\"lotteryToken\"\r\n      name=\"pozo\"\r\n      (authError)=\"authError()\"\r\n    >\r\n    </app-boton-de-juego>\r\n    <app-boton-de-juego\r\n      image=\"assets/img/millonaria-sombra.png\"\r\n      [link]=\"linkMillonaria\"\r\n      [token]=\"lotteryToken\"\r\n      name=\"millonaria\"\r\n      (authError)=\"authError()\"\r\n    >\r\n    </app-boton-de-juego>\r\n  </div>\r\n  \r\n  <app-floating-menu\r\n    (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n    (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n    (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n    (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\r\n    (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n    (emitirCompra)=\"comprar()\"\r\n    (eliminarTodo)=\"deleteAllTickets()\"\r\n    [ticketsLoteria]=\"ticketsLoteria\"\r\n    [ticketsLotto]=\"ticketsLotto\"\r\n    [ticketsPozo]=\"ticketsPozo\"\r\n    [ticketsMillonaria]=\"ticketsMillonaria\"\r\n    tipoLoteria=\"loteria\"\r\n  ></app-floating-menu>\r\n  <app-loader\r\n    loader=\"loteria\"\r\n    [message]=\"loadingMessage!\"\r\n    *ngIf=\"isLoading\"\r\n  ></app-loader>\r\n  <app-error\r\n    [msg]=\"errorMessage!\"\r\n    (closeError)=\"closeError()\"\r\n    [title]=\"errorTitle!\"\r\n    *ngIf=\"isError\"\r\n  ></app-error>\r\n  <app-confirmacion-de-venta\r\n    (compraConfirmada)=\"confirmarCompra()\"\r\n    (compraCancelada)=\"cancelarCompra($event)\"\r\n    (comprarDespues)=\"dismissCompras()\"\r\n    [compra]=\"detalleCompra\"\r\n    class=\"paymentItem\"\r\n    *ngIf=\"confirmacionDeCompra\"\r\n  ></app-confirmacion-de-venta>\r\n  <app-instantaneas\r\n    (close)=\"abrirFinalizar()\"\r\n    [resultados]=\"instantaneas\"\r\n    tipoloteria=\"14\"\r\n    [isLoteriaNacional]=\"true\"\r\n    class=\"paymentItem\"\r\n    *ngIf=\"isInstantaneas\"\r\n  ></app-instantaneas>\r\n  <app-venta-finalizada\r\n    (volver)=\"finalizarCompra()\"\r\n    [compra]=\"detalleCompra\"\r\n    class=\"paymentItem\"\r\n    *ngIf=\"compraFinalizada\"\r\n  ></app-venta-finalizada>\r\n  <app-saldo-insuficiente\r\n    [message]=\"recargaDeSaldoMessage\"\r\n    (volver)=\"dismissCompras()\"\r\n    (recarga)=\"irARecarga()\"\r\n    class=\"paymentItem\"\r\n    *ngIf=\"saldoInsuficiente\"\r\n  ></app-saldo-insuficiente>\r\n  <app-venta-cancelada\r\n    class=\"paymentItem\"\r\n    [message]=\"cancelMessage!\"\r\n    *ngIf=\"compraCancelada\"\r\n  ></app-venta-cancelada>\r\n  ","import { Component, OnInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute, NavigationEnd } from \"@angular/router\";\r\nimport { VentasService } from \"../../services/ventas.service\";\r\nimport { PagosService } from \"../../services/pagos.service\";\r\nimport { CarritoService } from \"../../services/carrito.service\";\r\n\r\n@Component({\r\n  selector: 'app-menu-box',\r\n  templateUrl: './menu-box.component.html',\r\n  styleUrls: ['./menu-box.component.scss']\r\n})\r\nexport class MenuBoxComponent implements OnInit {\r\n  linkLotto: string = \"\";\r\n  linkLoteriaNacional: string = \"\";\r\n  linkPozoMillonario: string = \"\";\r\n  linkMillonaria: string = \"\";\r\n  token?: string;\r\n  lotteryToken?: string;\r\n  usuario?: string;\r\n  errorTitle?: string;\r\n  isLoading?: boolean;\r\n  loadingMessage?: string;\r\n  ticketsPozo: any;\r\n  ticketsLotto: any;\r\n  ticketsLoteria: any;\r\n  ticketsCarrito: any;\r\n  ticketsMillonaria: any;\r\n  constructor(\r\n    private actRoute: ActivatedRoute,\r\n    public lottery: VentasService,\r\n    private paymentService: PagosService,\r\n    private cart: CarritoService,\r\n\r\n    private router: Router\r\n  ) {\r\n    this.actRoute.params.subscribe((params) => {\r\n      this.token = params[\"token\"];\r\n    });\r\n  }\r\n\r\n  async ngOnInit() {\r\n    try {\r\n      this.loadingMessage = \"Espera mientras procesamos tu información\";\r\n      this.isLoading = true;\r\n      if (this.token) {\r\n        let data = await this.lottery.authUser(this.token);\r\n        this.lotteryToken = data.lotteryToken;\r\n        if (this.lotteryToken) {\r\n          this.linkLoteriaNacional = `/compra_tus_juegos/loteria/${this.token}`;\r\n          this.linkLotto = `/compra_tus_juegos/lotto/${this.token}`;\r\n          this.linkPozoMillonario = `/compra_tus_juegos/pozo/${this.token}`;\r\n          this.linkMillonaria = `/compra_tus_juegos/millonaria/${this.token}`;\r\n        }\r\n\r\n        await this.getCarritoTickets();\r\n        //this.getTotal();\r\n      }\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      let errorTitle = \"Error\";\r\n      this.openError(errorMessage, errorTitle);\r\n    }\r\n  }\r\n\r\n  confirmacionDeCompra: boolean = false;\r\n  compraFinalizada: boolean = false;\r\n  saldoInsuficiente: boolean = false;\r\n  compraCancelada: boolean = false;\r\n  instantaneas: any;\r\n  isInstantaneas: boolean = false;\r\n  cancelMessage: string = \"\";\r\n  detalleCompra: any;\r\n  recargaDeSaldoMessage?: string;\r\n\r\n  dismissCompras() {\r\n    this.confirmacionDeCompra = false;\r\n    this.isInstantaneas = false;\r\n\r\n    this.compraFinalizada = false;\r\n    this.saldoInsuficiente = false;\r\n    this.compraCancelada = false;\r\n  }\r\n\r\n  volver() {\r\n    this.dismissCompras();\r\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\r\n  }\r\n\r\n  total?: string;\r\n  getTotal() {\r\n    this.total = this.cart.getTotal();\r\n  }\r\n  comprar() {\r\n    this.dismissCompras();\r\n\r\n    let loteriaAux = this.ticketsLoteria;\r\n    let loteria = [];\r\n    for (let id in loteriaAux) {\r\n      let aux: any = {};\r\n      aux[\"combinacion1\"] = loteriaAux[id].ticket.combinacion;\r\n      aux[\"fracciones\"] = loteriaAux[id].ticket.seleccionados;\r\n      aux[\"subtotal\"] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\r\n      aux[\"fecha\"] = loteriaAux[id].sorteo.fecha;\r\n      aux[\"sorteo\"] = loteriaAux[id].sorteo.sorteo;\r\n      loteria.push(aux);\r\n    }\r\n    let lottoAux = this.ticketsLotto;\r\n    let lotto = [];\r\n    for (let id in lottoAux) {\r\n      let aux: any = {};\r\n      aux[\"combinacion1\"] = lottoAux[id].ticket.combinacion1;\r\n      aux[\"combinacion2\"] = lottoAux[id].ticket.combinacion2;\r\n      aux[\"combinacion3\"] = lottoAux[id].ticket.combinacion3;\r\n      aux[\"combinacion4\"] = lottoAux[id].ticket.combinacion4;\r\n      aux[\"sorteo\"] = lottoAux[id].sorteo.sorteo;\r\n      aux[\"subtotal\"] = parseFloat(lottoAux[id].subtotal).toFixed(2);\r\n      aux[\"fecha\"] = lottoAux[id].sorteo.fecha;\r\n      lotto.push(aux);\r\n    }\r\n    let pozoAux = this.ticketsPozo;\r\n    let pozo = [];\r\n    for (let id in pozoAux) {\r\n      let aux: any = {};\r\n      aux[\"combinacion1\"] = pozoAux[id].ticket.combinacion1;\r\n      aux[\"combinacion2\"] = pozoAux[id].ticket.combinacion2;\r\n      aux[\"mascota\"] = pozoAux[id].ticket.mascota;\r\n      aux[\"sorteo\"] = pozoAux[id].sorteo.sorteo;\r\n      aux[\"subtotal\"] = parseFloat(pozoAux[id].subtotal).toFixed(2);\r\n      aux[\"fecha\"] = pozoAux[id].sorteo.fecha;\r\n      pozo.push(aux);\r\n    }\r\n    let millonariaAux = this.ticketsMillonaria;\r\n    let millonaria = [];\r\n    for (let id in millonariaAux) {\r\n      let aux: any = {};\r\n      aux[\"combinacion1\"] = millonariaAux[id].ticket.combinacion1;\r\n      aux[\"combinacion2\"] = millonariaAux[id].ticket.combinacion2;\r\n      aux[\"fracciones\"] = millonariaAux[id].ticket.seleccionados;\r\n      aux[\"subtotal\"] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\r\n      aux[\"subtotalConDesc\"] = parseFloat(\r\n        millonariaAux[id].subtotalConDesc\r\n      ).toFixed(2);\r\n      aux[\"tieneDescuento\"] = millonariaAux[id].tieneDescuento;\r\n      aux[\"fecha\"] = millonariaAux[id].sorteo.fecha;\r\n      aux[\"sorteo\"] = millonariaAux[id].sorteo.sorteo;\r\n      millonaria.push(aux);\r\n    }\r\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\r\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\r\n\r\n    this.detalleCompra = {\r\n      loteria,\r\n      millonaria,\r\n      lotto,\r\n      pozo,\r\n      amount,\r\n      amountConDesc,\r\n    };\r\n\r\n    this.confirmacionDeCompra = true;\r\n  }\r\n\r\n  finalizarCompra() {\r\n    this.paymentService.finalizarCompra();\r\n    this.dismissCompras();\r\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\r\n  }\r\n\r\n  irARecarga() {}\r\n\r\n  async confirmarCompra() {\r\n    try {\r\n      this.isLoading = true;\r\n      this.loadingMessage = \"Espera mientras procesamos tu compra\";\r\n      let hasBalance = await this.paymentService.hasBalance(0, this.token);\r\n\r\n      if (hasBalance) {\r\n        let reservaId = this.cart.getReservaId();\r\n        let cartValidation = await this.cart.validarCarrito(reservaId);\r\n        if (cartValidation) {\r\n          let response = await this.paymentService.confirmarCompra(\r\n            this.token,\r\n            reservaId\r\n          );\r\n          if (response.status) {\r\n            if (response.instantanea.status) {\r\n              this.dismissCompras();\r\n              this.instantaneas = response.instantanea.data;\r\n              this.isInstantaneas = true;\r\n            } else {\r\n              this.instantaneas = \"\";\r\n              this.abrirFinalizar();\r\n            }\r\n          } else {\r\n            this.cancelarCompra(\"\");\r\n          }\r\n        }\r\n        this.isLoading = false;\r\n      } else {\r\n        this.isLoading = false;\r\n        let message = \"Tu saldo es insuficiente para realizar la compra\";\r\n        this.recargarSaldo(message);\r\n      }\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      let errorTitle = \"Error\";\r\n      this.openError(errorMessage, errorTitle);\r\n    }\r\n  }\r\n\r\n  cancelarCompra(e: any) {\r\n    this.dismissCompras();\r\n    this.compraCancelada = true;\r\n  }\r\n\r\n  async abrirFinalizar() {\r\n    this.dismissCompras();\r\n    await this.cart.borrarCarrito();\r\n    this.compraFinalizada = true;\r\n  }\r\n\r\n  recargarSaldo(message: any) {\r\n    this.recargaDeSaldoMessage = message;\r\n    this.dismissCompras();\r\n    this.saldoInsuficiente = true;\r\n  }\r\n\r\n  async deleteMillonariaTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fracciones = data.ticket.seleccionados;\r\n      this.loadingMessage = \"Removiendo boleto del carrito\";\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsMillonaria[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n      let reservaId = this.lottery.getReservaId();\r\n      if (fracciones.length != 0) {\r\n        let response = await this.lottery.eliminarBoletosDeReserva(\r\n          this.token,\r\n          ticket,\r\n          sorteo,\r\n          fracciones,\r\n          14,\r\n          reservaId\r\n        );\r\n      }\r\n      delete this.ticketsMillonaria[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 1);\r\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\r\n\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      //await this.setDescuento(14);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      let errorTitle = \"Error\";\r\n      this.openError(errorMessage, errorTitle);\r\n    }\r\n  }\r\n  async deleteLoteriaTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fracciones = data.ticket.seleccionados;\r\n      this.loadingMessage = \"Removiendo boleto del carrito\";\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsLoteria[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n\r\n      let reservaId = this.lottery.getReservaId();\r\n      if (fracciones.length != 0) {\r\n        let response = await this.lottery.eliminarBoletosDeReserva(\r\n          this.token,\r\n          ticket,\r\n          sorteo,\r\n          fracciones,\r\n          1,\r\n          reservaId\r\n        );\r\n      }\r\n      delete this.ticketsLoteria[identificador];\r\n\r\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n\r\n      await this.getCarritoTickets();\r\n      this.getTotal();\r\n\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      let errorTitle = \"Error\";\r\n      this.openError(errorMessage, errorTitle);\r\n    }\r\n  }\r\n  async deleteLottoTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fraccion = \"\";\r\n      this.loadingMessage = \"Removiendo boleto del carrito\";\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsLotto[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n\r\n      let reservaId = this.lottery.getReservaId();\r\n      let response = await this.lottery.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        fraccion,\r\n        2,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsLotto[identificador];\r\n\r\n      await this.cart.setCarritoLotto(this.ticketsLotto);\r\n\r\n      await this.getCarritoTickets();\r\n      this.getTotal();\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      let errorTitle = \"Error\";\r\n      this.openError(errorMessage, errorTitle);\r\n    }\r\n  }\r\n\r\n  async deleteLoteriaFraccion(data: any) {\r\n    try {\r\n      this.loadingMessage = \"Removiendo boleto del carrito\";\r\n      this.isLoading = true;\r\n      let identificador = data.ticket.ticket.identificador;\r\n      let ticket = data.ticket.ticket;\r\n      let sorteo = data.ticket.sorteo;\r\n      let fraccion = data.fraccion;\r\n\r\n      let reservaId = this.cart.getReservaId();\r\n      let response = await this.lottery.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        [fraccion],\r\n        1,\r\n        reservaId\r\n      );\r\n      let index = this.ticketsLoteria[\r\n        identificador\r\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\r\n      this.ticketsLoteria[identificador].ticket.seleccionados.splice(index, 1);\r\n      if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\r\n        delete this.ticketsLoteria[identificador];\r\n      }\r\n\r\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n      await this.getCarritoTickets();\r\n      this.getTotal();\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      let errorTitle = \"Error\";\r\n      this.openError(errorMessage, errorTitle);\r\n    }\r\n  }\r\n  async deletePozoTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fraccion = \"\";\r\n      this.loadingMessage = \"Removiendo boleto del carrito\";\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsPozo[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n\r\n      let reservaId = this.lottery.getReservaId();\r\n      let response = await this.lottery.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        fraccion,\r\n        5,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsPozo[identificador];\r\n\r\n      await this.cart.setCarritoPozo(this.ticketsPozo);\r\n\r\n      await this.getCarritoTickets();\r\n      this.getTotal();\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      let errorTitle = \"Error\";\r\n      this.openError(errorMessage, errorTitle);\r\n    }\r\n  }\r\n  async deleteAllTickets() {\r\n    try {\r\n      this.loadingMessage = \"Removiendo boletos del carrito\";\r\n      this.isLoading = true;\r\n      let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\r\n        return {\r\n          ticket: this.ticketsLoteria[key].ticket,\r\n          sorteo: this.ticketsLoteria[key].sorteo,\r\n        };\r\n      });\r\n      let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\r\n        return {\r\n          ticket: this.ticketsLotto[key].ticket,\r\n          sorteo: this.ticketsLotto[key].sorteo,\r\n        };\r\n      });\r\n      let boletosPozo = Object.keys(this.ticketsPozo).map((key) => {\r\n        return {\r\n          ticket: this.ticketsPozo[key].ticket,\r\n          sorteo: this.ticketsPozo[key].sorteo,\r\n        };\r\n      });\r\n      let reservaId = this.lottery.getReservaId();\r\n/*       await this.lottery.eliminarTodosLosBoletosDeReserva(\r\n        this.token,\r\n        boletosLoteria,\r\n        boletosLotto,\r\n        boletosPozo,\r\n        reservaId\r\n      ); */\r\n      await this.cart.borrarCarrito();\r\n      await this.getCarritoTickets();\r\n      this.getTotal();\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      let errorTitle = \"Error\";\r\n      this.openError(errorMessage, errorTitle);\r\n    }\r\n  }\r\n\r\n  async getCarritoTickets() {\r\n    let carrito = await this.cart.buscarCarrito();\r\n    this.ticketsLoteria = carrito.loteria;\r\n    this.ticketsLotto = carrito.lotto;\r\n    this.ticketsPozo = carrito.pozo;\r\n  }\r\n\r\n  authError() {\r\n    this.openError(\r\n      \"Por favor, para poder comprar tu boleto preferido, deberás iniciar sesión en tu cuenta\",\r\n      \"Aviso\"\r\n    );\r\n  }\r\n\r\n  isError: boolean = false;\r\n  errorMessage?: string;\r\n  openError(msg: string, title: string) {\r\n    this.errorTitle = title.toUpperCase();\r\n    this.errorMessage = msg;\r\n    this.isError = true;\r\n  }\r\n\r\n  closeError() {\r\n    this.isError = false;\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'ventas-menu-header',\r\n  templateUrl: './menu-header.component.html',\r\n  styleUrls: ['./menu-header.component.scss'],\r\n})\r\nexport class MenuHeaderComponent implements OnInit {\r\n  @Input() home: boolean = false;\r\n  linkLotto: string = '';\r\n  linkLoteriaNacional: string = '';\r\n  linkPozoMillonario: string = '';\r\n  linkLaMillonaria: string = '';\r\n  token?: string;\r\n  usuario?: string;\r\n  linkJuegosOnline?: string;\r\n  homeClass = {\r\n    home: this.home,\r\n  };\r\n  constructor(private actRoute: ActivatedRoute) {\r\n    this.actRoute.params.subscribe((params) => {\r\n      this.token = params['token'];\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.homeClass = {\r\n      home: this.home,\r\n    };\r\n    this.linkLoteriaNacional = `/compra_tus_juegos/loteria/${this.token}`;\r\n    this.linkLotto = `/compra_tus_juegos/lotto/${this.token}`;\r\n    this.linkPozoMillonario = `/compra_tus_juegos/pozo/${this.token}`;\r\n    this.linkLaMillonaria = `/compra_tus_juegos/millonaria/${this.token}`;\r\n    this.linkJuegosOnline = `http://loteria.mongibello.tech:83/#/juegos`;\r\n  }\r\n  getLink(link: string) {\r\n    if (!this.token) {\r\n      return '/inicio';\r\n    }\r\n    return link;\r\n  }\r\n  checkToken(e: any) {\r\n    if (!this.token) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      this.authError();\r\n    }\r\n    return;\r\n  }\r\n\r\n  authError() {\r\n    this.openError(\r\n      'Por favor, para poder comprar tu boleto preferido, deberás iniciar sesión en tu cuenta',\r\n      'Aviso'\r\n    );\r\n  }\r\n\r\n  isError: boolean = false;\r\n  errorMessage?: string;\r\n  errorTitle?: string;\r\n  openError(msg: string, title: string) {\r\n    this.errorTitle = title.toUpperCase();\r\n    this.errorMessage = msg;\r\n    this.isError = true;\r\n  }\r\n\r\n  closeError() {\r\n    this.isError = false;\r\n  }\r\n}\r\n","<div class=\"container\" [ngClass]=\"homeClass\">\r\n  <a\r\n    style=\"display: none\"\r\n    [routerLink]=\"linkLoteriaNacional\"\r\n    routerLinkActive=\"title loteria\"\r\n  >\r\n    LOTERIA NACIONAL\r\n  </a>\r\n\r\n  <a\r\n    style=\"display: none\"\r\n    [routerLink]=\"linkLotto\"\r\n    routerLinkActive=\"title lotto\"\r\n  >\r\n    LOTTO\r\n  </a>\r\n\r\n  <a\r\n    style=\"display: none\"\r\n    [routerLink]=\"linkPozoMillonario\"\r\n    routerLinkActive=\"title pozo\"\r\n  >\r\n    POZO MILLONARIO\r\n  </a>\r\n\r\n  <a\r\n    style=\"display: none\"\r\n    [routerLink]=\"linkLaMillonaria\"\r\n    routerLinkActive=\"title millonaria\"\r\n  >\r\n    LA MILLONARIA\r\n  </a>\r\n\r\n  <a\r\n    class=\"contenedor_loteria loteria\"\r\n    [href]=\"getLink(linkLoteriaNacional)\"\r\n    (click)=\"checkToken($event)\"\r\n  >\r\n    <img src=\"assets/img/loteria-sombra-2.png\" />\r\n    <span class=\"mobile\">Jugar</span>\r\n  </a>\r\n\r\n  <a\r\n    class=\"contenedor_loteria lotto\"\r\n    [href]=\"getLink(linkLotto)\"\r\n    (click)=\"checkToken($event)\"\r\n  >\r\n    <img src=\"assets/img/lotto-sombra.png\" alt=\"\" />\r\n    <span class=\"mobile\">Jugar</span>\r\n  </a>\r\n\r\n  <a\r\n    class=\"contenedor_loteria pozo\"\r\n    [href]=\"getLink(linkPozoMillonario)\"\r\n    (click)=\"checkToken($event)\"\r\n  >\r\n    <img src=\"assets/img/pozo-sombra.png\" alt=\"\" />\r\n    <span class=\"mobile\">Jugar</span>\r\n  </a>\r\n\r\n  <a\r\n    class=\"contenedor_loteria millonaria\"\r\n    [href]=\"getLink(linkLaMillonaria)\"\r\n    (click)=\"checkToken($event)\"\r\n  >\r\n    <img src=\"assets/img/millonaria-sombra.png\" alt=\"\" />\r\n    <span class=\"mobile\">Jugar</span>\r\n  </a>\r\n\r\n  <a\r\n    class=\"contenedor_loteria juegosOnline\"\r\n    target=\"_parent\"\r\n    [href]=\"linkJuegosOnline\"\r\n  >\r\n    <img src=\"assets/img/juegos-online.png\" alt=\"\" />\r\n    <span class=\"mobile\">Jugar</span>\r\n  </a>\r\n</div>\r\n\r\n<app-error\r\n  [msg]=\"errorMessage!\"\r\n  (closeError)=\"closeError()\"\r\n  [title]=\"errorTitle!\"\r\n  *ngIf=\"isError\"\r\n></app-error>\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-saldo-insuficiente',\r\n  templateUrl: './saldo-insuficiente.component.html',\r\n  styleUrls: ['./saldo-insuficiente.component.scss'],\r\n})\r\nexport class SaldoInsuficienteComponent implements OnInit {\r\n  @Input() message?: string;\r\n  @Output() volver = new EventEmitter();\r\n  @Output() recarga = new EventEmitter();\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  cerrar() {\r\n    this.volver.emit();\r\n  }\r\n\r\n  recargar() {\r\n    this.recarga.emit();\r\n  }\r\n}\r\n","<div class=\"blackBox\" (click)=\"cerrar()\"></div>\r\n\r\n<div class=\"logBox\">\r\n  <div class=\"closeButton\">\r\n    <button class=\"closeB\" (click)=\"cerrar()\">X</button>\r\n  </div>\r\n  <p class=\"errorHeader\">AVISO</p>\r\n  <p class=\"errorContent\">{{ message }}</p>\r\n  <button type=\"button\" class=\"formButton\" (click)=\"cerrar()\">\r\n    <p>VOLVER</p>\r\n  </button>\r\n</div>\r\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-venta-cancelada',\r\n  templateUrl: './venta-cancelada.component.html',\r\n  styleUrls: ['./venta-cancelada.component.scss'],\r\n})\r\nexport class VentaCanceladaComponent implements OnInit {\r\n  @Input() message?: string;\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  @Output() closeBox = new EventEmitter<string>();\r\n  close() {\r\n    this.closeBox.emit('Cerrando error');\r\n  }\r\n}\r\n","<div class=\"blackBox\" (click)=\"close()\"></div>\r\n<div class=\"paymentBox\">\r\n  <h1>{{ message }}</h1>\r\n  <button (click)=\"close()\">Volver a la loterìa</button>\r\n</div>\r\n","import { Component, OnInit, Output, EventEmitter, Input } from \"@angular/core\";\r\nimport { VentasService } from \"../../services/ventas.service\";\r\n\r\n@Component({\r\n  selector: 'app-venta-finalizada',\r\n  templateUrl: './venta-finalizada.component.html',\r\n  styleUrls: ['./venta-finalizada.component.scss']\r\n})\r\nexport class VentaFinalizadaComponent implements OnInit {\r\n  @Output() volver = new EventEmitter();\r\n  @Input() compra: any;\r\n  user: any;\r\n  constructor(\r\n    private ventas: VentasService,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.user = this.ventas.getAuthData().user\r\n  }\r\n\r\n  seguirJugando() {\r\n    this.volver.emit();\r\n  }\r\n}\r\n","<div class=\"blackBox\" (click)=\"seguirJugando()\"></div>\r\n<div class=\"paymentBox\">\r\n\r\n  <div class=\"closeButton\">\r\n    <button class=\"closeB\" (click)=\"seguirJugando()\">X</button>\r\n  </div>\r\n  <div class=\"mensajeBox\">\r\n    <h1>¡FELICIDADES!</h1>\r\n    <h3>Tu compra se realizo con exito. Te deseamos mucha suerte.</h3>\r\n  </div>\r\n  <app-descripcion-de-venta [compra]=\"compra\" [user]=\"user\"></app-descripcion-de-venta>\r\n\r\n\r\n  <button (click)=\"seguirJugando()\" class=\"mensajeButtonBox\">\r\n  ¡SIGUE JUGANDO!\r\n  </button>\r\n</div>\r\n","<ng-container *ngIf=\"compraReady\">\r\n  <app-descripcion-de-venta\r\n    [compra]=\"compra\"\r\n    [user]=\"user\"\r\n    [ticketId]=\"ticketId\"\r\n  ></app-descripcion-de-venta>\r\n</ng-container>\r\n\r\n<app-loader\r\n  loader=\"loteria\"\r\n  [message]=\"loadingMessage!\"\r\n  *ngIf=\"isLoading\"\r\n></app-loader>\r\n<app-error\r\n  [msg]=\"errorMessage!\"\r\n  (closeError)=\"closeError()\"\r\n  *ngIf=\"isError\"\r\n></app-error>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\r\nimport { PagosService } from '../../services/pagos.service';\r\nimport { VentasService } from '../../services/ventas.service';\r\n\r\n@Component({\r\n  selector: 'app-detalle-de-venta',\r\n  templateUrl: './detalle-de-venta.component.html',\r\n  styleUrls: ['./detalle-de-venta.component.scss'],\r\n})\r\nexport class DetalleDeVentaComponent implements OnInit {\r\n  compra: any;\r\n  ganador: any;\r\n  compraReady: boolean = false;\r\n\r\n  ticketId?: string;\r\n  accountId?: string;\r\n  user?: string;\r\n  isLoading?: boolean;\r\n  loadingMessage?: string;\r\n  \r\n  constructor(\r\n    private actRoute: ActivatedRoute,\r\n    private pagos: PagosService,\r\n    private ventas: VentasService\r\n  ) {\r\n    this.actRoute.params.subscribe((params: any) => {\r\n      let aux = params['id'];\r\n      this.accountId = aux.split('-')[0];\r\n      this.ticketId = aux.split('-')[1];\r\n    });\r\n  }\r\n\r\n  async ngOnInit() {\r\n    try {\r\n      this.loadingMessage = 'Consultando el detalle de tu compra';\r\n      this.isLoading = true;\r\n      this.compra = await this.pagos.getCompra(this.ticketId, this.accountId);\r\n      this.user = this.compra.user\r\n        ? this.compra.user\r\n        : this.ventas.getAuthData().user;\r\n      this.ganador = await this.pagos.getGanador(this.ticketId);\r\n      if (this.ganador.status) {\r\n        let resultadosGanadores = this.ganador.values;\r\n        this.compra.loteria.forEach((element: any) => {\r\n          element['detalleGanador'] = [];\r\n        });\r\n        this.compra.lotto.forEach((element: any) => {\r\n          element['detalleGanador'] = [];\r\n        });\r\n        this.compra.pozo.forEach((element: any) => {\r\n          element['detalleGanador'] = [];\r\n        });\r\n        this.compra.millonaria.forEach((element: any) => {\r\n          element['detalleGanador'] = [];\r\n        });\r\n        for (let i = 0; i < resultadosGanadores.length; i++) {\r\n          const ganador = resultadosGanadores[i];\r\n          let ganadorIndex;\r\n          switch (ganador.tipoLoteria) {\r\n            case 1:\r\n              ganadorIndex = this.compra.loteria.findIndex(\r\n                (x: any) =>\r\n                  x.combinacion1 == ganador.combinacion1 &&\r\n                  x.sorteo == ganador.numeroSorteo\r\n              );\r\n              if (ganadorIndex != -1) {\r\n                this.compra.loteria[ganadorIndex]['hasGanador'] = true;\r\n                this.compra.loteria[ganadorIndex]['detalleGanador'].push(\r\n                  ganador\r\n                );\r\n              }\r\n              break;\r\n            case 2:\r\n              ganadorIndex = this.compra.lotto.findIndex(\r\n                (x: any) =>\r\n                  x.combinacion1 == ganador.combinacion1 &&\r\n                  x.sorteo == ganador.numeroSorteo\r\n              );\r\n              if (ganadorIndex != -1) {\r\n                this.compra.lotto[ganadorIndex]['hasGanador'] = true;\r\n                this.compra.lotto[ganadorIndex]['detalleGanador'].push(ganador);\r\n              }\r\n              break;\r\n\r\n            case 5:\r\n              ganadorIndex = this.compra.pozo.findIndex(\r\n                (x: any) =>\r\n                  x.combinacion1 == ganador.combinacion1 &&\r\n                  x.sorteo == ganador.numeroSorteo\r\n              );\r\n              if (ganadorIndex != -1) {\r\n                this.compra.pozo[ganadorIndex]['hasGanador'] = true;\r\n                this.compra.pozo[ganadorIndex]['detalleGanador'].push(ganador);\r\n              }\r\n              break;\r\n            case 14:\r\n              ganadorIndex = this.compra.millonaria.findIndex(\r\n                (x: any) =>\r\n                  x.combinacion1 == ganador.combinacion1 &&\r\n                  x.sorteo == ganador.numeroSorteo\r\n              );\r\n              if (ganadorIndex != -1) {\r\n                this.compra.millonaria[ganadorIndex]['hasGanador'] = true;\r\n                this.compra.millonaria[ganadorIndex]['detalleGanador'].push(\r\n                  ganador\r\n                );\r\n              }\r\n              break;\r\n          }\r\n        }\r\n      }\r\n      this.compraReady = true;\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      console.log(e.message);\r\n      this.isLoading = false;\r\n      this.openError(e.message);\r\n    }\r\n  }\r\n  isError: boolean = false;\r\n  errorMessage?: string;\r\n  openError(msg: string) {\r\n    this.errorMessage = msg;\r\n    this.isError = true;\r\n  }\r\n\r\n  closeError() {\r\n    this.isError = false;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-menu-box></app-menu-box>","<ventas-menu-header></ventas-menu-header>\r\n\r\n<div class=\"contenedor_loteria\" *ngIf=\"showComponents\">\r\n  <div class=\"ventasBox\">\r\n    <app-detalle-sorteo\r\n      class=\"infoBox\"\r\n      titulo=\"Loteria Nacional\"\r\n      [sorteos]=\"sorteo\"\r\n      color=\"loteria\"\r\n      [loteria]=\"1\"\r\n      (emitir)=\"procesaEmitir($event)\"\r\n    >\r\n    </app-detalle-sorteo>\r\n\r\n    <div class=\"contenedor_seleccion\">\r\n      <div class=\"selectBox\">\r\n        <div class=\"contenedor_select\">\r\n          <h3>¿Cómo quieres comprar?</h3>\r\n          <select\r\n            class=\"select_option\"\r\n            name=\"\"\r\n            id=\"\"\r\n            [(ngModel)]=\"tipoSeleccion\"\r\n          >\r\n            <option class=\"option\" value=\"96\">Selección individual</option>\r\n            <option class=\"option\" value=\"5\">5 Boletos al azar</option>\r\n            <option class=\"option\" value=\"30\">30 Boletos al azar</option>\r\n            <option class=\"option\" value=\"50\">50 Boletos al azar</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"numeros_suerte\">\r\n          <h3>Ingresa tu número de la suerte</h3>\r\n          <div class=\"numeros\">\r\n            <input\r\n              #input1\r\n              [appAutoTab]=\"input2\"\r\n              type=\"text\"\r\n              maxlength=\"1\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              name=\"combinacionDeLaSuerte0\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[0]\"\r\n            />\r\n            <input\r\n              #input2\r\n              [appAutoTab]=\"input3\"\r\n              type=\"text\"\r\n              maxlength=\"1\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              name=\"combinacionDeLaSuerte1\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[1]\"\r\n            />\r\n            <input\r\n              #input3\r\n              [appAutoTab]=\"input4\"\r\n              type=\"text\"\r\n              maxlength=\"1\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              name=\"combinacionDeLaSuerte2\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[2]\"\r\n            />\r\n            <input\r\n              #input4\r\n              [appAutoTab]=\"input5\"\r\n              type=\"text\"\r\n              maxlength=\"1\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              name=\"combinacionDeLaSuerte3\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[3]\"\r\n            />\r\n            <input\r\n              #input5\r\n              type=\"text\"\r\n              maxlength=\"1\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              name=\"combinacionDeLaSuerte4\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[4]\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <button class=\"activado\" (click)=\"buscarNumero()\">BUSCAR NUMERO</button>\r\n      </div>\r\n      <p class=\"tagItem\">\r\n        Si quieres cambiar tu número, ingrésalo nuevamente y haz click en\r\n        \"Buscar número\"\r\n      </p>\r\n      <div *ngIf=\"showNumeros\" class=\"contenedor_numeros_suerte\">\r\n        <table>\r\n          <tbody>\r\n            <tr\r\n              *ngFor=\"\r\n                let ticket of ticketsDisponibles\r\n                  | paginacion: page_size:page_number;\r\n                let i = index\r\n              \"\r\n            >\r\n              <!--   -->\r\n              <td>\r\n                <div class=\"tooltip\">\r\n                  <div class=\"contenedor_numeros\">\r\n                    <div class=\"combinationBox\">\r\n                      <!-- <p *ngFor=\"let numero of ticket.display\">{{ numero }}</p> -->\r\n                      <p *ngFor=\"let numero of ticket.combinacion.split('')\">\r\n                        {{ numero }}\r\n                      </p>\r\n                    </div>\r\n                    <hr />\r\n\r\n                    <div class=\"seleccionAll\">\r\n                      <p>Seleccionar todas las fracciones</p>\r\n                      <input\r\n                        (click)=\"\r\n                          seleccionarTodo(page_size * (page_number - 1) + i)\r\n                        \"\r\n                        style=\"\r\n                          position: relative;\r\n                          width: 20px;\r\n                          opacity: 1;\r\n                          margin-left: 5px;\r\n                        \"\r\n                        [(ngModel)]=\"\r\n                          allFractions![page_size! * (page_number! - 1) + i]\r\n                        \"\r\n                        type=\"checkbox\"\r\n                      />\r\n                    </div>\r\n                    <hr />\r\n                    <div class=\"contenedor_fracciones\">\r\n                      <div\r\n                        class=\"fracciones\"\r\n                        *ngFor=\"\r\n                          let item of ticket.fraccionesDisponibles;\r\n                          let j = index\r\n                        \"\r\n                      >\r\n                        <input\r\n                          (click)=\"\r\n                            fraccionSeleccionada(\r\n                              page_size * (page_number - 1) + i,\r\n                              item\r\n                            )\r\n                          \"\r\n                          [checked]=\"\r\n                            isSelected(page_size * (page_number - 1) + i, item)\r\n                          \"\r\n                          class=\"checkbox\"\r\n                          type=\"checkbox\"\r\n                          id=\"{{ ticket.identificador }}-{{ item }}\"\r\n                        />\r\n                        <label for=\"{{ ticket.identificador }}-{{ item }}\">{{\r\n                          item\r\n                        }}</label>\r\n                      </div>\r\n                    </div>\r\n                    <hr />\r\n                  </div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <hr size=\"2px\" color=\"gray\" style=\"width: 100%\" />\r\n        </table>\r\n        <div class=\"contenedor_botones\">\r\n          <mat-paginator\r\n            style-paginator\r\n            [length]=\"ticketsDisponibles.length\"\r\n            [pageSize]=\"page_size\"\r\n            (page)=\"handlerPage($event)\"\r\n          >\r\n          </mat-paginator>\r\n        </div>\r\n        <!-- {{ ticketsDisponibles | json }} -->\r\n      </div>\r\n      <!-- \r\n    <div class=\"boton_boleto\">\r\n      <button (click)=\"abrirResumen()\">RESUMEN DE BOLETOS</button>\r\n    </div> -->\r\n    </div>\r\n  </div>\r\n\r\n  <app-carrito\r\n    class=\"ticketScroller\"\r\n    (emitirCompra)=\"comprar()\"\r\n    (eliminarTodo)=\"deleteAllTickets()\"\r\n    (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n    (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n    (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\r\n    (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n    (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n    [ticketsLoteria]=\"ticketsLoteria\"\r\n    [ticketsMillonaria]=\"ticketsMillonaria\"\r\n    [ticketsLotto]=\"ticketsLotto\"\r\n    [ticketsPozo]=\"ticketsPozo\"\r\n    tipoLoteria=\"loteria\"\r\n  >\r\n  </app-carrito>\r\n</div>\r\n\r\n<app-loader\r\n  loader=\"loteria\"\r\n  [message]=\"loadingMessage!\"\r\n  *ngIf=\"isLoading\"\r\n></app-loader>\r\n<app-floating-menu\r\n  (emitirCompra)=\"comprar()\"\r\n  (eliminarTodo)=\"deleteAllTickets()\"\r\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n  (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\r\n  [ticketsLoteria]=\"ticketsLoteria\"\r\n  [ticketsLotto]=\"ticketsLotto\"\r\n  [ticketsPozo]=\"ticketsPozo\"\r\n  [ticketsMillonaria]=\"ticketsMillonaria\"\r\n  tipoLoteria=\"loteria\"\r\n></app-floating-menu>\r\n<!-- <app-floating-menu\r\n  (emitirCompra)=\"comprar()\"\r\n  (eliminarTodo)=\"deleteAllTickets()\"\r\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n  [ticketsLoteria]=\"ticketsLoteria\"\r\n  [ticketsLotto]=\"ticketsLotto\"\r\n  [ticketsPozo]=\"ticketsPozo\"\r\n  [total]=\"total\"\r\n  tipoLoteria=\"loteria\"\r\n></app-floating-menu> -->\r\n<app-error\r\n  [msg]=\"errorMessage!\"\r\n  (closeError)=\"closeError()\"\r\n  *ngIf=\"isError\"\r\n></app-error>\r\n<app-error\r\n  [msg]=\"validationErrorMessage!\"\r\n  (closeError)=\"closeValidationError()\"\r\n  *ngIf=\"isValidationError\"\r\n></app-error>\r\n\r\n<app-confirmacion-de-venta\r\n  (compraConfirmada)=\"confirmarCompra()\"\r\n  (compraCancelada)=\"cancelarCompra()\"\r\n  (comprarDespues)=\"dismissCompras()\"\r\n  [compra]=\"detalleCompra\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"confirmacionDeCompra\"\r\n></app-confirmacion-de-venta>\r\n<app-instantaneas\r\n  (close)=\"abrirFinalizar()\"\r\n  [resultados]=\"instantaneas\"\r\n  tipoLoteria=\"1\"\r\n  [isLoteriaNacional]=\"true\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"isInstantaneas\"\r\n></app-instantaneas>\r\n<app-venta-finalizada\r\n  (volver)=\"finalizarCompra()\"\r\n  [compra]=\"detalleCompra\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"compraFinalizada\"\r\n></app-venta-finalizada>\r\n<app-saldo-insuficiente\r\n  [message]=\"recargaDeSaldoMessage\"\r\n  (volver)=\"dismissCompras()\"\r\n  (recarga)=\"irARecarga()\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"saldoInsuficiente\"\r\n></app-saldo-insuficiente>\r\n<app-venta-cancelada\r\n  class=\"paymentItem\"\r\n  [message]=\"cancelMessage\"\r\n  *ngIf=\"compraCancelada\"\r\n></app-venta-cancelada>\r\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { PageEvent } from '@angular/material/paginator';\r\nimport {\r\n  sorteo,\r\n  ticketsNacional,\r\n  ticketsAnimales,\r\n  ticketsLotto,\r\n} from '../../interfaces/venta';\r\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\r\n\r\nimport { VentasService } from '../../services/ventas.service';\r\nimport { PagosService } from '../..//services/pagos.service';\r\nimport { CarritoService } from '../../services/carrito.service';\r\nimport { VentaService as LoteriaService } from '../../../juegos/loteria/services/venta.service';\r\n@Component({\r\n  selector: 'app-loteria',\r\n  templateUrl: './loteria.component.html',\r\n  styleUrls: ['./loteria.component.scss'],\r\n})\r\nexport class LoteriaComponent implements OnInit {\r\n  tickets: any;\r\n\r\n  sorteo?: sorteo[];\r\n  ticketsDisponibles?: any;\r\n  allFractions?: boolean[];\r\n  fracciones?: number;\r\n  token?: string;\r\n  usuario?: string;\r\n  ticketsPozo: any;\r\n  ticketsLotto: any;\r\n  ticketsLoteria: any;\r\n  ticketsCarrito: any;\r\n  descuentos: any;\r\n  combinacionDeLaSuerte: any = ['', '', '', '', ''];\r\n  mostrar: boolean = false;\r\n  fondo: boolean = false;\r\n  tipoSeleccion: number = 96;\r\n  showNumeros: boolean = false;\r\n  page_size: number = 9;\r\n  page_number: number = 1;\r\n  pageSizeOptions = [5, 10, 20, 100];\r\n  ticketsMillonaria: any;\r\n\r\n  constructor(\r\n    private lotteryService: VentasService,\r\n    private paymentService: PagosService,\r\n    private cart: CarritoService,\r\n    private loteria: LoteriaService,\r\n    private actRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    this.actRoute.params.subscribe((params) => {\r\n      this.token! = params['token'];\r\n    });\r\n  }\r\n  async ngOnInit() {\r\n    try {\r\n      this.loadingMessage = 'Cargando los sorteos disponibles';\r\n      this.isLoading = true;\r\n      if (this.token!) {\r\n        let data = await this.lotteryService.authUser(this.token!);\r\n      }\r\n      await this.getCarritoTickets();\r\n      let authData = this.lotteryService.getAuthData();\r\n      this.sorteo = await this.loteria.obtenerSorteo(authData);\r\n      this.descuentos = await this.lotteryService.obtenerDescuentos();\r\n      this.isLoading = false;\r\n      this.showComponents = true;\r\n    } catch (e: any) {\r\n      console.log(e.message);\r\n      this.isLoading = false;\r\n      this.openError(e.message);\r\n    }\r\n  }\r\n\r\n  async getCarritoTickets() {\r\n    let carrito = await this.cart.buscarCarrito();\r\n    this.ticketsLoteria = carrito.loteria;\r\n    this.ticketsLotto = carrito.lotto;\r\n    this.ticketsMillonaria = carrito.millonaria;\r\n    this.ticketsPozo = carrito.pozo;\r\n  }\r\n  sorteoSeleccionado?: sorteo;\r\n  procesaEmitir(sorteo: any) {\r\n    this.sorteoSeleccionado! = sorteo;\r\n    this.showNumeros = false;\r\n  }\r\n\r\n  async buscarNumero() {\r\n    try {\r\n      this.loadingMessage = 'Buscando combinaciones disponibles';\r\n      this.isLoading = true;\r\n\r\n      this.showNumeros = false;\r\n\r\n      let combinacion = this.combinacionDeLaSuerte.map((element: any) => {\r\n        element = element.toString();\r\n        if (element == null || element == undefined || element == '') {\r\n          return '_';\r\n        } else {\r\n          return element;\r\n        }\r\n      });\r\n      let authData = this.lotteryService.getAuthData();\r\n\r\n      this.ticketsDisponibles! = await this.loteria.obtenerTickets(\r\n        this.sorteoSeleccionado!!.sorteo,\r\n        combinacion.join(''),\r\n        '',\r\n        this.tipoSeleccion,\r\n        authData\r\n      );\r\n\r\n      this.allFractions! = [];\r\n      this.ticketsDisponibles!!.forEach((ticket: any) => {\r\n        this.allFractions!!.push(false);\r\n      });\r\n\r\n      this.combinacionDeLaSuerte = ['', '', '', '', ''];\r\n      this.showNumeros = true;\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  handlerPage(e: PageEvent) {\r\n    this.page_size = e.pageSize;\r\n    this.page_number = e.pageIndex + 1;\r\n  }\r\n\r\n  async fraccionSeleccionada(idTicket: number, fraccion: string) {\r\n    try {\r\n      this.changeDetectorRef.detectChanges();\r\n      if (this.allFractions![idTicket]) this.allFractions![idTicket] = false;\r\n      this.changeDetectorRef.markForCheck();\r\n      let index =\r\n        this.ticketsDisponibles![idTicket].seleccionados.indexOf(fraccion);\r\n\r\n      if (index != -1) {\r\n        let identificador = this.ticketsDisponibles![idTicket].identificador;\r\n        let ticketLoteria = this.ticketsLoteria[identificador];\r\n        let aux = {\r\n          ticket: ticketLoteria,\r\n          fraccion,\r\n        };\r\n        await this.deleteLoteriaFraccion(aux);\r\n        this.changeDetectorRef.detectChanges();\r\n        //this.ticketsDisponibles![idTicket].seleccionados.pop();\r\n        this.ticketsDisponibles![idTicket].seleccionados.splice(index, 1);\r\n        this.changeDetectorRef.markForCheck();\r\n      } else {\r\n        let count = (await this.cart.getCount()) + 1;\r\n        this.changeDetectorRef.detectChanges();\r\n        this.ticketsDisponibles![idTicket].seleccionados.push(fraccion);\r\n        this.changeDetectorRef.markForCheck();\r\n        if (count <= 1000) {\r\n          await this.pushToSeleccionado(this.ticketsDisponibles![idTicket], [\r\n            fraccion,\r\n          ]);\r\n        } else {\r\n          this.changeDetectorRef.detectChanges();\r\n          this.ticketsDisponibles![idTicket].seleccionados.pop();\r\n          this.changeDetectorRef.markForCheck();\r\n\r\n          let errorMessage =\r\n            'Incluir el boleto excede el límite de compra. Si quieres escoger este boleto, por favor elimina algún otro de tu carrito.';\r\n          this.openError(errorMessage);\r\n        }\r\n      }\r\n      await this.setDescuento(1);\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async setDescuento(tipoLoteria: any) {\r\n    return;\r\n    let descuentos = this.descuentos.filter(\r\n      (element: any) => parseInt(element.tipoLoteria) == tipoLoteria\r\n    );\r\n    for (let index = 0; index < descuentos.length; index++) {\r\n      const element = descuentos[index];\r\n      let conteo = await this.cart.contarBoletos(element.sorteo, tipoLoteria);\r\n      if (conteo >= parseInt(element.cantidad)) {\r\n        await this.cart.calcularDescuento(element);\r\n      } else {\r\n        await this.cart.eliminarDescuento(element, tipoLoteria);\r\n      }\r\n      await this.getCarritoTickets();\r\n    }\r\n    await this.cart.setTotalConDesc();\r\n  }\r\n\r\n  async seleccionarTodo(id: number) {\r\n    try {\r\n      this.changeDetectorRef.detectChanges();\r\n      this.allFractions![id] = !this.allFractions![id];\r\n      this.changeDetectorRef.markForCheck();\r\n      //      let fracciones = [...this.ticketsDisponibles![id].fraccionesDisponibles];\r\n      let fracciones = [\r\n        ...this.ticketsDisponibles![id].fraccionesDisponibles.filter(\r\n          (x: any) => !this.ticketsDisponibles![id].seleccionados.includes(x)\r\n        ),\r\n      ];\r\n      if (this.allFractions![id]) {\r\n        let count =\r\n          (await this.cart.getCount()) +\r\n          (fracciones.length -\r\n            this.ticketsDisponibles![id].seleccionados.length);\r\n        if (count <= 1000) {\r\n          this.ticketsDisponibles![id].seleccionados =\r\n            this.ticketsDisponibles![id].seleccionados.concat(fracciones);\r\n          await this.pushToSeleccionado(\r\n            this.ticketsDisponibles![id],\r\n            fracciones\r\n          );\r\n        } else {\r\n          this.changeDetectorRef.detectChanges();\r\n          this.allFractions![id] = false;\r\n          this.changeDetectorRef.markForCheck();\r\n          let errorMessage =\r\n            'Incluir los boletos excede el límite de compra. Si quieres escoger estos boletos, por favor elimina algunos de tu carrito.';\r\n          this.openError(errorMessage);\r\n        }\r\n      } else {\r\n        let identificador = this.ticketsDisponibles![id].identificador;\r\n        await this.deleteLoteriaTicket(this.ticketsLoteria[identificador]);\r\n        this.ticketsDisponibles![id].seleccionados = [];\r\n      }\r\n      await this.setDescuento(1);\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async pushToSeleccionado(ticket: any, fracciones: any) {\r\n    try {\r\n      this.loadingMessage = 'Agregando boleto al carrito';\r\n      this.isLoading = true;\r\n\r\n      await this.getCarritoTickets();\r\n      let subtotalTest =\r\n        parseFloat(this.sorteoSeleccionado!.precio) * fracciones.length;\r\n      let subtotal =\r\n        parseFloat(this.sorteoSeleccionado!.precio) *\r\n        ticket.seleccionados.length;\r\n      let aux = {\r\n        ticket,\r\n        fracciones,\r\n        sorteo: this.sorteoSeleccionado!,\r\n        subtotal,\r\n      };\r\n      let hasBalance = await this.paymentService.hasBalance(\r\n        subtotalTest,\r\n        this.token!\r\n      );\r\n      if (hasBalance) {\r\n        this.ticketsLoteria[ticket.identificador] = aux;\r\n        let reservaId = this.cart.getReservaId();\r\n        let response = await this.lotteryService.reservarBoletos(\r\n          this.token!,\r\n          aux,\r\n          1,\r\n          reservaId\r\n        );\r\n        this.cart.setReservaId(response);\r\n\r\n        await this.cart.setCarrito(aux, 1);\r\n        await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n        await this.getCarritoTickets();\r\n\r\n        //this.getTotal();\r\n\r\n        this.isLoading = false;\r\n      } else {\r\n        this.isLoading = false;\r\n        let message =\r\n          'Tu saldo es insuficiente para agregar este boleto al carrito';\r\n        var idTicket = this.ticketsDisponibles!.findIndex(\r\n          (p: any) => p.identificador == ticket.identificador\r\n        );\r\n        this.ticketsDisponibles![idTicket].seleccionados =\r\n          this.ticketsDisponibles![idTicket].seleccionados.filter(\r\n            (el: any) => !fracciones.includes(el)\r\n          );\r\n        this.allFractions![idTicket] = false;\r\n\r\n        this.recargarSaldo(message);\r\n      }\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  isSelected(idTicket: number, idFraccion: string) {\r\n    let ticket = this.ticketsDisponibles![idTicket];\r\n    if (ticket.seleccionados.indexOf(idFraccion) != -1) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  confirmacionDeCompra: boolean = false;\r\n  compraFinalizada: boolean = false;\r\n  saldoInsuficiente: boolean = false;\r\n  compraCancelada: boolean = false;\r\n  instantaneas: any;\r\n  isInstantaneas: boolean = false;\r\n  cancelMessage: string = '';\r\n  detalleCompra: any;\r\n  recargaDeSaldoMessage?: string;\r\n\r\n  dismissCompras() {\r\n    this.confirmacionDeCompra = false;\r\n    this.isInstantaneas = false;\r\n\r\n    this.compraFinalizada = false;\r\n    this.saldoInsuficiente = false;\r\n    this.compraCancelada = false;\r\n  }\r\n\r\n  volver() {\r\n    this.dismissCompras();\r\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token!}`);\r\n  }\r\n\r\n  total?: string;\r\n  getTotal() {\r\n    this.changeDetectorRef.detectChanges();\r\n\r\n    this.total = this.cart.getTotal();\r\n    this.changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  comprar() {\r\n    this.dismissCompras();\r\n\r\n    let loteriaAux = this.ticketsLoteria;\r\n    let loteria = [];\r\n    for (let id in loteriaAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = loteriaAux[id].ticket.combinacion;\r\n      aux['fracciones'] = loteriaAux[id].ticket.seleccionados;\r\n      aux['subtotal'] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(\r\n        loteriaAux[id].subtotalConDesc\r\n      ).toFixed(2);\r\n      aux['tieneDescuento'] = loteriaAux[id].tieneDescuento;\r\n      aux['fecha'] = loteriaAux[id].sorteo.fecha;\r\n      aux['sorteo'] = loteriaAux[id].sorteo.sorteo;\r\n      loteria.push(aux);\r\n    }\r\n    let lottoAux = this.ticketsLotto;\r\n    let lotto = [];\r\n    for (let id in lottoAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = lottoAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = lottoAux[id].ticket.combinacion2;\r\n      aux['combinacion3'] = lottoAux[id].ticket.combinacion3;\r\n      aux['combinacion4'] = lottoAux[id].ticket.combinacion4;\r\n      aux['sorteo'] = lottoAux[id].sorteo.sorteo;\r\n      aux['subtotal'] = parseFloat(lottoAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(lottoAux[id].subtotalConDesc).toFixed(\r\n        2\r\n      );\r\n      aux['tieneDescuento'] = lottoAux[id].tieneDescuento;\r\n      aux['fecha'] = lottoAux[id].sorteo.fecha;\r\n      lotto.push(aux);\r\n    }\r\n    let pozoAux = this.ticketsPozo;\r\n    let pozo = [];\r\n    for (let id in pozoAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = pozoAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = pozoAux[id].ticket.combinacion2;\r\n      aux['mascota'] = pozoAux[id].ticket.mascota;\r\n      aux['sorteo'] = pozoAux[id].sorteo.sorteo;\r\n      aux['subtotal'] = parseFloat(pozoAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(pozoAux[id].subtotalConDesc).toFixed(\r\n        2\r\n      );\r\n      aux['tieneDescuento'] = pozoAux[id].tieneDescuento;\r\n      aux['fecha'] = pozoAux[id].sorteo.fecha;\r\n      pozo.push(aux);\r\n    }\r\n    let millonariaAux = this.ticketsMillonaria;\r\n    let millonaria = [];\r\n    for (let id in millonariaAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = millonariaAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = millonariaAux[id].ticket.combinacion2;\r\n      aux['fracciones'] = millonariaAux[id].ticket.seleccionados;\r\n      aux['subtotal'] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(\r\n        millonariaAux[id].subtotalConDesc\r\n      ).toFixed(2);\r\n      aux['tieneDescuento'] = millonariaAux[id].tieneDescuento;\r\n      aux['fecha'] = millonariaAux[id].sorteo.fecha;\r\n      aux['sorteo'] = millonariaAux[id].sorteo.sorteo;\r\n      millonaria.push(aux);\r\n    }\r\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\r\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\r\n\r\n    this.detalleCompra = {\r\n      loteria,\r\n      millonaria,\r\n      lotto,\r\n      pozo,\r\n      amount,\r\n      amountConDesc,\r\n    };\r\n\r\n    this.confirmacionDeCompra = true;\r\n  }\r\n\r\n  finalizarCompra() {\r\n    this.paymentService.finalizarCompra();\r\n    this.dismissCompras();\r\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token!}`);\r\n  }\r\n\r\n  irARecarga() {}\r\n  async confirmarCompra() {\r\n    try {\r\n      this.isLoading = true;\r\n      this.loadingMessage = 'Espera mientras procesamos tu compra';\r\n      let hasBalance = await this.paymentService.hasBalance(0, this.token!);\r\n\r\n      if (hasBalance) {\r\n        let reservaId = this.cart.getReservaId();\r\n        let cartValidation = await this.cart.validarCarrito(reservaId);\r\n        if (cartValidation.status) {\r\n          let response = await this.paymentService.confirmarCompra(\r\n            this.token!,\r\n            reservaId\r\n          );\r\n          if (response.status) {\r\n            if (response.instantanea.status) {\r\n              this.dismissCompras();\r\n              this.instantaneas = response.instantanea.data;\r\n              this.isInstantaneas = true;\r\n            } else {\r\n              this.instantaneas = '';\r\n              this.abrirFinalizar();\r\n            }\r\n          } else {\r\n            this.cancelarCompra();\r\n          }\r\n        } else {\r\n          this.openValidationError(cartValidation.message);\r\n        }\r\n        this.isLoading = false;\r\n      } else {\r\n        this.isLoading = false;\r\n        let message = 'Tu saldo es insuficiente para realizar la compra';\r\n        this.recargarSaldo(message);\r\n      }\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  cancelarCompra() {\r\n    this.dismissCompras();\r\n    this.compraCancelada = true;\r\n  }\r\n\r\n  async abrirFinalizar() {\r\n    this.dismissCompras();\r\n    await this.cart.borrarCarrito();\r\n    this.compraFinalizada = true;\r\n  }\r\n\r\n  recargarSaldo(message: any) {\r\n    this.recargaDeSaldoMessage = message;\r\n    this.dismissCompras();\r\n    this.saldoInsuficiente = true;\r\n  }\r\n\r\n  showComponents: boolean = false;\r\n  isLoading?: boolean;\r\n  loadingMessage?: string;\r\n\r\n  async deleteLoteriaTicket(data: any) {\r\n    try {\r\n      await this.getCarritoTickets();\r\n      let identificador = data.ticket.identificador;\r\n      let fracciones = data.ticket.seleccionados;\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let sorteo = this.ticketsLoteria[identificador].sorteo;\r\n      let ticket = this.ticketsLoteria[identificador].ticket;\r\n      let reservaId = this.cart.getReservaId();\r\n      if (fracciones.length != 0) {\r\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n          this.token!,\r\n          ticket,\r\n          sorteo,\r\n          fracciones,\r\n          1,\r\n          reservaId\r\n        );\r\n      }\r\n      delete this.ticketsLoteria[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 1);\r\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n      //this.getTotal();\r\n      if (this.ticketsDisponibles! && this.ticketsDisponibles!.length) {\r\n        let deletedIndex = this.ticketsDisponibles!.findIndex(\r\n          (x: any) => x.identificador === identificador\r\n        );\r\n        if (deletedIndex != -1) {\r\n          this.allFractions![deletedIndex] = false;\r\n          this.ticketsDisponibles![deletedIndex].seleccionados = [];\r\n        }\r\n      }\r\n      await this.setDescuento(1);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteLottoTicket(data: any) {\r\n    try {\r\n      await this.getCarritoTickets();\r\n      let identificador = data.ticket.identificador;\r\n      let fraccion = '';\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsLotto[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n      let reservaId = this.cart.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token!,\r\n        ticket,\r\n        sorteo,\r\n        fraccion,\r\n        2,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsLotto[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 2);\r\n      await this.cart.setCarritoLotto(this.ticketsLotto);\r\n      //this.getTotal();\r\n      await this.setDescuento(2);\r\n\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deletePozoTicket(data: any) {\r\n    try {\r\n      await this.getCarritoTickets();\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let identificador = data.ticket.identificador;\r\n      let fraccion = '';\r\n      let ticket = this.ticketsPozo[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n      let reservaId = this.cart.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token!,\r\n        ticket,\r\n        sorteo,\r\n        fraccion,\r\n        5,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsPozo[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 5);\r\n      await this.cart.setCarritoPozo(this.ticketsPozo);\r\n      //this.getTotal();\r\n\r\n      await this.setDescuento(5);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteLoteriaFraccion(data: any) {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      await this.getCarritoTickets();\r\n      let identificador = data.ticket.ticket.identificador;\r\n      let ticket = data.ticket.ticket;\r\n      let sorteo = data.ticket.sorteo;\r\n      let fraccion = data.fraccion;\r\n\r\n      let reservaId = this.cart.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token!,\r\n        ticket,\r\n        sorteo,\r\n        [fraccion],\r\n        1,\r\n        reservaId\r\n      );\r\n      let indexA = this.ticketsLoteria[\r\n        identificador\r\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\r\n      this.ticketsLoteria[identificador].ticket.seleccionados.splice(indexA, 1);\r\n      let indexB = this.ticketsLoteria[identificador].fracciones.findIndex(\r\n        (x: any) => x == fraccion\r\n      );\r\n      this.ticketsLoteria[identificador].fracciones.splice(indexB, 1);\r\n      if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\r\n        await this.cart.removeFromCart(this.ticketsLoteria[identificador], 1);\r\n        delete this.ticketsLoteria[identificador];\r\n      } else {\r\n        await this.cart.setCarrito(this.ticketsLoteria[identificador], 1);\r\n        this.ticketsLoteria[identificador].subtotal -= parseFloat(\r\n          sorteo.precio\r\n        );\r\n      }\r\n\r\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n      //this.getTotal();\r\n\r\n      await this.setDescuento(1);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteMillonariaTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fracciones = data.ticket.seleccionados;\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsMillonaria[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      if (fracciones.length != 0) {\r\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n          this.token!,\r\n          ticket,\r\n          sorteo,\r\n          fracciones,\r\n          14,\r\n          reservaId\r\n        );\r\n      }\r\n      delete this.ticketsMillonaria[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 1);\r\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\r\n\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(14);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteAllTickets() {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boletos del carrito';\r\n      this.isLoading = true;\r\n      await this.getCarritoTickets();\r\n\r\n      let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\r\n        return {\r\n          ticket: this.ticketsLoteria[key].ticket,\r\n          sorteo: this.ticketsLoteria[key].sorteo,\r\n        };\r\n      });\r\n      let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\r\n        return {\r\n          ticket: this.ticketsLotto[key].ticket,\r\n          sorteo: this.ticketsLotto[key].sorteo,\r\n        };\r\n      });\r\n      let boletosPozo = Object.keys(this.ticketsPozo).map((key) => {\r\n        return {\r\n          ticket: this.ticketsPozo[key].ticket,\r\n          sorteo: this.ticketsPozo[key].sorteo,\r\n        };\r\n      });\r\n      let reservaId = this.cart.getReservaId();\r\n      /*       await this.lotteryService.eliminarTodosLosBoletosDeReserva(\r\n        this.token!,\r\n        boletosLoteria,\r\n        boletosLotto,\r\n        boletosPozo,\r\n        reservaId\r\n      ); */\r\n\r\n      Object.keys(this.ticketsLoteria).forEach((key) => {\r\n        if (this.ticketsDisponibles! && this.ticketsDisponibles!.length != 0) {\r\n          let deletedIndex = this.ticketsDisponibles!.findIndex(\r\n            (x: any) => x.identificador == key\r\n          );\r\n          if (deletedIndex != -1) {\r\n            this.allFractions![deletedIndex] = false;\r\n            this.ticketsDisponibles![deletedIndex].seleccionados = [];\r\n          }\r\n        }\r\n      });\r\n      await this.cart.borrarCarrito();\r\n      //this.getTotal();\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  isError: boolean = false;\r\n  errorMessage?: string;\r\n  openError(msg: any) {\r\n    this.errorMessage = msg;\r\n    this.isError = true;\r\n  }\r\n\r\n  closeError() {\r\n    this.isError = false;\r\n  }\r\n  isValidationError: boolean = false;\r\n  validationErrorMessage?: string;\r\n  openValidationError(msg: any) {\r\n    this.validationErrorMessage = msg;\r\n    this.isValidationError = true;\r\n  }\r\n\r\n  closeValidationError() {\r\n    this.isValidationError = false;\r\n    this.validationErrorMessage = '';\r\n    window.location.reload();\r\n  }\r\n}\r\n","<ventas-menu-header></ventas-menu-header>\r\n\r\n<div class=\"contenedor_loteria\" *ngIf=\"showComponents\">\r\n  <div class=\"ventasBox\">\r\n    <app-detalle-sorteo\r\n      titulo=\"Lotto\"\r\n      class=\"infoBox\"\r\n      color=\"lotto\"\r\n      [sorteos]=\"sorteo\"\r\n      [loteria]=\"2\"\r\n      (emitir)=\"procesaEmitir($event)\"\r\n    >\r\n    </app-detalle-sorteo>\r\n\r\n    <div class=\"contenedor_seleccion\">\r\n      <div class=\"selectBox\">\r\n        <div class=\"contenedor_select\">\r\n          <h3>¿Cómo quieres comprar?</h3>\r\n          <select\r\n            class=\"select_option\"\r\n            name=\"\"\r\n            id=\"\"\r\n            [(ngModel)]=\"tipoSeleccion\"\r\n          >\r\n            <option class=\"option\" value=\"96\">Selección individual</option>\r\n            <option class=\"option\" value=\"5\">5 Boletos al azar</option>\r\n            <option class=\"option\" value=\"30\">30 Boletos al azar</option>\r\n            <option class=\"option\" value=\"50\">50 Boletos al azar</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"numeros_suerte\">\r\n          <h3>Ingresa tu número de la suerte:</h3>\r\n\r\n          <div class=\"numeros\">\r\n            <input\r\n              #input1\r\n              [appAutoTab]=\"input2\"\r\n              type=\"text\"\r\n              name=\"\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              maxlength=\"1\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[0]\"\r\n            />\r\n            <input\r\n              #input2\r\n              [appAutoTab]=\"input3\"\r\n              type=\"text\"\r\n              name=\"\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              maxlength=\"1\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[1]\"\r\n            />\r\n            <input\r\n              #input3\r\n              [appAutoTab]=\"input4\"\r\n              type=\"text\"\r\n              name=\"\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              maxlength=\"1\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[2]\"\r\n            />\r\n            <input\r\n              #input4\r\n              [appAutoTab]=\"input5\"\r\n              type=\"text\"\r\n              name=\"\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              maxlength=\"1\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[3]\"\r\n            />\r\n            <input\r\n              #input5\r\n              [appAutoTab]=\"input6\"\r\n              type=\"text\"\r\n              name=\"\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              maxlength=\"1\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[4]\"\r\n            />\r\n            <input\r\n              #input6\r\n              type=\"text\"\r\n              name=\"\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              maxlength=\"1\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[5]\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"activado\" (click)=\"buscarNumero()\">BUSCAR NUMERO</button>\r\n      </div>\r\n      <p class=\"tagItem\">\r\n        Si quieres cambiar tu número, ingrésalo nuevamente y haz click en\r\n        \"Buscar número\"\r\n      </p>\r\n      <div *ngIf=\"showNumeros\" class=\"contenedor_numeros_suerte\">\r\n        <table>\r\n          <tbody>\r\n            <tr\r\n              *ngFor=\"\r\n                let ticket of ticketsDisponibles\r\n                  | paginacion: page_size:page_number;\r\n                let i = index\r\n              \"\r\n            >\r\n              <td>\r\n                <div class=\"contenedor\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    [checked]=\"ticket.status\"\r\n                    (click)=\"\r\n                      seleccionarTicket(page_size! * (page_number! - 1) + i)\r\n                    \"\r\n                  />\r\n                  <div class=\"contenedor_numeros\">\r\n                    <!-- <p *ngFor=\"let numero of ticket.display\">{{ numero }}</p> -->\r\n                    <p>{{ ticket!.combinacion1 }}</p>\r\n                  </div>\r\n                  <hr />\r\n                  <div class=\"contenedor_fracciones\">\r\n                    <p *ngIf=\"ticket!.combinacion3 != ''\">\r\n                      {{ sorteoSeleccionado!.combinacion3 }}:\r\n                      <span>{{ ticket!.combinacion3 }}</span>\r\n                    </p>\r\n                    <p *ngIf=\"ticket!.combinacion2 != ''\">\r\n                      {{ sorteoSeleccionado!.combinacion2 }}:\r\n                      <span>{{ ticket!.combinacion2 }}</span>\r\n                    </p>\r\n                    <p *ngIf=\"ticket!.combinacion4 != ''\">\r\n                      {{ sorteoSeleccionado!.combinacion4 }}:\r\n                      <span>{{ ticket!.combinacion4 }}</span>\r\n                    </p>\r\n                    <p\r\n                      *ngIf=\"ticket!.combinacion5 && ticket!.combinacion5 != ''\"\r\n                    >\r\n                      {{ sorteoSeleccionado!.combinacion5 }}:\r\n                      <img\r\n                        [src]=\"obtenerAntojito(ticket!.combinacion5)\"\r\n                        alt=\"\"\r\n                      />\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <!-- <app-seleccion-lotto [tickets]=\"ticket\"></app-seleccion-lotto> -->\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <hr size=\"2px\" color=\"gray\" />\r\n        </table>\r\n\r\n        <div class=\"contenedor_botones\">\r\n          <mat-paginator\r\n            style-paginator\r\n            [length]=\"ticketsDisponibles.length\"\r\n            [pageSize]=\"page_size\"\r\n            (page)=\"handlerPage($event)\"\r\n          >\r\n          </mat-paginator>\r\n        </div>\r\n      </div>\r\n      <!-- \r\n    <div class=\"boton_boleto\"> <button (click)=\"abrirResumen()\">RESUMEN DE BOLETOS</button>\r\n\r\n    </div> -->\r\n    </div>\r\n  </div>\r\n\r\n  <app-carrito\r\n    class=\"ticketScroller\"\r\n    (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n    (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n    (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n    (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n    (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\r\n    (emitirCompra)=\"comprar()\"\r\n    (eliminarTodo)=\"deleteAllTickets()\"\r\n    [ticketsLoteria]=\"ticketsLoteria\"\r\n    [ticketsLotto]=\"ticketsLotto\"\r\n    [ticketsMillonaria]=\"ticketsMillonaria\"\r\n    [ticketsPozo]=\"ticketsPozo\"\r\n    tipoLoteria=\"lotto\"\r\n  >\r\n  </app-carrito>\r\n</div>\r\n<app-floating-menu\r\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n  (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\r\n  (emitirCompra)=\"comprar()\"\r\n  (eliminarTodo)=\"deleteAllTickets()\"\r\n  [ticketsLoteria]=\"ticketsLoteria\"\r\n  [ticketsLotto]=\"ticketsLotto\"\r\n  [ticketsPozo]=\"ticketsPozo\"\r\n  [ticketsMillonaria]=\"ticketsMillonaria\"\r\n  tipoLoteria=\"lotto\"\r\n></app-floating-menu>\r\n<!-- <app-floating-menu\r\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n  (emitirCompra)=\"comprar()\"\r\n  (eliminarTodo)=\"deleteAllTickets()\"\r\n  [ticketsLoteria]=\"ticketsLoteria\"\r\n  [ticketsLotto]=\"ticketsLotto\"\r\n  [ticketsPozo]=\"ticketsPozo\"\r\n  [total]=\"total\"\r\n  tipoLoteria=\"lotto\"\r\n></app-floating-menu>\r\n --><app-loader\r\n  loader=\"lotto\"\r\n  [message]=\"loadingMessage!\"\r\n  *ngIf=\"isLoading\"\r\n></app-loader>\r\n\r\n<app-error\r\n  [msg]=\"errorMessage!\"\r\n  (closeError)=\"closeError()\"\r\n  *ngIf=\"isError\"\r\n></app-error>\r\n<app-error\r\n  [msg]=\"validationErrorMessage!\"\r\n  (closeError)=\"closeValidationError()\"\r\n  *ngIf=\"isValidationError\"\r\n></app-error>\r\n\r\n<app-confirmacion-de-venta\r\n  (compraConfirmada)=\"confirmarCompra()\"\r\n  (compraCancelada)=\"cancelarCompra()\"\r\n  (comprarDespues)=\"dismissCompras()\"\r\n  [compra]=\"detalleCompra\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"confirmacionDeCompra\"\r\n></app-confirmacion-de-venta>\r\n<app-instantaneas\r\n  (close)=\"abrirFinalizar()\"\r\n  [resultados]=\"instantaneas\"\r\n  tipoLoteria=\"2\"\r\n  [isLoteriaNacional]=\"true\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"isInstantaneas\"\r\n></app-instantaneas>\r\n<app-venta-finalizada\r\n  (volver)=\"finalizarCompra()\"\r\n  [compra]=\"detalleCompra\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"compraFinalizada\"\r\n></app-venta-finalizada>\r\n<app-saldo-insuficiente\r\n  [message]=\"recargaDeSaldoMessage\"\r\n  (volver)=\"dismissCompras()\"\r\n  (recarga)=\"irARecarga()\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"saldoInsuficiente\"\r\n></app-saldo-insuficiente>\r\n<app-venta-cancelada\r\n  class=\"paymentItem\"\r\n  [message]=\"cancelMessage\"\r\n  *ngIf=\"compraCancelada\"\r\n></app-venta-cancelada>\r\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { PageEvent } from '@angular/material/paginator';\r\nimport {\r\n  sorteo,\r\n  ticketsNacional,\r\n  ticketsAnimales,\r\n  ticketsLotto,\r\n} from '../../interfaces/venta';\r\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\r\nimport {VentaService as LottoService} from '../../../juegos/lotto/services/venta.service'\r\nimport { VentasService } from '../../services/ventas.service';\r\nimport { PagosService } from '../..//services/pagos.service';\r\nimport { CarritoService } from '../../services/carrito.service';\r\n\r\n@Component({\r\n  selector: 'app-lotto',\r\n  templateUrl: './lotto.component.html',\r\n  styleUrls: ['./lotto.component.scss'],\r\n})\r\nexport class LottoComponent implements OnInit {\r\n  combinacionDeLaSuerte: any = ['', '', '', '', '', ''];\r\n\r\n  page_size: number = 9;\r\n  page_number: number = 1;\r\n  showNumeros: boolean = false;\r\n  sorteo?: sorteo[];\r\n  ticketsDisponibles?: any;\r\n  pageSizeOptions?: [5, 10, 20, 100];\r\n  token?: string;\r\n  usuario?: string;\r\n  ticketsMillonaria: any;\r\n\r\n  constructor(\r\n    private lotteryService: VentasService,\r\n    private actRoute: ActivatedRoute,\r\n    private cart: CarritoService,\r\n    private lotto: LottoService,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    private paymentService: PagosService,\r\n    private router: Router\r\n  ) {\r\n    this.actRoute.params.subscribe((params) => {\r\n      this.token = params['token'];\r\n    });\r\n  }\r\n  total?: string;\r\n  getTotal() {\r\n    this.changeDetectorRef.detectChanges();\r\n\r\n    this.total = this.cart.getTotal();\r\n    this.changeDetectorRef.markForCheck();\r\n  }\r\n  async buscarNumero() {\r\n    try {\r\n      this.loadingMessage = 'Buscando combinaciones disponibles';\r\n      this.isLoading = true;\r\n      this.showNumeros = false;\r\n      let combinacion = this.combinacionDeLaSuerte.map((element: any) => {\r\n        if (element == null || element == undefined || element == '') {\r\n          return '_';\r\n        } else {\r\n          return element;\r\n        }\r\n      });\r\n      let authData = this.lotteryService.getAuthData();\r\n\r\n      this.ticketsDisponibles = await this.lotto.obtenerTickets(\r\n        this.sorteoSeleccionado!.sorteo,\r\n        combinacion.join(''),\r\n        '',\r\n        this.tipoSeleccion,\r\n        authData\r\n      );\r\n\r\n      this.combinacionDeLaSuerte = ['', '', '', '', '', ''];\r\n      this.showNumeros = true;\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  tipoSeleccion: number = 96;\r\n\r\n  sorteoSeleccionado?: sorteo;\r\n  procesaEmitir(sorteo: any) {\r\n    this.sorteoSeleccionado = sorteo;\r\n    this.showNumeros = false;\r\n  }\r\n  async seleccionarTicket(id: any) {\r\n    try {\r\n      this.ticketsDisponibles![id].status = !this.ticketsDisponibles![id].status;\r\n      if (!this.ticketsDisponibles![id].status) {\r\n        let identificador = this.ticketsDisponibles![id].identificador;\r\n        let ticketLotto = this.ticketsLotto[identificador];\r\n        await this.deleteLottoTicket(ticketLotto);\r\n      } else {\r\n        let count = (await this.cart.getCount()) + 1;\r\n        if (count <= 1000) {\r\n          await this.pushToSeleccionado(this.ticketsDisponibles[id]);\r\n        } else {\r\n          this.changeDetectorRef.detectChanges();\r\n          this.ticketsDisponibles[id].status = false;\r\n          this.changeDetectorRef.markForCheck();\r\n          let errorMessage =\r\n            'Incluir el boleto excede el límite de compra. Si quieres escoger este boleto, por favor elimina algún otro de tu carrito.';\r\n          this.openError(errorMessage);\r\n        }\r\n      }\r\n      await this.setDescuento(2);\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  ticketsLotto: any = {};\r\n\r\n  ticketsPozo: any = {};\r\n  ticketsLoteria: any = {};\r\n\r\n  async pushToSeleccionado(ticket: any) {\r\n    try {\r\n      this.loadingMessage = 'Agregando boleto al carrito';\r\n      this.isLoading = true;\r\n\r\n      let subtotal = this.sorteoSeleccionado!.precio;\r\n      let aux = {\r\n        ticket,\r\n        sorteo: this.sorteoSeleccionado,\r\n        subtotal,\r\n      };\r\n      let hasBalance = await this.paymentService.hasBalance(\r\n        subtotal,\r\n        this.token\r\n      );\r\n      if (hasBalance) {\r\n        this.ticketsLotto[ticket.identificador] = aux;\r\n        let reservaId = this.lotteryService.getReservaId();\r\n        let response = await this.lotteryService.reservarBoletos(\r\n          this.token!,\r\n          aux,\r\n          2,\r\n\r\n          reservaId\r\n        );\r\n\r\n        this.lotteryService.setReservaId(response);\r\n        await this.cart.setCarrito(aux, 2);\r\n        await this.cart.setCarritoLotto(this.ticketsLotto);\r\n        await this.getCarritoTickets();\r\n        //this.getTotal();\r\n        this.isLoading = false;\r\n      } else {\r\n        this.isLoading = false;\r\n        let message =\r\n          'Tu saldo es insuficiente para agregar este boleto al carrito';\r\n        this.ticketsDisponibles.find(\r\n          (x: any) => x.identificador === ticket.identificador\r\n        ).status = false;\r\n        this.recargarSaldo(message);\r\n      }\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  irARecarga() {}\r\n\r\n  abrirResumen() {\r\n    this.router.navigate([`compra_tus_juegos/resumen/${this.token}`]);\r\n  }\r\n\r\n  confirmacionDeCompra: boolean = false;\r\n  compraFinalizada: boolean = false;\r\n  saldoInsuficiente: boolean = false;\r\n  compraCancelada: boolean = false;\r\n\r\n  cancelMessage: string = '';\r\n\r\n  dismissCompras() {\r\n    this.confirmacionDeCompra = false;\r\n    this.compraFinalizada = false;\r\n    this.saldoInsuficiente = false;\r\n    this.compraCancelada = false;\r\n  }\r\n  volver() {\r\n    this.dismissCompras();\r\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\r\n  }\r\n  detalleCompra: any;\r\n  comprar() {\r\n    this.dismissCompras();\r\n\r\n    let loteriaAux = this.ticketsLoteria;\r\n    let loteria = [];\r\n    for (let id in loteriaAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = loteriaAux[id].ticket.combinacion;\r\n      aux['fracciones'] = loteriaAux[id].ticket.seleccionados;\r\n      aux['subtotal'] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(\r\n        loteriaAux[id].subtotalConDesc\r\n      ).toFixed(2);\r\n      aux['tieneDescuento'] = loteriaAux[id].tieneDescuento;\r\n\r\n      aux['fecha'] = loteriaAux[id].sorteo.fecha;\r\n      aux['sorteo'] = loteriaAux[id].sorteo.sorteo;\r\n      loteria.push(aux);\r\n    }\r\n    let lottoAux = this.ticketsLotto;\r\n    let lotto = [];\r\n    for (let id in lottoAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = lottoAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = lottoAux[id].ticket.combinacion2;\r\n      aux['combinacion3'] = lottoAux[id].ticket.combinacion3;\r\n      aux['combinacion4'] = lottoAux[id].ticket.combinacion4;\r\n      aux['sorteo'] = lottoAux[id].sorteo.sorteo;\r\n      aux['subtotal'] = parseFloat(lottoAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(lottoAux[id].subtotalConDesc).toFixed(\r\n        2\r\n      );\r\n      aux['tieneDescuento'] = lottoAux[id].tieneDescuento;\r\n      aux['fecha'] = lottoAux[id].sorteo.fecha;\r\n      lotto.push(aux);\r\n    }\r\n    let pozoAux = this.ticketsPozo;\r\n    let pozo = [];\r\n    for (let id in pozoAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = pozoAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = pozoAux[id].ticket.combinacion2;\r\n      aux['mascota'] = pozoAux[id].ticket.mascota;\r\n      aux['sorteo'] = pozoAux[id].sorteo.sorteo;\r\n      aux['subtotal'] = parseFloat(pozoAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(pozoAux[id].subtotalConDesc).toFixed(\r\n        2\r\n      );\r\n      aux['tieneDescuento'] = pozoAux[id].tieneDescuento;\r\n      aux['fecha'] = pozoAux[id].sorteo.fecha;\r\n      pozo.push(aux);\r\n    }\r\n    let millonariaAux = this.ticketsMillonaria;\r\n    let millonaria = [];\r\n    for (let id in millonariaAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = millonariaAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = millonariaAux[id].ticket.combinacion2;\r\n      aux['fracciones'] = millonariaAux[id].ticket.seleccionados;\r\n      aux['subtotal'] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(\r\n        millonariaAux[id].subtotalConDesc\r\n      ).toFixed(2);\r\n      aux['tieneDescuento'] = millonariaAux[id].tieneDescuento;\r\n      aux['fecha'] = millonariaAux[id].sorteo.fecha;\r\n      aux['sorteo'] = millonariaAux[id].sorteo.sorteo;\r\n      millonaria.push(aux);\r\n    }\r\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\r\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\r\n\r\n    this.detalleCompra = {\r\n      loteria,\r\n      millonaria,\r\n      lotto,\r\n      pozo,\r\n      amount,\r\n      amountConDesc,\r\n    };\r\n\r\n    this.confirmacionDeCompra = true;\r\n  }\r\n  finalizarCompra() {\r\n    this.paymentService.finalizarCompra();\r\n\r\n    this.dismissCompras();\r\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\r\n  }\r\n\r\n  instantaneas: any;\r\n  isInstantaneas: boolean = false;\r\n  async confirmarCompra() {\r\n    try {\r\n      this.isLoading = true;\r\n      this.loadingMessage = 'Espera mientras procesamos tu compra';\r\n      let hasBalance = await this.paymentService.hasBalance(0, this.token);\r\n\r\n      if (hasBalance) {\r\n        let reservaId = this.lotteryService.getReservaId();\r\n        let cartValidation = await this.cart.validarCarrito(reservaId);\r\n        if (cartValidation.status) {\r\n          let response = await this.paymentService.confirmarCompra(\r\n            this.token,\r\n            reservaId\r\n          );\r\n          this.isLoading = false;\r\n          if (response.status) {\r\n            if (response.instantanea.status) {\r\n              this.dismissCompras();\r\n              this.instantaneas = response.instantanea.data;\r\n              this.isInstantaneas = true;\r\n            } else {\r\n              this.instantaneas = '';\r\n              this.abrirFinalizar();\r\n            }\r\n          } else {\r\n            this.cancelarCompra();\r\n          }\r\n        } else {\r\n          this.openValidationError(cartValidation.message);\r\n        }\r\n        this.isLoading = false;\r\n      } else {\r\n        this.isLoading = false;\r\n        let message = 'Tu saldo es insuficiente para realizar la compra';\r\n        this.recargarSaldo(message);\r\n      }\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async abrirFinalizar() {\r\n    this.dismissCompras();\r\n    await this.cart.borrarCarrito();\r\n    this.compraFinalizada = true;\r\n  }\r\n  cancelarCompra() {\r\n    this.dismissCompras();\r\n    this.compraCancelada = true;\r\n  }\r\n\r\n  recargaDeSaldoMessage?: string;\r\n  recargarSaldo(message: string) {\r\n    this.recargaDeSaldoMessage = message;\r\n    this.dismissCompras();\r\n    this.saldoInsuficiente = true;\r\n  }\r\n  handlerPage(e: PageEvent) {\r\n    this.page_size = e.pageSize;\r\n    this.page_number = e.pageIndex + 1;\r\n  }\r\n\r\n  isLoading?: boolean;\r\n  showComponents: boolean = false;\r\n  loadingMessage?: string;\r\n  descuentos: any;\r\n  async ngOnInit() {\r\n    try {\r\n      this.loadingMessage = 'Cargando los sorteos disponibles';\r\n      this.isLoading = true;\r\n      if (this.token) {\r\n        let data = await this.lotteryService.authUser(this.token);\r\n      }\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      let authData = this.lotteryService.getAuthData();\r\n      this.sorteo = await this.lotto.obtenerSorteo(authData);\r\n      this.descuentos = await this.lotteryService.obtenerDescuentos();\r\n      this.isLoading = false;\r\n      this.showComponents = true;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage =\r\n        'Ha ocurrido un error obteniendo los sorteos disponibles. Por favor, verifique si tiene la sesión iniciada e intente de nuevo.';\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async setDescuento(tipoLoteria: any) {\r\n    return;\r\n    let descuentos = this.descuentos.filter(\r\n      (element: any) => parseInt(element.tipoLoteria) == tipoLoteria\r\n    );\r\n    for (let index = 0; index < descuentos.length; index++) {\r\n      const element = descuentos[index];\r\n      let conteo = await this.cart.contarBoletos(element.sorteo, tipoLoteria);\r\n      if (conteo >= parseInt(element.cantidad)) {\r\n        await this.cart.calcularDescuento(element);\r\n      } else {\r\n        await this.cart.eliminarDescuento(element, tipoLoteria);\r\n      }\r\n      await this.getCarritoTickets();\r\n    }\r\n    await this.cart.setTotalConDesc();\r\n  }\r\n  obtenerAntojito(antojito: any) {\r\n    return this.lotto.obtenerCaracteristicasDeAntojito(antojito)!.ruta;\r\n  }\r\n\r\n  async deleteLoteriaFraccion(data: any) {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let identificador = data.ticket.ticket.identificador;\r\n      let ticket = data.ticket.ticket;\r\n      let sorteo = data.ticket.sorteo;\r\n      let fraccion = data.fraccion;\r\n\r\n      let reservaId = this.cart.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        [fraccion],\r\n        1,\r\n        reservaId\r\n      );\r\n      let index = this.ticketsLoteria[\r\n        identificador\r\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\r\n      this.ticketsLoteria[identificador].ticket.seleccionados.splice(index, 1);\r\n      if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\r\n        delete this.ticketsLoteria[identificador];\r\n      }\r\n\r\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n\r\n      await this.setDescuento(1);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteLoteriaTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fracciones = data.ticket.seleccionados;\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsLoteria[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      if (fracciones.length != 0) {\r\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n          this.token,\r\n          ticket,\r\n          sorteo,\r\n          fracciones,\r\n          1,\r\n          reservaId\r\n        );\r\n      }\r\n      delete this.ticketsLoteria[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 1);\r\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(1);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteMillonariaTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fracciones = data.ticket.seleccionados;\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsMillonaria[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      if (fracciones.length != 0) {\r\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n          this.token,\r\n          ticket,\r\n          sorteo,\r\n          fracciones,\r\n          14,\r\n          reservaId\r\n        );\r\n      }\r\n      delete this.ticketsMillonaria[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 1);\r\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\r\n\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(14);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteLottoTicket(data: any) {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let identificador = data.ticket.identificador;\r\n      let fraccion = '';\r\n\r\n      let ticket = this.ticketsLotto[identificador].ticket;\r\n      let sorteo = this.ticketsLotto[identificador].sorteo;\r\n      let reservaId = this.lotteryService.getReservaId();\r\n\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        fraccion,\r\n        2,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsLotto[identificador];\r\n      await this.cart.removeFromCart(ticket, 2);\r\n      await this.cart.setCarritoLotto(this.ticketsLotto);\r\n      if (this.ticketsDisponibles && this.ticketsDisponibles.length) {\r\n        let deletedIndex = this.ticketsDisponibles.findIndex(\r\n          (x: any) => x.identificador === identificador\r\n        );\r\n        if (deletedIndex != -1)\r\n          this.ticketsDisponibles[deletedIndex].status = false;\r\n      }\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(2);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deletePozoTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fraccion = '';\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsPozo[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        fraccion,\r\n        5,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsPozo[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 5);\r\n      await this.cart.setCarritoPozo(this.ticketsPozo);\r\n\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(5);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteAllTickets() {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boletos del carrito';\r\n      this.isLoading = true;\r\n      let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\r\n        return {\r\n          ticket: this.ticketsLoteria[key].ticket,\r\n          sorteo: this.ticketsLoteria[key].sorteo,\r\n        };\r\n      });\r\n      let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\r\n        return {\r\n          ticket: this.ticketsLotto[key].ticket,\r\n          sorteo: this.ticketsLotto[key].sorteo,\r\n        };\r\n      });\r\n      let boletosPozo = Object.keys(this.ticketsPozo).map((key) => {\r\n        return {\r\n          ticket: this.ticketsPozo[key].ticket,\r\n          sorteo: this.ticketsPozo[key].sorteo,\r\n        };\r\n      });\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      /*       await this.lotteryService.eliminarTodosLosBoletosDeReserva(\r\n        this.token,\r\n        boletosLoteria,\r\n        boletosLotto,\r\n        boletosPozo,\r\n        reservaId\r\n      ); */\r\n      Object.keys(this.ticketsLotto).forEach((key) => {\r\n        if (this.ticketsDisponibles && this.ticketsDisponibles.length != 0) {\r\n          let deletedIndex = this.ticketsDisponibles.findIndex(\r\n            (x: any) => x.identificador == key\r\n          );\r\n          if (deletedIndex != -1)\r\n            this.ticketsDisponibles[deletedIndex].status = false;\r\n        }\r\n      });\r\n      await this.cart.borrarCarrito();\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async getCarritoTickets() {\r\n    let carrito = await this.cart.buscarCarrito();\r\n    this.ticketsLoteria = carrito.loteria;\r\n    this.ticketsLotto = carrito.lotto;\r\n    this.ticketsMillonaria = carrito.millonaria;\r\n    this.ticketsPozo = carrito.pozo;\r\n  }\r\n  isError: boolean = false;\r\n  errorMessage?: string;\r\n  openError(msg: string) {\r\n    this.errorMessage = msg;\r\n    this.isError = true;\r\n  }\r\n\r\n  closeError() {\r\n    this.isError = false;\r\n  }\r\n  isValidationError: boolean = false;\r\n  validationErrorMessage?: string;\r\n  openValidationError(msg: string) {\r\n    this.validationErrorMessage = msg;\r\n    this.isValidationError = true;\r\n  }\r\n\r\n  closeValidationError() {\r\n    this.isValidationError = false;\r\n    this.validationErrorMessage = '';\r\n    window.location.reload();\r\n  }\r\n}\r\n","<ventas-menu-header></ventas-menu-header>\r\n\r\n<div class=\"contenedor_loteria\" *ngIf=\"showComponents\">\r\n  <div class=\"ventasBox\">\r\n    <app-detalle-sorteo\r\n      class=\"infoBox\"\r\n      titulo=\"La Millonaria\"\r\n      color=\"millonaria\"\r\n      [sorteos]=\"sorteo\"\r\n      [loteria]=\"5\"\r\n      (emitir)=\"procesaEmitir($event)\"\r\n    >\r\n    </app-detalle-sorteo>\r\n\r\n    <div class=\"contendor_seleccion\">\r\n      <div class=\"contenedor_select_animales\">\r\n        <h3>Selecciona tus series de la suerte</h3>\r\n        <div class=\"options\" *ngIf=\"seleccionSeries.length != 0\">\r\n          <div\r\n            class=\"option\"\r\n            *ngFor=\"let serie of seleccionSeries; let i = index\"\r\n          >\r\n            <input\r\n              (click)=\"agregar($event, serie, i)\"\r\n              type=\"checkbox\"\r\n              [checked]=\"serie.status\"\r\n              name=\"serie\"\r\n              [value]=\"serie\"\r\n              id=\"serie-{{ serie.serie }}\"\r\n            />\r\n            <label for=\"serie-{{ serie.serie }}\">\r\n              <p>{{ serie.serie }}</p>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"selectBox\">\r\n        <div class=\"contenedor_select\">\r\n          <h3>¿Cómo quieres comprar?</h3>\r\n          <select\r\n            class=\"select_option\"\r\n            name=\"\"\r\n            id=\"\"\r\n            [(ngModel)]=\"tipoSeleccion\"\r\n          >\r\n            <option class=\"option\" value=\"96\">Selección individual</option>\r\n            <option class=\"option\" value=\"5\">5 Boletos al azar</option>\r\n            <option class=\"option\" value=\"30\">30 Boletos al azar</option>\r\n            <option class=\"option\" value=\"50\">50 Boletos al azar</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"numeros_suerte\">\r\n          <h3>Ingresa tu número de la suerte:</h3>\r\n          <div class=\"numeros\">\r\n            <input\r\n              #input1\r\n              [appAutoTab]=\"input2\"\r\n              type=\"text\"\r\n              maxlength=\"1\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              name=\"combinacionDeLaSuerte0\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[0]\"\r\n            />\r\n            <input\r\n              #input2\r\n              [appAutoTab]=\"input3\"\r\n              type=\"text\"\r\n              maxlength=\"1\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              name=\"combinacionDeLaSuerte1\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[1]\"\r\n            />\r\n            <input\r\n              #input3\r\n              [appAutoTab]=\"input4\"\r\n              type=\"text\"\r\n              maxlength=\"1\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              name=\"combinacionDeLaSuerte2\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[2]\"\r\n            />\r\n            <input\r\n              #input4\r\n              type=\"text\"\r\n              maxlength=\"1\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              name=\"combinacionDeLaSuerte3\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[3]\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <button class=\"activado\" (click)=\"buscarNumero()\">\r\n          BUSCAR BOLETOS\r\n        </button>\r\n      </div>\r\n\r\n      <p class=\"tagItem\">\r\n        Si quieres cambiar tu número, ingrésalo nuevamente y haz click en\r\n        \"Buscar número\"\r\n      </p>\r\n\r\n      <div *ngIf=\"showNumeros\" class=\"contenedor_numeros_suerte\">\r\n        <table>\r\n          <tbody>\r\n            <tr\r\n              *ngFor=\"\r\n                let ticket of ticketsDisponibles\r\n                  | paginacion: page_size:page_number;\r\n                let i = index\r\n              \"\r\n            >\r\n              <!--   -->\r\n              <td>\r\n                <div class=\"tooltip\">\r\n                  <div class=\"contenedor_numeros\">\r\n                    <div class=\"combinationBox\">\r\n                      <!-- <p *ngFor=\"let numero of ticket.display\">{{ numero }}</p> -->\r\n                      <p>{{ ticket.combinacion1 }}</p>\r\n                      <div class=\"serieBox\">\r\n                        <p class=\"serieTitle\">Serie:</p>\r\n                        <p class=\"serieItem\">{{ ticket.combinacion2 }}</p>\r\n                      </div>\r\n                    </div>\r\n                    <hr />\r\n\r\n                    <div class=\"seleccionAll\">\r\n                      <p>Seleccionar todas las fracciones</p>\r\n                      <input\r\n                        (click)=\"\r\n                          seleccionarTodo(page_size * (page_number - 1) + i)\r\n                        \"\r\n                        style=\"\r\n                          position: relative;\r\n                          width: 20px;\r\n                          opacity: 1;\r\n                          margin-left: 5px;\r\n                        \"\r\n                        [(ngModel)]=\"\r\n                          allFractions![page_size! * (page_number! - 1) + i]\r\n                        \"\r\n                        type=\"checkbox\"\r\n                      />\r\n                    </div>\r\n                    <hr />\r\n                    <div class=\"contenedor_fracciones\">\r\n                      <div\r\n                        class=\"fracciones\"\r\n                        *ngFor=\"\r\n                          let item of ticket.fraccionesDisponibles;\r\n                          let j = index\r\n                        \"\r\n                      >\r\n                        <input\r\n                          (click)=\"\r\n                            fraccionSeleccionada(\r\n                              page_size * (page_number - 1) + i,\r\n                              item\r\n                            )\r\n                          \"\r\n                          [checked]=\"\r\n                            isSelected(page_size * (page_number - 1) + i, item)\r\n                          \"\r\n                          class=\"checkbox\"\r\n                          type=\"checkbox\"\r\n                          id=\"{{ ticket.identificador }}-{{ item }}\"\r\n                        />\r\n                        <label for=\"{{ ticket.identificador }}-{{ item }}\">{{\r\n                          item\r\n                        }}</label>\r\n                      </div>\r\n                    </div>\r\n                    <hr />\r\n                  </div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <hr size=\"2px\" color=\"gray\" style=\"width: 100%\" />\r\n        </table>\r\n        <div class=\"contenedor_botones\">\r\n          <mat-paginator\r\n            style-paginator\r\n            [length]=\"ticketsDisponibles.length\"\r\n            [pageSize]=\"page_size\"\r\n            (page)=\"handlerPage($event)\"\r\n          >\r\n          </mat-paginator>\r\n        </div>\r\n        <!-- {{ ticketsDisponibles | json }} -->\r\n      </div>\r\n\r\n      <!-- <div>\r\n      Page Actual: {{pageActual}}\r\n    </div> -->\r\n      <!-- \r\n    <div class=\"boton_boleto\">\r\n      <button (click)=\"abrirResumen()\">RESUMEN DE BOLETOS</button>\r\n\r\n    </div> -->\r\n    </div>\r\n  </div>\r\n\r\n  <app-carrito\r\n    class=\"ticketScroller\"\r\n    (emitirCompra)=\"comprar()\"\r\n    (eliminarTodo)=\"deleteAllTickets()\"\r\n    (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n    (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n    (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n    (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\r\n    (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n    [ticketsLoteria]=\"ticketsLoteria\"\r\n    [ticketsMillonaria]=\"ticketsMillonaria\"\r\n    [ticketsLotto]=\"ticketsLotto\"\r\n    [ticketsPozo]=\"ticketsPozo\"\r\n    tipoLoteria=\"millonaria\"\r\n  >\r\n  </app-carrito>\r\n</div>\r\n<app-floating-menu\r\n  (emitirCompra)=\"comprar()\"\r\n  (eliminarTodo)=\"deleteAllTickets()\"\r\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n  (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\r\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n  [ticketsLoteria]=\"ticketsLoteria\"\r\n  [ticketsLotto]=\"ticketsLotto\"\r\n  [ticketsPozo]=\"ticketsPozo\"\r\n  [ticketsMillonaria]=\"ticketsMillonaria\"\r\n  tipoLoteria=\"millonaria\"\r\n></app-floating-menu\r\n><!-- \r\n<app-floating-menu\r\n  (emitirCompra)=\"comprar()\"\r\n  (eliminarTodo)=\"deleteAllTickets()\"\r\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n  [ticketsLoteria]=\"ticketsLoteria\"\r\n  [ticketsLotto]=\"ticketsLotto\"\r\n  [ticketsPozo]=\"ticketsPozo\"\r\n  [total]=\"total\"\r\n  tipoLoteria=\"pozo\"\r\n></app-floating-menu> -->\r\n<app-loader\r\n  loader=\"millonaria\"\r\n  [message]=\"loadingMessage!\"\r\n  *ngIf=\"isLoading\"\r\n></app-loader>\r\n\r\n<app-error\r\n  [msg]=\"errorMessage!\"\r\n  (closeError)=\"closeError()\"\r\n  *ngIf=\"isError\"\r\n></app-error>\r\n<app-error\r\n  [msg]=\"validationErrorMessage!\"\r\n  (closeError)=\"closeValidationError()\"\r\n  *ngIf=\"isValidationError\"\r\n></app-error>\r\n<app-confirmacion-de-venta\r\n  (compraConfirmada)=\"confirmarCompra()\"\r\n  (compraCancelada)=\"cancelarCompra()\"\r\n  (comprarDespues)=\"dismissCompras()\"\r\n  [compra]=\"detalleCompra\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"confirmacionDeCompra\"\r\n></app-confirmacion-de-venta>\r\n<app-instantaneas\r\n  (close)=\"abrirFinalizar()\"\r\n  [resultados]=\"instantaneas\"\r\n  tipoLoteria=\"14\"\r\n  [isLoteriaNacional]=\"true\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"isInstantaneas\"\r\n></app-instantaneas>\r\n<app-venta-finalizada\r\n  (volver)=\"finalizarCompra()\"\r\n  [compra]=\"detalleCompra\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"compraFinalizada\"\r\n></app-venta-finalizada>\r\n<app-saldo-insuficiente\r\n  [message]=\"recargaDeSaldoMessage\"\r\n  (volver)=\"dismissCompras()\"\r\n  (recarga)=\"irARecarga()\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"saldoInsuficiente\"\r\n></app-saldo-insuficiente>\r\n<app-venta-cancelada\r\n  class=\"paymentItem\"\r\n  [message]=\"cancelMessage\"\r\n  *ngIf=\"compraCancelada\"\r\n></app-venta-cancelada>\r\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { PageEvent } from '@angular/material/paginator';\r\nimport {\r\n  sorteo,\r\n  ticketsNacional,\r\n  ticketsAnimales,\r\n  ticketsLotto,\r\n} from '../../interfaces/venta';\r\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\r\n\r\nimport { VentaService as MillonariaService } from '../../../juegos/millonaria/services/venta.service';\r\nimport { VentasService } from '../../services/ventas.service';\r\nimport { PagosService } from '../..//services/pagos.service';\r\nimport { CarritoService } from '../../services/carrito.service';\r\n@Component({\r\n  selector: 'app-millonaria',\r\n  templateUrl: './millonaria.component.html',\r\n  styleUrls: ['./millonaria.component.scss'],\r\n})\r\nexport class MillonariaComponent implements OnInit {\r\n  combinacionDeLaSuerte: string[] = ['', '', '', ''];\r\n\r\n  seleccionSeries: any;\r\n  seriesTabs: any = [];\r\n\r\n  page_size: number = 9;\r\n  page_number: number = 1;\r\n  showNumeros: boolean = false;\r\n  sorteo?: sorteo[];\r\n  ticketsDisponibles?: any;\r\n  allFractions?: boolean[];\r\n  pageSizeOptions?: [5, 10, 20, 100];\r\n  token?: string;\r\n  usuario?: string;\r\n  seriesReady: boolean = false;\r\n  constructor(\r\n    private lotteryService: VentasService,\r\n    private actRoute: ActivatedRoute,\r\n    private paymentService: PagosService,\r\n    private cart: CarritoService,\r\n    private millonaria: MillonariaService,\r\n\r\n    private router: Router,\r\n    private changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    this.actRoute.params.subscribe((params) => {\r\n      this.token = params['token'];\r\n    });\r\n  }\r\n  total?: string;\r\n  getTotal() {\r\n    this.changeDetectorRef.detectChanges();\r\n\r\n    this.total = this.cart.getTotal();\r\n    this.changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  agregar(event: any, serie: any, i: number) {\r\n    if (this.seleccionSeries[i].status === false) {\r\n      if (this.seriesTabs.length < 4) {\r\n        this.seleccionSeries[i].status = true;\r\n        this.seriesTabs.push(this.seleccionSeries[i]);\r\n      } else {\r\n        event.preventDefault();\r\n        this.openError('Solo puedes seleccionar un máximo de 4 series.');\r\n        this.changeDetectorRef.detectChanges();\r\n        this.seleccionSeries[i].status = false;\r\n        this.changeDetectorRef.markForCheck();\r\n      }\r\n    } else {\r\n      this.seleccionSeries[i].status = false;\r\n      this.seriesTabs = this.seriesTabs.filter((element: any) => {\r\n        return element.serie !== serie.serie;\r\n      });\r\n    }\r\n    localStorage.setItem(\r\n      'seriesSeleccionadas',\r\n      JSON.stringify(this.seleccionSeries)\r\n    );\r\n  }\r\n\r\n  async fraccionSeleccionada(idTicket: number, fraccion: string) {\r\n    try {\r\n      this.changeDetectorRef.detectChanges();\r\n      if (this.allFractions![idTicket]) this.allFractions![idTicket] = false;\r\n      this.changeDetectorRef.markForCheck();\r\n      let index =\r\n        this.ticketsDisponibles[idTicket].seleccionados.indexOf(fraccion);\r\n\r\n      if (index != -1) {\r\n        let identificador = this.ticketsDisponibles[idTicket].identificador;\r\n        let ticketMillonaria = this.ticketsMillonaria[identificador];\r\n        let aux = {\r\n          ticket: ticketMillonaria,\r\n          fraccion,\r\n        };\r\n        await this.deleteMillonariaFraccion(aux);\r\n        this.changeDetectorRef.detectChanges();\r\n        //this.ticketsDisponibles[idTicket].seleccionados.pop();\r\n        this.ticketsDisponibles[idTicket].seleccionados.splice(index, 1);\r\n        this.changeDetectorRef.markForCheck();\r\n      } else {\r\n        let count = (await this.cart.getCount()) + 1;\r\n        this.changeDetectorRef.detectChanges();\r\n        this.ticketsDisponibles[idTicket].seleccionados.push(fraccion);\r\n        this.changeDetectorRef.markForCheck();\r\n        if (count <= 1000) {\r\n          await this.pushToSeleccionado(this.ticketsDisponibles[idTicket], [\r\n            fraccion,\r\n          ]);\r\n        } else {\r\n          this.changeDetectorRef.detectChanges();\r\n          this.ticketsDisponibles[idTicket].seleccionados.pop();\r\n          this.changeDetectorRef.markForCheck();\r\n\r\n          let errorMessage =\r\n            'Incluir el boleto excede el límite de compra. Si quieres escoger este boleto, por favor elimina algún otro de tu carrito.';\r\n          this.openError(errorMessage);\r\n        }\r\n      }\r\n      await this.setDescuento(1);\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async remover(serie: string) {\r\n    this.seriesTabs = this.seriesTabs.filter((element: any) => {\r\n      return element.nombre !== serie;\r\n    });\r\n\r\n    this.seleccionSeries = this.seleccionSeries.map((element: any) => {\r\n      if (element.nombre === serie) {\r\n        element.status = false;\r\n      }\r\n      return element;\r\n    });\r\n\r\n    await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\r\n  }\r\n\r\n  ticketsMillonaria: any = {};\r\n\r\n  async seleccionarTodo(id: number) {\r\n    try {\r\n      this.changeDetectorRef.detectChanges();\r\n      this.allFractions![id] = !this.allFractions![id];\r\n      this.changeDetectorRef.markForCheck();\r\n      //      let fracciones = [...this.ticketsDisponibles[id].fraccionesDisponibles];\r\n      let fracciones = [\r\n        ...this.ticketsDisponibles[id].fraccionesDisponibles.filter(\r\n          (x: any) => !this.ticketsDisponibles[id].seleccionados.includes(x)\r\n        ),\r\n      ];\r\n      if (this.allFractions![id]) {\r\n        let count =\r\n          (await this.cart.getCount()) +\r\n          (fracciones.length -\r\n            this.ticketsDisponibles[id].seleccionados.length);\r\n        if (count <= 1000) {\r\n          this.ticketsDisponibles[id].seleccionados =\r\n            this.ticketsDisponibles[id].seleccionados.concat(fracciones);\r\n          await this.pushToSeleccionado(\r\n            this.ticketsDisponibles[id],\r\n            fracciones\r\n          );\r\n        } else {\r\n          this.changeDetectorRef.detectChanges();\r\n          this.allFractions![id] = false;\r\n          this.changeDetectorRef.markForCheck();\r\n          let errorMessage =\r\n            'Incluir los boletos excede el límite de compra. Si quieres escoger estos boletos, por favor elimina algunos de tu carrito.';\r\n          this.openError(errorMessage);\r\n        }\r\n      } else {\r\n        let identificador = this.ticketsDisponibles[id].identificador;\r\n        await this.deleteLoteriaTicket(this.ticketsLoteria[identificador]);\r\n        this.ticketsDisponibles[id].seleccionados = [];\r\n      }\r\n      await this.setDescuento(1);\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async pushToSeleccionado(ticket: any, fracciones: any) {\r\n    try {\r\n      this.loadingMessage = 'Agregando boleto al carrito';\r\n      this.isLoading = true;\r\n\r\n      await this.getCarritoTickets();\r\n      let subtotalTest =\r\n        parseFloat(this.sorteoSeleccionado!.precio) * fracciones.length;\r\n      let subtotal =\r\n        parseFloat(this.sorteoSeleccionado!.precio) *\r\n        ticket.seleccionados.length;\r\n      let aux = {\r\n        ticket,\r\n        fracciones,\r\n        sorteo: this.sorteoSeleccionado,\r\n        subtotal,\r\n      };\r\n      let hasBalance = await this.paymentService.hasBalance(\r\n        subtotalTest,\r\n        this.token\r\n      );\r\n      if (hasBalance) {\r\n        this.ticketsMillonaria[ticket.identificador] = aux;\r\n        let reservaId = this.cart.getReservaId();\r\n        let response = await this.lotteryService.reservarBoletos(\r\n          this.token!,\r\n          aux,\r\n          14,\r\n          reservaId\r\n        );\r\n        this.cart.setReservaId(response);\r\n\r\n        await this.cart.setCarrito(aux, 14);\r\n        await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\r\n        await this.getCarritoTickets();\r\n\r\n        //this.getTotal();\r\n\r\n        this.isLoading = false;\r\n      } else {\r\n        this.isLoading = false;\r\n        let message =\r\n          'Tu saldo es insuficiente para agregar este boleto al carrito';\r\n        var idTicket = this.ticketsDisponibles.findIndex(\r\n          (p: any) => p.identificador == ticket.identificador\r\n        );\r\n        this.ticketsDisponibles[idTicket].seleccionados =\r\n          this.ticketsDisponibles[idTicket].seleccionados.filter(\r\n            (el: any) => !fracciones.includes(el)\r\n          );\r\n        this.allFractions![idTicket] = false;\r\n\r\n        this.recargarSaldo(message);\r\n      }\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  isSelected(idTicket: number, idFraccion: string) {\r\n    let ticket = this.ticketsDisponibles[idTicket];\r\n    if (ticket.seleccionados.indexOf(idFraccion) != -1) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handlerPage(e: PageEvent) {\r\n    this.page_size = e.pageSize;\r\n    this.page_number = e.pageIndex + 1;\r\n  }\r\n\r\n  ordenaCombinacion(a: any, b: any) {\r\n    return a - b;\r\n  }\r\n\r\n  async buscarNumero() {\r\n    try {\r\n      this.loadingMessage = 'Buscando combinaciones disponibles';\r\n      this.isLoading = true;\r\n      this.showNumeros = false;\r\n      let combinacion = this.combinacionDeLaSuerte.map((element: any) => {\r\n        element = element.toString();\r\n        if (element == null || element == undefined || element == '') {\r\n          return '_';\r\n        } else {\r\n          return element;\r\n        }\r\n      });\r\n      let combinacionFigura = this.seriesTabs.map((serie: any) => {\r\n        return serie.serie;\r\n      });\r\n      combinacionFigura.sort(this.ordenaCombinacion);\r\n\r\n      let authData = this.lotteryService.getAuthData();\r\n      this.ticketsDisponibles = await this.millonaria.obtenerTickets(\r\n        this.sorteoSeleccionado!.sorteo,\r\n        combinacion.join(''),\r\n        combinacionFigura.join(''),\r\n        this.tipoSeleccion,\r\n        authData\r\n      );\r\n\r\n      this.allFractions = [];\r\n      this.ticketsDisponibles.forEach((ticket: any) => {\r\n        this.allFractions!.push(false);\r\n      });\r\n\r\n      this.seleccionSeries = await this.millonaria.obtenerSeries(\r\n        this.sorteoSeleccionado!.sorteo,\r\n        authData\r\n      );\r\n      this.seriesTabs = [];\r\n      this.combinacionDeLaSuerte = ['', '', '', ''];\r\n      this.showNumeros = true;\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  tipoSeleccion: number = 96;\r\n\r\n  sorteoSeleccionado?: sorteo;\r\n  async procesaEmitir(sorteo: any) {\r\n    this.loadingMessage = 'Cargando la información del sorteo';\r\n    this.isLoading = true;\r\n    this.sorteoSeleccionado = sorteo;\r\n    this.showNumeros = false;\r\n    this.seleccionSeries = [];\r\n    this.seriesTabs = [];\r\n    let authData = this.lotteryService.getAuthData();\r\n    this.seleccionSeries = await this.millonaria.obtenerSeries(\r\n      this.sorteoSeleccionado!.sorteo,\r\n      authData\r\n    );\r\n    this.isLoading = false;\r\n  }\r\n\r\n  showComponents: boolean = false;\r\n  isLoading?: boolean;\r\n  loadingMessage?: string;\r\n\r\n  abrirResumen() {\r\n    this.router.navigate([`compra_tus_juegos/resumen/${this.token}`]);\r\n  }\r\n\r\n  confirmacionDeCompra: boolean = false;\r\n  compraFinalizada: boolean = false;\r\n  saldoInsuficiente: boolean = false;\r\n  compraCancelada: boolean = false;\r\n\r\n  cancelMessage: string = '';\r\n\r\n  dismissCompras() {\r\n    this.confirmacionDeCompra = false;\r\n    this.compraFinalizada = false;\r\n    this.saldoInsuficiente = false;\r\n    this.compraCancelada = false;\r\n  }\r\n  volver() {\r\n    this.dismissCompras();\r\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\r\n  }\r\n\r\n  detalleCompra: any;\r\n  comprar() {\r\n    this.dismissCompras();\r\n\r\n    let loteriaAux = this.ticketsLoteria;\r\n    let loteria = [];\r\n    for (let id in loteriaAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = loteriaAux[id].ticket.combinacion;\r\n      aux['fracciones'] = loteriaAux[id].ticket.seleccionados;\r\n      aux['subtotal'] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(\r\n        loteriaAux[id].subtotalConDesc\r\n      ).toFixed(2);\r\n      aux['tieneDescuento'] = loteriaAux[id].tieneDescuento;\r\n      aux['fecha'] = loteriaAux[id].sorteo.fecha;\r\n      aux['sorteo'] = loteriaAux[id].sorteo.sorteo;\r\n      loteria.push(aux);\r\n    }\r\n    let lottoAux = this.ticketsLotto;\r\n    let lotto = [];\r\n    for (let id in lottoAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = lottoAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = lottoAux[id].ticket.combinacion2;\r\n      aux['combinacion3'] = lottoAux[id].ticket.combinacion3;\r\n      aux['combinacion4'] = lottoAux[id].ticket.combinacion4;\r\n      aux['sorteo'] = lottoAux[id].sorteo.sorteo;\r\n      aux['subtotal'] = parseFloat(lottoAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(lottoAux[id].subtotalConDesc).toFixed(\r\n        2\r\n      );\r\n      aux['tieneDescuento'] = lottoAux[id].tieneDescuento;\r\n      aux['fecha'] = lottoAux[id].sorteo.fecha;\r\n      lotto.push(aux);\r\n    }\r\n    let pozoAux = this.ticketsPozo;\r\n    let pozo = [];\r\n    for (let id in pozoAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = pozoAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = pozoAux[id].ticket.combinacion2;\r\n      aux['mascota'] = pozoAux[id].ticket.mascota;\r\n      aux['sorteo'] = pozoAux[id].sorteo.sorteo;\r\n      aux['subtotal'] = parseFloat(pozoAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(pozoAux[id].subtotalConDesc).toFixed(\r\n        2\r\n      );\r\n      aux['tieneDescuento'] = pozoAux[id].tieneDescuento;\r\n      aux['fecha'] = pozoAux[id].sorteo.fecha;\r\n      pozo.push(aux);\r\n    }\r\n    let millonariaAux = this.ticketsMillonaria;\r\n    let millonaria = [];\r\n    for (let id in millonariaAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = millonariaAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = millonariaAux[id].ticket.combinacion2;\r\n      aux['fracciones'] = millonariaAux[id].ticket.seleccionados;\r\n      aux['subtotal'] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(\r\n        millonariaAux[id].subtotalConDesc\r\n      ).toFixed(2);\r\n      aux['tieneDescuento'] = millonariaAux[id].tieneDescuento;\r\n      aux['fecha'] = millonariaAux[id].sorteo.fecha;\r\n      aux['sorteo'] = millonariaAux[id].sorteo.sorteo;\r\n      millonaria.push(aux);\r\n    }\r\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\r\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\r\n\r\n    this.detalleCompra = {\r\n      loteria,\r\n      millonaria,\r\n      lotto,\r\n      pozo,\r\n      amount,\r\n      amountConDesc,\r\n    };\r\n\r\n    this.confirmacionDeCompra = true;\r\n  }\r\n\r\n  instantaneas: any;\r\n  isInstantaneas: boolean = false;\r\n  finalizarCompra() {\r\n    this.paymentService.finalizarCompra();\r\n    this.dismissCompras();\r\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\r\n  }\r\n  async confirmarCompra() {\r\n    try {\r\n      this.isLoading = true;\r\n      this.loadingMessage = 'Espera mientras procesamos tu compra';\r\n      let hasBalance = await this.paymentService.hasBalance(0, this.token);\r\n\r\n      if (hasBalance) {\r\n        let reservaId = this.lotteryService.getReservaId();\r\n        let cartValidation = await this.cart.validarCarrito(reservaId);\r\n        if (cartValidation.status) {\r\n          let response = await this.paymentService.confirmarCompra(\r\n            this.token,\r\n            reservaId\r\n          );\r\n          this.isLoading = false;\r\n          if (response.status) {\r\n            if (response.instantanea.status) {\r\n              this.dismissCompras();\r\n              this.instantaneas = response.instantanea.data;\r\n              this.isInstantaneas = true;\r\n            } else {\r\n              this.instantaneas = '';\r\n              this.abrirFinalizar();\r\n            }\r\n          } else {\r\n            this.cancelarCompra();\r\n          }\r\n        } else {\r\n          this.openValidationError(cartValidation.message);\r\n        }\r\n        this.isLoading = false;\r\n      } else {\r\n        this.isLoading = false;\r\n        let message = 'Tu saldo es insuficiente para realizar la compra';\r\n        this.recargarSaldo(message);\r\n      }\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async abrirFinalizar() {\r\n    this.dismissCompras();\r\n    await this.cart.borrarCarrito();\r\n    this.compraFinalizada = true;\r\n  }\r\n  cancelarCompra() {\r\n    this.dismissCompras();\r\n    this.compraCancelada = true;\r\n  }\r\n  irARecarga() {}\r\n\r\n  recargaDeSaldoMessage?: string;\r\n  recargarSaldo(message: any) {\r\n    this.recargaDeSaldoMessage = message;\r\n    this.dismissCompras();\r\n    this.saldoInsuficiente = true;\r\n  }\r\n  ticketsLoteria: any = {};\r\n  ticketsPozo: any = {};\r\n  ticketsLotto: any = {};\r\n  descuentos: any;\r\n  async ngOnInit() {\r\n    try {\r\n      this.isLoading = true;\r\n\r\n      if (this.token) {\r\n        let data = await this.lotteryService.authUser(this.token);\r\n      }\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n\r\n      //TODO: Preguntar como quiere que venga la variable tabs, si llena o no\r\n      let authData = this.lotteryService.getAuthData();\r\n      this.sorteo = await this.millonaria.obtenerSorteo(authData);\r\n      this.seleccionSeries = [];\r\n      this.seleccionSeries = await this.millonaria.obtenerSeries(\r\n        this.sorteo[0].sorteo,\r\n        authData\r\n      );\r\n      this.seleccionSeries.forEach((element: any) => {\r\n        this.seriesTabs.forEach((elemento: any) => {\r\n          if (elemento.nombre === element.nombre) {\r\n            element.status = elemento.status;\r\n          }\r\n        });\r\n      });\r\n      localStorage.setItem(\r\n        'seriesSeleccionadas',\r\n        JSON.stringify(this.seleccionSeries)\r\n      );\r\n      this.descuentos = await this.lotteryService.obtenerDescuentos();\r\n      this.isLoading = false;\r\n\r\n      this.showComponents = true;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async setDescuento(tipoLoteria: any) {\r\n    return;\r\n    let descuentos = this.descuentos.filter(\r\n      (element: any) => parseInt(element.tipoLoteria) == tipoLoteria\r\n    );\r\n    for (let index = 0; index < descuentos.length; index++) {\r\n      const element = descuentos[index];\r\n      let conteo = await this.cart.contarBoletos(element.sorteo, tipoLoteria);\r\n      if (conteo >= parseInt(element.cantidad)) {\r\n        await this.cart.calcularDescuento(element);\r\n      } else {\r\n        await this.cart.eliminarDescuento(element, tipoLoteria);\r\n      }\r\n      await this.getCarritoTickets();\r\n    }\r\n    await this.cart.setTotalConDesc();\r\n  }\r\n  async deleteLoteriaTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fracciones = data.ticket.seleccionados;\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsLoteria[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      if (fracciones.length != 0) {\r\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n          this.token,\r\n          ticket,\r\n          sorteo,\r\n          fracciones,\r\n          1,\r\n          reservaId\r\n        );\r\n      }\r\n      delete this.ticketsLoteria[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 14);\r\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(1);\r\n\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteLottoTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fraccion = '';\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsLotto[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        fraccion,\r\n        2,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsLotto[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 2);\r\n      await this.cart.setCarritoLotto(this.ticketsLotto);\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(2);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async deleteLoteriaFraccion(data: any) {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let identificador = data.ticket.ticket.identificador;\r\n      let ticket = data.ticket.ticket;\r\n      let sorteo = data.ticket.sorteo;\r\n      let fraccion = data.fraccion;\r\n\r\n      let reservaId = this.cart.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        [fraccion],\r\n        1,\r\n        reservaId\r\n      );\r\n      let index = this.ticketsLoteria[\r\n        identificador\r\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\r\n      this.ticketsLoteria[identificador].ticket.seleccionados.splice(index, 1);\r\n      if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\r\n        delete this.ticketsLoteria[identificador];\r\n      }\r\n\r\n      await this.cart.removeFromCart(ticket, 1);\r\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(1);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteMillonariaFraccion(data: any) {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      await this.getCarritoTickets();\r\n      let identificador = data.ticket.ticket.identificador;\r\n      let ticket = data.ticket.ticket;\r\n      let sorteo = data.ticket.sorteo;\r\n      let fraccion = data.fraccion;\r\n\r\n      let reservaId = this.cart.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        [fraccion],\r\n        14,\r\n        reservaId\r\n      );\r\n      let indexA = this.ticketsMillonaria[\r\n        identificador\r\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\r\n      this.ticketsMillonaria[identificador].ticket.seleccionados.splice(\r\n        indexA,\r\n        1\r\n      );\r\n      let indexB = this.ticketsMillonaria[identificador].fracciones.findIndex(\r\n        (x: any) => x == fraccion\r\n      );\r\n      this.ticketsMillonaria[identificador].fracciones.splice(indexB, 1);\r\n      if (\r\n        this.ticketsMillonaria[identificador].ticket.seleccionados.length == 0\r\n      ) {\r\n        await this.cart.removeFromCart(\r\n          this.ticketsMillonaria[identificador],\r\n          1\r\n        );\r\n        delete this.ticketsMillonaria[identificador];\r\n      } else {\r\n        await this.cart.setCarrito(this.ticketsMillonaria[identificador], 1);\r\n        this.ticketsMillonaria[identificador].subtotal -= parseFloat(\r\n          sorteo.precio\r\n        );\r\n      }\r\n\r\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\r\n      //this.getTotal();\r\n\r\n      await this.setDescuento(14);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteMillonariaTicket(data: any) {\r\n    try {\r\n      await this.getCarritoTickets();\r\n\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let identificador = data.ticket.identificador;\r\n      let fracciones = data.ticket.seleccionados;\r\n      let ticket = this.ticketsMillonaria[identificador].ticket;\r\n      let sorteo = this.ticketsMillonaria[identificador].sorteo;\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        fracciones,\r\n        14,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsMillonaria[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 14);\r\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\r\n      if (this.ticketsDisponibles && this.ticketsDisponibles.length) {\r\n        let deletedIndex = this.ticketsDisponibles.findIndex(\r\n          (x: any) => x.identificador === identificador\r\n        );\r\n        if (deletedIndex != -1)\r\n          this.ticketsDisponibles[deletedIndex].status = false;\r\n      }\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(14);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deletePozoTicket(data: any) {\r\n    try {\r\n      await this.getCarritoTickets();\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let identificador = data.ticket.identificador;\r\n      let fraccion = '';\r\n      let ticket = this.ticketsPozo[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n      let reservaId = this.cart.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        fraccion,\r\n        5,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsPozo[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 5);\r\n      await this.cart.setCarritoPozo(this.ticketsPozo);\r\n      //this.getTotal();\r\n\r\n      await this.setDescuento(5);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteAllTickets() {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boletos del carrito';\r\n      this.isLoading = true;\r\n      let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\r\n        return {\r\n          ticket: this.ticketsLoteria[key].ticket,\r\n          sorteo: this.ticketsLoteria[key].sorteo,\r\n        };\r\n      });\r\n      let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\r\n        return {\r\n          ticket: this.ticketsLotto[key].ticket,\r\n          sorteo: this.ticketsLotto[key].sorteo,\r\n        };\r\n      });\r\n      let boletosMillonaria = Object.keys(this.ticketsMillonaria).map((key) => {\r\n        return {\r\n          ticket: this.ticketsMillonaria[key].ticket,\r\n          sorteo: this.ticketsMillonaria[key].sorteo,\r\n        };\r\n      });\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      /*       await this.lotteryService.eliminarTodosLosBoletosDeReserva(\r\n        this.token,\r\n        boletosLoteria,\r\n        boletosLotto,\r\n        boletosMillonaria,\r\n        reservaId\r\n      ); */\r\n      Object.keys(this.ticketsMillonaria).forEach((key) => {\r\n        if (this.ticketsDisponibles && this.ticketsDisponibles.length != 0) {\r\n          let deletedIndex = this.ticketsDisponibles.findIndex(\r\n            (x: any) => x.identificador == key\r\n          );\r\n          if (deletedIndex != -1)\r\n            this.ticketsDisponibles[deletedIndex].status = false;\r\n        }\r\n      });\r\n      await this.cart.borrarCarrito();\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async getCarritoTickets() {\r\n    let carrito = await this.cart.buscarCarrito();\r\n    this.ticketsLoteria = carrito.loteria;\r\n    this.ticketsLotto = carrito.lotto;\r\n    this.ticketsMillonaria = carrito.millonaria;\r\n    this.ticketsPozo = carrito.pozo;\r\n  }\r\n\r\n  isError: boolean = false;\r\n  errorMessage?: string;\r\n  openError(msg: any) {\r\n    this.errorMessage = msg;\r\n    this.isError = true;\r\n  }\r\n\r\n  closeError() {\r\n    this.isError = false;\r\n  }\r\n\r\n  isValidationError: boolean = false;\r\n  validationErrorMessage?: string;\r\n  openValidationError(msg: any) {\r\n    this.validationErrorMessage = msg;\r\n    this.isValidationError = true;\r\n  }\r\n\r\n  closeValidationError() {\r\n    this.isValidationError = false;\r\n    this.validationErrorMessage = '';\r\n    window.location.reload();\r\n  }\r\n}\r\n","<ventas-menu-header></ventas-menu-header>\r\n\r\n<div class=\"contenedor_loteria\" *ngIf=\"showComponents\">\r\n  <div class=\"ventasBox\">\r\n    <app-detalle-sorteo\r\n      class=\"infoBox\"\r\n      titulo=\"Pozo Millonario\"\r\n      color=\"pozo\"\r\n      [sorteos]=\"sorteo\"\r\n      [loteria]=\"5\"\r\n      (emitir)=\"procesaEmitir($event)\"\r\n    >\r\n    </app-detalle-sorteo>\r\n\r\n    <div class=\"contendor_seleccion\">\r\n      <div class=\"contenedor_select_animales\">\r\n        <h3>Selecciona tus mascotas de la suerte</h3>\r\n        <div class=\"options\">\r\n          <div\r\n            class=\"option\"\r\n            *ngFor=\"let animal of seleccionAnimales; let i = index\"\r\n          >\r\n            <input\r\n              (click)=\"agregar(animal, i)\"\r\n              type=\"checkbox\"\r\n              [checked]=\"animal.status\"\r\n              name=\"nombre\"\r\n              [value]=\"animal\"\r\n              id=\"nombre-{{ animal.nombre }}\"\r\n            />\r\n            <label for=\"nombre-{{ animal.nombre }}\">\r\n              <img [src]=\"animal.ruta\" [alt]=\"animal.nombre\" />\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"selectBox\">\r\n        <div class=\"contenedor_select\">\r\n          <h3>¿Cómo quieres comprar?</h3>\r\n          <select\r\n            class=\"select_option\"\r\n            name=\"\"\r\n            id=\"\"\r\n            [(ngModel)]=\"tipoSeleccion\"\r\n          >\r\n            <option class=\"option\" value=\"96\">Selección individual</option>\r\n            <option class=\"option\" value=\"5\">5 Boletos al azar</option>\r\n            <option class=\"option\" value=\"30\">30 Boletos al azar</option>\r\n            <option class=\"option\" value=\"50\">50 Boletos al azar</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"numeros_suerte\">\r\n          <h3>Ingresa tu número de la suerte:</h3>\r\n\r\n          <div class=\"numeros\">\r\n            <input\r\n              #input1\r\n              [appAutoTab]=\"input2\"\r\n              type=\"text\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              maxlength=\"2\"\r\n              name=\"\"\r\n              (input)=\"validate()\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[0]\"\r\n            />\r\n            <input\r\n              #input2\r\n              [appAutoTab]=\"input3\"\r\n              type=\"text\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              maxlength=\"2\"\r\n              name=\"\"\r\n              (input)=\"validate()\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[1]\"\r\n            />\r\n            <input\r\n              #input3\r\n              [appAutoTab]=\"input4\"\r\n              type=\"text\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              maxlength=\"2\"\r\n              name=\"\"\r\n              (input)=\"validate()\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[2]\"\r\n            />\r\n            <input\r\n              #input4\r\n              type=\"text\"\r\n              inputmode=\"numeric\"\r\n              pattern=\"[0-9]*\"\r\n              maxlength=\"2\"\r\n              name=\"\"\r\n              (input)=\"validate()\"\r\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\r\n              [(ngModel)]=\"combinacionDeLaSuerte[3]\"\r\n            />\r\n          </div>\r\n          <div class=\"errorTag\" *ngIf=\"over25Error\">\r\n            {{ over25ErrorTag }}\r\n          </div>\r\n        </div>\r\n        <button class=\"activado\" (click)=\"buscarNumero()\">\r\n          BUSCAR CARTONES\r\n        </button>\r\n      </div>\r\n\r\n      <p class=\"tagItem\">\r\n        Si quieres cambiar tu cartón, ingresa los números nuevamente y haz click\r\n        en \"Buscar cartones\".\r\n      </p>\r\n      <div *ngIf=\"showNumeros\" class=\"contenedor_numeros_suerte\">\r\n        <table *ngIf=\"showNumeros\">\r\n          <tbody>\r\n            <tr\r\n              *ngFor=\"\r\n                let ticket of ticketsDisponibles\r\n                  | paginacion: page_size:page_number;\r\n                let i = index\r\n              \"\r\n            >\r\n              <td>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"\"\r\n                  id=\"\"\r\n                  [checked]=\"ticket.status\"\r\n                  (click)=\"seleccionarTicket(page_size * (page_number - 1) + i)\"\r\n                />\r\n                <div class=\"contenedor_seleccion_numero\">\r\n                  <div class=\"imagen_animal\">\r\n                    <img [src]=\"obtenerAnimal(ticket.mascota)\" alt=\"\" />\r\n                  </div>\r\n                  <div class=\"numeros\">\r\n                    <p *ngFor=\"let numero of ticket.display\">{{ numero }}</p>\r\n                  </div>\r\n                </div>\r\n                <!-- <app-seleccion-pozo [tickets]=\"ticketMascota\"></app-seleccion-pozo> -->\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <hr size=\"2px\" color=\"gray\" />\r\n        </table>\r\n\r\n        <div class=\"contenedor_botones\">\r\n          <!-- showFirstLastButtons -->\r\n          <mat-paginator\r\n            style-paginator\r\n            [length]=\"ticketsDisponibles.length\"\r\n            [pageSize]=\"page_size\"\r\n            (page)=\"handlerPage($event)\"\r\n          >\r\n          </mat-paginator>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- <div>\r\n      Page Actual: {{pageActual}}\r\n    </div> -->\r\n      <!-- \r\n    <div class=\"boton_boleto\">\r\n      <button (click)=\"abrirResumen()\">RESUMEN DE BOLETOS</button>\r\n\r\n    </div> -->\r\n    </div>\r\n  </div>\r\n\r\n  <app-carrito\r\n    class=\"ticketScroller\"\r\n    (emitirCompra)=\"comprar()\"\r\n    (eliminarTodo)=\"deleteAllTickets()\"\r\n    (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n    (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n    (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n    (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\r\n    (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n    [ticketsLoteria]=\"ticketsLoteria\"\r\n    [ticketsMillonaria]=\"ticketsMillonaria\"\r\n    [ticketsLotto]=\"ticketsLotto\"\r\n    [ticketsPozo]=\"ticketsPozo\"\r\n    tipoLoteria=\"pozo\"\r\n  >\r\n  </app-carrito>\r\n</div>\r\n<app-floating-menu\r\n  (emitirCompra)=\"comprar()\"\r\n  (eliminarTodo)=\"deleteAllTickets()\"\r\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n  (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\r\n  [ticketsLoteria]=\"ticketsLoteria\"\r\n  [ticketsLotto]=\"ticketsLotto\"\r\n  [ticketsPozo]=\"ticketsPozo\"\r\n  [ticketsMillonaria]=\"ticketsMillonaria\"\r\n  tipoLoteria=\"pozo\"\r\n></app-floating-menu\r\n><!-- \r\n<app-floating-menu\r\n  (emitirCompra)=\"comprar()\"\r\n  (eliminarTodo)=\"deleteAllTickets()\"\r\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\r\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\r\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\r\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\r\n  [ticketsLoteria]=\"ticketsLoteria\"\r\n  [ticketsLotto]=\"ticketsLotto\"\r\n  [ticketsPozo]=\"ticketsPozo\"\r\n  [total]=\"total\"\r\n  tipoLoteria=\"pozo\"\r\n></app-floating-menu> -->\r\n<app-loader\r\n  loader=\"pozo\"\r\n  [message]=\"loadingMessage!\"\r\n  *ngIf=\"isLoading\"\r\n></app-loader>\r\n\r\n<app-error\r\n  [msg]=\"errorMessage!\"\r\n  (closeError)=\"closeError()\"\r\n  *ngIf=\"isError\"\r\n></app-error>\r\n<app-error\r\n  [msg]=\"validationErrorMessage!\"\r\n  (closeError)=\"closeValidationError()\"\r\n  *ngIf=\"isValidationError\"\r\n></app-error>\r\n<app-confirmacion-de-venta\r\n  (compraConfirmada)=\"confirmarCompra()\"\r\n  (compraCancelada)=\"cancelarCompra()\"\r\n  (comprarDespues)=\"dismissCompras()\"\r\n  [compra]=\"detalleCompra\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"confirmacionDeCompra\"\r\n></app-confirmacion-de-venta>\r\n<app-instantaneas\r\n  (close)=\"abrirFinalizar()\"\r\n  [resultados]=\"instantaneas\"\r\n  tipoLoteria=\"5\"\r\n  [isLoteriaNacional]=\"true\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"isInstantaneas\"\r\n></app-instantaneas>\r\n<app-venta-finalizada\r\n  (volver)=\"finalizarCompra()\"\r\n  [compra]=\"detalleCompra\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"compraFinalizada\"\r\n></app-venta-finalizada>\r\n<app-saldo-insuficiente\r\n  [message]=\"recargaDeSaldoMessage\"\r\n  (volver)=\"dismissCompras()\"\r\n  (recarga)=\"irARecarga()\"\r\n  class=\"paymentItem\"\r\n  *ngIf=\"saldoInsuficiente\"\r\n></app-saldo-insuficiente>\r\n<app-venta-cancelada\r\n  class=\"paymentItem\"\r\n  [message]=\"cancelMessage\"\r\n  *ngIf=\"compraCancelada\"\r\n></app-venta-cancelada>\r\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { PageEvent } from '@angular/material/paginator';\r\nimport {\r\n  sorteo,\r\n  ticketsNacional,\r\n  ticketsAnimales,\r\n  ticketsLotto,\r\n  animales,\r\n} from '../../interfaces/venta';\r\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\r\n\r\nimport { VentaService as PozoService } from '../../../juegos/pozo/services/venta.service';\r\nimport { VentasService } from '../../services/ventas.service';\r\nimport { PagosService } from '../..//services/pagos.service';\r\nimport { CarritoService } from '../../services/carrito.service';\r\n@Component({\r\n  selector: 'app-pozo',\r\n  templateUrl: './pozo.component.html',\r\n  styleUrls: ['./pozo.component.scss'],\r\n})\r\nexport class PozoComponent implements OnInit {\r\n  combinacionDeLaSuerte: string[] = ['', '', '', ''];\r\n\r\n  animalesTabs: animales[] = [];\r\n\r\n  page_size: number = 12;\r\n  page_number: number = 1;\r\n  showNumeros: boolean = false;\r\n  sorteo?: sorteo[];\r\n  seleccionAnimales?: animales[];\r\n  ticketsDisponibles?: any;\r\n  pageSizeOptions?: [5, 10, 20, 100];\r\n  token?: string;\r\n  usuario?: string;\r\n  ticketsMillonaria: any;\r\n  constructor(\r\n    private lotteryService: VentasService,\r\n    private actRoute: ActivatedRoute,\r\n    private paymentService: PagosService,\r\n    private cart: CarritoService,\r\n    private pozo: PozoService,\r\n\r\n    private router: Router,\r\n    private changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    this.actRoute.params.subscribe((params) => {\r\n      this.token = params['token'];\r\n    });\r\n  }\r\n  total?: string;\r\n  getTotal() {\r\n    this.changeDetectorRef.detectChanges();\r\n\r\n    this.total = this.cart.getTotal();\r\n    this.changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  agregar(animal: animales, i: number) {\r\n    if (this.seleccionAnimales![i].status === false) {\r\n      this.seleccionAnimales![i].status = true;\r\n      this.animalesTabs.push(this.seleccionAnimales![i]);\r\n    } else {\r\n      this.seleccionAnimales![i].status = false;\r\n      this.animalesTabs = this.animalesTabs.filter((element) => {\r\n        return element.nombre !== animal.nombre;\r\n      });\r\n    }\r\n    localStorage.setItem(\r\n      'animalesSeleccionados',\r\n      JSON.stringify(this.seleccionAnimales)\r\n    );\r\n    localStorage.setItem('animalesTabs', JSON.stringify(this.animalesTabs));\r\n  }\r\n\r\n  async remover(animal: string) {\r\n    this.animalesTabs = this.animalesTabs.filter((element) => {\r\n      return element.nombre !== animal;\r\n    });\r\n\r\n    this.seleccionAnimales = this.seleccionAnimales!.map((element) => {\r\n      if (element.nombre === animal) {\r\n        element.status = false;\r\n      }\r\n      return element;\r\n    });\r\n\r\n    await this.cart.setCarritoPozo(this.ticketsPozo);\r\n\r\n    localStorage.setItem('animalesTabs', JSON.stringify(this.animalesTabs));\r\n  }\r\n\r\n  async seleccionarTicket(id: any) {\r\n    try {\r\n      this.changeDetectorRef.detectChanges();\r\n      this.ticketsDisponibles![id].status =\r\n        !this.ticketsDisponibles![id].status;\r\n      this.changeDetectorRef.markForCheck();\r\n      if (!this.ticketsDisponibles![id].status) {\r\n        let identificador = this.ticketsDisponibles![id].identificador;\r\n        let ticketPozo = this.ticketsPozo[identificador];\r\n        await this.deletePozoTicket(ticketPozo);\r\n      } else {\r\n        let count = (await this.cart.getCount()) + 1;\r\n        if (count <= 1000) {\r\n          await this.pushToSeleccionado(this.ticketsDisponibles![id]);\r\n        } else {\r\n          this.changeDetectorRef.detectChanges();\r\n          this.ticketsDisponibles![id].status = false;\r\n          this.changeDetectorRef.markForCheck();\r\n          let errorMessage =\r\n            'Incluir el boleto excede el límite de compra. Si quieres escoger este boleto, por favor elimina algún otro de tu carrito.';\r\n          this.openError(errorMessage);\r\n        }\r\n      }\r\n      await this.setDescuento(5);\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  ticketsPozo: any = {};\r\n\r\n  async pushToSeleccionado(ticket: any) {\r\n    try {\r\n      this.loadingMessage = 'Agregando boleto al carrito';\r\n      this.isLoading = true;\r\n      let subtotal = this.sorteoSeleccionado!.precio;\r\n      let aux = {\r\n        ticket,\r\n        sorteo: this.sorteoSeleccionado,\r\n        subtotal,\r\n      };\r\n      let hasBalance = await this.paymentService.hasBalance(\r\n        subtotal,\r\n        this.token\r\n      );\r\n\r\n      if (hasBalance) {\r\n        this.ticketsPozo[ticket.identificador] = aux;\r\n        let reservaId = this.lotteryService.getReservaId();\r\n        let response = await this.lotteryService.reservarBoletos(\r\n          this.token!,\r\n          aux,\r\n          5,\r\n          reservaId\r\n        );\r\n\r\n        this.lotteryService.setReservaId(response);\r\n        await this.cart.setCarrito(aux, 5);\r\n        await this.cart.setCarritoPozo(this.ticketsPozo);\r\n        await this.getCarritoTickets();\r\n        //this.getTotal();\r\n        this.isLoading = false;\r\n      } else {\r\n        this.isLoading = false;\r\n        let message =\r\n          'Tu saldo es insuficiente para agregar este boleto al carrito';\r\n        this.ticketsDisponibles!.find(\r\n          (x: any) => x.identificador === ticket.identificador\r\n        ).status = false;\r\n        this.recargarSaldo(message);\r\n      }\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  handlerPage(e: PageEvent) {\r\n    this.page_size = e.pageSize;\r\n    this.page_number = e.pageIndex + 1;\r\n  }\r\n\r\n  obtenerMascota(mascota: any) {\r\n    return this.pozo.obtenerMascota(mascota);\r\n  }\r\n\r\n  ordenaCombinacion(a: any, b: any) {\r\n    return a - b;\r\n  }\r\n\r\n  over25Error: boolean = false;\r\n  over25ErrorTag: string =\r\n    'Los números no pueden ser mayores a 25. Por favor, toma esto en cuenta al ingresar tus números preferidos.';\r\n\r\n  validate() {\r\n    let isHigher = false;\r\n    this.combinacionDeLaSuerte.forEach((number, i) => {\r\n      let aux = parseInt(number);\r\n      if (aux > 25) {\r\n        this.combinacionDeLaSuerte[i] = '';\r\n        this.over25Error = true;\r\n        setTimeout(() => {\r\n          this.over25Error = false;\r\n        }, 6000);\r\n      }\r\n    });\r\n  }\r\n  async buscarNumero() {\r\n    try {\r\n      this.loadingMessage = 'Buscando combinaciones disponibles';\r\n      this.isLoading = true;\r\n      this.showNumeros = false;\r\n      let combinacion = this.combinacionDeLaSuerte.map((number) => {\r\n        let numero = number;\r\n        if (numero.length < 2) {\r\n          numero = `0${numero}`;\r\n        }\r\n\r\n        if (numero == '0' || numero == '00') {\r\n          return '';\r\n        }\r\n        return numero;\r\n      });\r\n      let combinacionFigura = this.animalesTabs.map((animal) => {\r\n        return animal.identificador;\r\n      });\r\n      combinacion.sort(this.ordenaCombinacion);\r\n      combinacionFigura.sort(this.ordenaCombinacion);\r\n      let authData = this.lotteryService.getAuthData();\r\n      this.ticketsDisponibles = await this.pozo.obtenerTickets(\r\n        this.sorteoSeleccionado!.sorteo,\r\n        combinacion.join(''),\r\n        combinacionFigura.join(''),\r\n        this.tipoSeleccion,\r\n        authData\r\n      );\r\n\r\n      this.combinacionDeLaSuerte = ['', '', '', ''];\r\n      this.showNumeros = true;\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  tipoSeleccion: number = 96;\r\n\r\n  async seleccionarVarios(tipoSeleccion: any) {\r\n    try {\r\n      if (tipoSeleccion != 1) {\r\n        let selectedIndexs = [];\r\n        for (let i = 0; i < tipoSeleccion; i++) {\r\n          let index = Math.floor(\r\n            Math.random() * this.ticketsDisponibles.length\r\n          );\r\n          while (selectedIndexs.indexOf(index) != -1) {\r\n            index = Math.floor(Math.random() * this.ticketsDisponibles.length);\r\n          }\r\n          let ticket = this.ticketsDisponibles[index];\r\n          await this.pushToSeleccionado(ticket);\r\n          selectedIndexs.push(index);\r\n        }\r\n      }\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  sorteoSeleccionado?: sorteo;\r\n  procesaEmitir(sorteo: any) {\r\n    this.sorteoSeleccionado = sorteo;\r\n    this.showNumeros = false;\r\n  }\r\n  isLoading?: boolean;\r\n  showComponents: boolean = false;\r\n  loadingMessage?: string;\r\n\r\n  obtenerAnimal(mascota: any) {\r\n    return this.pozo.obtenerMascota(mascota);\r\n  }\r\n\r\n  abrirResumen() {\r\n    this.router.navigate([`compra_tus_juegos/resumen/${this.token}`]);\r\n  }\r\n\r\n  confirmacionDeCompra: boolean = false;\r\n  compraFinalizada: boolean = false;\r\n  saldoInsuficiente: boolean = false;\r\n  compraCancelada: boolean = false;\r\n\r\n  cancelMessage: string = '';\r\n\r\n  dismissCompras() {\r\n    this.confirmacionDeCompra = false;\r\n    this.compraFinalizada = false;\r\n    this.saldoInsuficiente = false;\r\n    this.compraCancelada = false;\r\n  }\r\n  volver() {\r\n    this.dismissCompras();\r\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\r\n  }\r\n\r\n  detalleCompra: any;\r\n  comprar() {\r\n    this.dismissCompras();\r\n\r\n    let loteriaAux = this.ticketsLoteria;\r\n    let loteria = [];\r\n    for (let id in loteriaAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = loteriaAux[id].ticket.combinacion;\r\n      aux['fracciones'] = loteriaAux[id].ticket.seleccionados;\r\n      aux['subtotal'] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(\r\n        loteriaAux[id].subtotalConDesc\r\n      ).toFixed(2);\r\n      aux['tieneDescuento'] = loteriaAux[id].tieneDescuento;\r\n      aux['fecha'] = loteriaAux[id].sorteo.fecha;\r\n      aux['sorteo'] = loteriaAux[id].sorteo.sorteo;\r\n      loteria.push(aux);\r\n    }\r\n    let lottoAux = this.ticketsLotto;\r\n    let lotto = [];\r\n    for (let id in lottoAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = lottoAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = lottoAux[id].ticket.combinacion2;\r\n      aux['combinacion3'] = lottoAux[id].ticket.combinacion3;\r\n      aux['combinacion4'] = lottoAux[id].ticket.combinacion4;\r\n      aux['sorteo'] = lottoAux[id].sorteo.sorteo;\r\n      aux['subtotal'] = parseFloat(lottoAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(lottoAux[id].subtotalConDesc).toFixed(\r\n        2\r\n      );\r\n      aux['tieneDescuento'] = lottoAux[id].tieneDescuento;\r\n      aux['fecha'] = lottoAux[id].sorteo.fecha;\r\n      lotto.push(aux);\r\n    }\r\n    let pozoAux = this.ticketsPozo;\r\n    let pozo = [];\r\n    for (let id in pozoAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = pozoAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = pozoAux[id].ticket.combinacion2;\r\n      aux['mascota'] = pozoAux[id].ticket.mascota;\r\n      aux['sorteo'] = pozoAux[id].sorteo.sorteo;\r\n      aux['subtotal'] = parseFloat(pozoAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(pozoAux[id].subtotalConDesc).toFixed(\r\n        2\r\n      );\r\n      aux['tieneDescuento'] = pozoAux[id].tieneDescuento;\r\n      aux['fecha'] = pozoAux[id].sorteo.fecha;\r\n      pozo.push(aux);\r\n    }\r\n    let millonariaAux = this.ticketsMillonaria;\r\n    let millonaria = [];\r\n    for (let id in millonariaAux) {\r\n      let aux: any = {};\r\n      aux['combinacion1'] = millonariaAux[id].ticket.combinacion1;\r\n      aux['combinacion2'] = millonariaAux[id].ticket.combinacion2;\r\n      aux['fracciones'] = millonariaAux[id].ticket.seleccionados;\r\n      aux['subtotal'] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\r\n      aux['subtotalConDesc'] = parseFloat(\r\n        millonariaAux[id].subtotalConDesc\r\n      ).toFixed(2);\r\n      aux['tieneDescuento'] = millonariaAux[id].tieneDescuento;\r\n      aux['fecha'] = millonariaAux[id].sorteo.fecha;\r\n      aux['sorteo'] = millonariaAux[id].sorteo.sorteo;\r\n      millonaria.push(aux);\r\n    }\r\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\r\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\r\n\r\n    this.detalleCompra = {\r\n      loteria,\r\n      millonaria,\r\n      lotto,\r\n      pozo,\r\n      amount,\r\n      amountConDesc,\r\n    };\r\n\r\n    this.confirmacionDeCompra = true;\r\n  }\r\n\r\n  instantaneas: any;\r\n  isInstantaneas: boolean = false;\r\n  finalizarCompra() {\r\n    this.paymentService.finalizarCompra();\r\n    this.dismissCompras();\r\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\r\n  }\r\n\r\n  async confirmarCompra() {\r\n    try {\r\n      this.isLoading = true;\r\n      this.loadingMessage = 'Espera mientras procesamos tu compra';\r\n      let hasBalance = await this.paymentService.hasBalance(0, this.token);\r\n\r\n      if (hasBalance) {\r\n        let reservaId = this.lotteryService.getReservaId();\r\n        let cartValidation = await this.cart.validarCarrito(reservaId);\r\n        if (cartValidation.status) {\r\n          let response = await this.paymentService.confirmarCompra(\r\n            this.token,\r\n            reservaId\r\n          );\r\n          this.isLoading = false;\r\n          if (response.status) {\r\n            if (response.instantanea.status) {\r\n              this.dismissCompras();\r\n              this.instantaneas = response.instantanea.data;\r\n              this.isInstantaneas = true;\r\n            } else {\r\n              this.instantaneas = '';\r\n              this.abrirFinalizar();\r\n            }\r\n          } else {\r\n            this.cancelarCompra();\r\n          }\r\n        } else {\r\n          this.openValidationError(cartValidation.message);\r\n        }\r\n        this.isLoading = false;\r\n      } else {\r\n        this.isLoading = false;\r\n        let message = 'Tu saldo es insuficiente para realizar la compra';\r\n        this.recargarSaldo(message);\r\n      }\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async abrirFinalizar() {\r\n    this.dismissCompras();\r\n    await this.cart.borrarCarrito();\r\n    this.compraFinalizada = true;\r\n  }\r\n  cancelarCompra() {\r\n    this.dismissCompras();\r\n    this.compraCancelada = true;\r\n  }\r\n  irARecarga() {}\r\n\r\n  recargaDeSaldoMessage?: string;\r\n  recargarSaldo(message: any) {\r\n    this.recargaDeSaldoMessage = message;\r\n    this.dismissCompras();\r\n    this.saldoInsuficiente = true;\r\n  }\r\n  ticketsLoteria: any = {};\r\n  ticketsLotto: any = {};\r\n  descuentos: any;\r\n  async ngOnInit() {\r\n    try {\r\n      this.isLoading = true;\r\n      if (this.token) {\r\n        let data = await this.lotteryService.authUser(this.token);\r\n      }\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n\r\n      this.loadingMessage = 'Cargando los sorteos disponibles';\r\n      this.seleccionAnimales = JSON.parse(\r\n        localStorage.getItem('animalesSeleccionados')!\r\n      );\r\n      this.animalesTabs = JSON.parse(localStorage.getItem('animalesTabs')!);\r\n\r\n      //TODO: Preguntar como quiere que venga la variable tabs, si llena o no\r\n      this.seleccionAnimales!.forEach((element) => {\r\n        this.animalesTabs.forEach((elemento) => {\r\n          if (elemento.nombre === element.nombre) {\r\n            element.status = elemento.status;\r\n          }\r\n        });\r\n      });\r\n      localStorage.setItem(\r\n        'animalesSeleccionados',\r\n        JSON.stringify(this.seleccionAnimales)\r\n      );\r\n      let authData = this.lotteryService.getAuthData();\r\n      this.sorteo = await this.pozo.obtenerSorteo(authData);\r\n      this.descuentos = await this.lotteryService.obtenerDescuentos();\r\n      this.isLoading = false;\r\n      this.showComponents = true;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async setDescuento(tipoLoteria: any) {\r\n    return;\r\n    let descuentos = this.descuentos.filter(\r\n      (element: any) => parseInt(element.tipoLoteria) == tipoLoteria\r\n    );\r\n    for (let index = 0; index < descuentos.length; index++) {\r\n      const element = descuentos[index];\r\n      let conteo = await this.cart.contarBoletos(element.sorteo, tipoLoteria);\r\n      if (conteo >= parseInt(element.cantidad)) {\r\n        await this.cart.calcularDescuento(element);\r\n      } else {\r\n        await this.cart.eliminarDescuento(element, tipoLoteria);\r\n      }\r\n      await this.getCarritoTickets();\r\n    }\r\n    await this.cart.setTotalConDesc();\r\n  }\r\n  async deleteLoteriaTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fracciones = data.ticket.seleccionados;\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsLoteria[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      if (fracciones.length != 0) {\r\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n          this.token,\r\n          ticket,\r\n          sorteo,\r\n          fracciones,\r\n          1,\r\n          reservaId\r\n        );\r\n      }\r\n      delete this.ticketsLoteria[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 5);\r\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(1);\r\n\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteMillonariaTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fracciones = data.ticket.seleccionados;\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsMillonaria[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      if (fracciones.length != 0) {\r\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n          this.token,\r\n          ticket,\r\n          sorteo,\r\n          fracciones,\r\n          14,\r\n          reservaId\r\n        );\r\n      }\r\n      delete this.ticketsMillonaria[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 1);\r\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\r\n\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(14);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteLottoTicket(data: any) {\r\n    try {\r\n      let identificador = data.ticket.identificador;\r\n      let fraccion = '';\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let ticket = this.ticketsLotto[identificador].ticket;\r\n      let sorteo = data.sorteo;\r\n\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        fraccion,\r\n        2,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsLotto[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 2);\r\n      await this.cart.setCarritoLotto(this.ticketsLotto);\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(2);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async deleteLoteriaFraccion(data: any) {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let identificador = data.ticket.ticket.identificador;\r\n      let ticket = data.ticket.ticket;\r\n      let sorteo = data.ticket.sorteo;\r\n      let fraccion = data.fraccion;\r\n\r\n      let reservaId = this.cart.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        [fraccion],\r\n        1,\r\n        reservaId\r\n      );\r\n      let index = this.ticketsLoteria[\r\n        identificador\r\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\r\n      this.ticketsLoteria[identificador].ticket.seleccionados.splice(index, 1);\r\n      if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\r\n        delete this.ticketsLoteria[identificador];\r\n      }\r\n\r\n      await this.cart.removeFromCart(ticket, 1);\r\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(1);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deletePozoTicket(data: any) {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boleto del carrito';\r\n      this.isLoading = true;\r\n      let identificador = data.ticket.identificador;\r\n      let fraccion = '';\r\n      let ticket = this.ticketsPozo[identificador].ticket;\r\n      let sorteo = this.ticketsPozo[identificador].sorteo;\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\r\n        this.token,\r\n        ticket,\r\n        sorteo,\r\n        fraccion,\r\n        5,\r\n        reservaId\r\n      );\r\n\r\n      delete this.ticketsPozo[identificador];\r\n\r\n      await this.cart.removeFromCart(ticket, 5);\r\n      await this.cart.setCarritoPozo(this.ticketsPozo);\r\n      if (this.ticketsDisponibles && this.ticketsDisponibles.length) {\r\n        let deletedIndex = this.ticketsDisponibles.findIndex(\r\n          (x: any) => x.identificador === identificador\r\n        );\r\n        if (deletedIndex != -1)\r\n          this.ticketsDisponibles[deletedIndex].status = false;\r\n      }\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      await this.setDescuento(5);\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n  async deleteAllTickets() {\r\n    try {\r\n      this.loadingMessage = 'Removiendo boletos del carrito';\r\n      this.isLoading = true;\r\n      let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\r\n        return {\r\n          ticket: this.ticketsLoteria[key].ticket,\r\n          sorteo: this.ticketsLoteria[key].sorteo,\r\n        };\r\n      });\r\n      let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\r\n        return {\r\n          ticket: this.ticketsLotto[key].ticket,\r\n          sorteo: this.ticketsLotto[key].sorteo,\r\n        };\r\n      });\r\n      let boletosPozo = Object.keys(this.ticketsPozo).map((key) => {\r\n        return {\r\n          ticket: this.ticketsPozo[key].ticket,\r\n          sorteo: this.ticketsPozo[key].sorteo,\r\n        };\r\n      });\r\n      let reservaId = this.lotteryService.getReservaId();\r\n      /*       await this.lotteryService.eliminarTodosLosBoletosDeReserva(\r\n        this.token,\r\n        boletosLoteria,\r\n        boletosLotto,\r\n        boletosPozo,\r\n        reservaId\r\n      ); */\r\n      Object.keys(this.ticketsPozo).forEach((key) => {\r\n        if (this.ticketsDisponibles && this.ticketsDisponibles.length != 0) {\r\n          let deletedIndex = this.ticketsDisponibles.findIndex(\r\n            (x: any) => x.identificador == key\r\n          );\r\n          if (deletedIndex != -1)\r\n            this.ticketsDisponibles[deletedIndex].status = false;\r\n        }\r\n      });\r\n      await this.cart.borrarCarrito();\r\n      await this.getCarritoTickets();\r\n      //this.getTotal();\r\n      this.isLoading = false;\r\n    } catch (e: any) {\r\n      this.isLoading = false;\r\n      console.log(e.message);\r\n      let errorMessage = e.message;\r\n      this.openError(errorMessage);\r\n    }\r\n  }\r\n\r\n  async getCarritoTickets() {\r\n    let carrito = await this.cart.buscarCarrito();\r\n    this.ticketsLoteria = carrito.loteria;\r\n    this.ticketsLotto = carrito.lotto;\r\n    this.ticketsMillonaria = carrito.millonaria;\r\n    this.ticketsPozo = carrito.pozo;\r\n  }\r\n  isError: boolean = false;\r\n  errorMessage?: string;\r\n  openError(msg: any) {\r\n    this.errorMessage = msg;\r\n    this.isError = true;\r\n  }\r\n\r\n  closeError() {\r\n    this.isError = false;\r\n  }\r\n\r\n  isValidationError: boolean = false;\r\n  validationErrorMessage?: string;\r\n  openValidationError(msg: any) {\r\n    this.validationErrorMessage = msg;\r\n    this.isValidationError = true;\r\n  }\r\n\r\n  closeValidationError() {\r\n    this.isValidationError = false;\r\n    this.validationErrorMessage = '';\r\n    window.location.reload();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport {environment } from '../../../environments/environment';\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class CarritoService {\r\n  total: any = 0;\r\n  totalConDesc: any = 0;\r\n  ticketsLoteria: any = {};\r\n  ticketsLotto: any = {};\r\n  ticketsPozo: any = {};\r\n  ticketsMillonaria: any = {};\r\n  ticketsCarrito: any = [];\r\n  reservaId: any = 0;\r\n\r\n\r\n  mySource = environment.source;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  async eliminarDescuento(element: any, tipoLoteria: any) {\r\n    let sorteo = element.sorteo;\r\n    switch (tipoLoteria) {\r\n      case 1:\r\n        let loteria = this.getLoteriaLocal();\r\n        for (let id in loteria) {\r\n          if (loteria[id].sorteo.sorteo == sorteo) {\r\n            loteria[id].tieneDescuento = false;\r\n            loteria[id].subtotalConDesc = 0;\r\n          }\r\n        }\r\n        this.setLoteriaLocal(loteria);\r\n        break;\r\n      case 2:\r\n        let lotto = this.getLottoLocal();\r\n        for (let id in lotto) {\r\n          if (lotto[id].sorteo.sorteo == sorteo) {\r\n            lotto[id].tieneDescuento = false;\r\n            lotto[id].subtotalConDesc = 0;\r\n          }\r\n        }\r\n        this.setLottoLocal(lotto);\r\n        break;\r\n\r\n      case 5:\r\n        let pozo = this.getPozoLocal();\r\n        for (let id in pozo) {\r\n          if (pozo[id].sorteo.sorteo == sorteo) {\r\n            pozo[id].tieneDescuento = false;\r\n            pozo[id].subtotalConDesc = 0;\r\n          }\r\n        }\r\n        this.setPozoLocal(pozo);\r\n        break;\r\n      case 14:\r\n        let millonaria = this.getMillonariaLocal();\r\n        for (let id in millonaria) {\r\n          if (millonaria[id].sorteo.sorteo == sorteo) {\r\n            millonaria[id].tieneDescuento = false;\r\n            millonaria[id].subtotalConDesc = 0;\r\n          }\r\n        }\r\n        this.setMillonariaLocal(millonaria);\r\n        break;\r\n    }\r\n    await this.actualizarCarrito();\r\n  }\r\n\r\n  async calcularDescuento(descuento: any) {\r\n    return;\r\n    let precioConDescuento = descuento.valorConDescuento;\r\n    let sorteo = descuento.sorteo;\r\n    switch (descuento.tipoLoteria) {\r\n      case '1':\r\n        let loteria = this.getLoteriaLocal();\r\n        for (let id in loteria) {\r\n          if (loteria[id].sorteo.sorteo == sorteo) {\r\n            loteria[id].tieneDescuento = true;\r\n            loteria[id].subtotalConDesc =\r\n              loteria[id].ticket.seleccionados.length *\r\n              parseFloat(precioConDescuento);\r\n          }\r\n        }\r\n        this.setLoteriaLocal(loteria);\r\n        break;\r\n      case '2':\r\n        let lotto = this.getLottoLocal();\r\n        for (let id in lotto) {\r\n          if (lotto[id].sorteo.sorteo == sorteo) {\r\n            lotto[id].tieneDescuento = true;\r\n            lotto[id].subtotalConDesc = parseFloat(precioConDescuento);\r\n          }\r\n        }\r\n        this.setLottoLocal(lotto);\r\n        break;\r\n\r\n      case '5':\r\n        let pozo = this.getPozoLocal();\r\n        for (let id in pozo) {\r\n          if (pozo[id].sorteo.sorteo == sorteo) {\r\n            pozo[id].tieneDescuento = true;\r\n            pozo[id].subtotalConDesc = parseFloat(precioConDescuento);\r\n          }\r\n        }\r\n        this.setPozoLocal(pozo);\r\n        break;\r\n      case '14':\r\n        let millonaria = this.getMillonariaLocal();\r\n        for (let id in millonaria) {\r\n          if (millonaria[id].sorteo.sorteo == sorteo) {\r\n            millonaria[id].tieneDescuento = true;\r\n            millonaria[id].subtotalConDesc = parseFloat(precioConDescuento);\r\n          }\r\n        }\r\n        this.setMillonariaLocal(millonaria);\r\n        break;\r\n    }\r\n    await this.actualizarCarrito();\r\n  }\r\n\r\n  async contarBoletos(sorteo: any, tipoLoteria: any) {\r\n    let aux = this.getCarritoLocal();\r\n    let boletos = aux.filter(\r\n      (item: any) =>\r\n        item.sorteo.sorteo == sorteo && item.tipoLoteria == tipoLoteria\r\n    );\r\n    let conteo;\r\n    switch (tipoLoteria) {\r\n      case 1:\r\n        conteo = boletos.reduce((total: any, value: any) => {\r\n          return total + value.ticket.seleccionados.length;\r\n        }, 0);\r\n        break;\r\n      case 14:\r\n        conteo = boletos.reduce((total: any, value: any) => {\r\n          return total + value.ticket.seleccionados.length;\r\n        }, 0);\r\n        break;\r\n\r\n      default:\r\n        conteo = boletos.length;\r\n        break;\r\n    }\r\n    return conteo;\r\n  }\r\n\r\n  async removeFromCart(ticket: any, tipoLoteria: any) {\r\n    let carrito = await this.getCarrito();\r\n    let deletedIndex = carrito.findIndex(\r\n      (x: any) =>\r\n        x.identificador === ticket.identificador && x.tipoLoteria == tipoLoteria\r\n    );\r\n    carrito.splice(deletedIndex, 1);\r\n    this.ticketsCarrito = carrito;\r\n    localStorage.setItem('seleccionadosCarrito', JSON.stringify(carrito));\r\n  }\r\n\r\n  getReservaId() {\r\n    let reservaId = JSON.parse(localStorage.getItem('reservaId')!);\r\n    if (reservaId && reservaId != '') {\r\n      return reservaId;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  setReservaId(id: any) {\r\n    localStorage.setItem('reservaId', JSON.stringify(id));\r\n  }\r\n  async getCount() {\r\n    let carrito = await this.getCarrito();\r\n    let count = 0;\r\n    if (carrito && carrito.length) {\r\n      carrito.forEach((item: any) => {\r\n        if (item.tipoLoteria == 1) {\r\n          count += item.ticket.seleccionados.length;\r\n        } else {\r\n          count += 1;\r\n        }\r\n      });\r\n    }\r\n    return count;\r\n  }\r\n\r\n  async setCarrito(ticket: any, tipoLoteria: any) {\r\n    let carrito: any = this.getCarritoLocal();\r\n    if (!carrito) carrito = [];\r\n    ticket['identificador'] = ticket.ticket.identificador;\r\n    ticket['tipoLoteria'] = tipoLoteria;\r\n    let addIndex = carrito.findIndex(\r\n      (x: any) => x.identificador === ticket.identificador\r\n    );\r\n    if ((tipoLoteria == 1 || tipoLoteria == 14) && addIndex != -1) {\r\n      carrito[addIndex] = ticket;\r\n    } else {\r\n      carrito.push(ticket);\r\n    }\r\n    this.ticketsCarrito = carrito;\r\n    localStorage.setItem('seleccionadosCarrito', JSON.stringify(carrito));\r\n  }\r\n\r\n  actualizarCarrito() {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      let headers = new HttpHeaders();\r\n      headers = headers.append('Content-Type', 'application/json');\r\n      let address = '/reservas';\r\n      let endpoint = '/cache';\r\n      let user = JSON.parse(localStorage.getItem('userData')!).playerDocument;\r\n\r\n      let body = {\r\n        loteria: this.getLoteriaLocal(),\r\n        lotto: this.getLottoLocal(),\r\n        pozo: this.getPozoLocal(),\r\n        millonaria: this.getMillonariaLocal(),\r\n        carrito: this.getCarritoLocal(),\r\n        total: this.getTotal(),\r\n        reservaId: this.getReservaId(),\r\n        user,\r\n      };\r\n      endpoint = `${endpoint}/actualizarCarrito`;\r\n      address = this.mySource + address + endpoint;\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          resolve('Done');\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  async setCarritoLoteria(tickets: any) {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      localStorage.setItem('seleccionadosLoteria', JSON.stringify(tickets));\r\n      //this.ticketsLoteria = tickets;\r\n      await this.setTotal();\r\n      await this.actualizarCarrito();\r\n      resolve('Done');\r\n    });\r\n  }\r\n  async setCarritoMillonaria(tickets: any) {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      localStorage.setItem('seleccionadosMillonaria', JSON.stringify(tickets));\r\n      //this.ticketsLoteria = tickets;\r\n      await this.setTotal();\r\n      await this.actualizarCarrito();\r\n      resolve('Done');\r\n    });\r\n  }\r\n\r\n  async setCarritoLotto(tickets: any) {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      localStorage.setItem('seleccionadosLotto', JSON.stringify(tickets));\r\n      //this.ticketsLotto = tickets;\r\n      await this.setTotal();\r\n      await this.actualizarCarrito();\r\n      resolve('Done');\r\n    });\r\n  }\r\n\r\n  async setCarritoPozo(tickets: any) {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      localStorage.setItem('seleccionadosPozo', JSON.stringify(tickets));\r\n      //this.ticketsPozo = tickets;\r\n      await this.setTotal();\r\n      await this.actualizarCarrito();\r\n      resolve('Done');\r\n    });\r\n  }\r\n\r\n  setCarritoLocal(data: any) {\r\n    localStorage.setItem('seleccionadosCarrito', JSON.stringify(data));\r\n  }\r\n  setLoteriaLocal(data: any) {\r\n    localStorage.setItem('seleccionadosLoteria', JSON.stringify(data));\r\n  }\r\n  setMillonariaLocal(data: any) {\r\n    localStorage.setItem('seleccionadosMillonaria', JSON.stringify(data));\r\n  }\r\n  setLottoLocal(data: any) {\r\n    localStorage.setItem('seleccionadosLotto', JSON.stringify(data));\r\n  }\r\n  setPozoLocal(data: any) {\r\n    localStorage.setItem('seleccionadosPozo', JSON.stringify(data));\r\n  }\r\n\r\n  getCarritoLocal() {\r\n    let carrito = JSON.parse(localStorage.getItem('seleccionadosCarrito')!);\r\n    if (carrito && carrito.length) {\r\n      return carrito;\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n  getLoteriaLocal() {\r\n    return JSON.parse(localStorage.getItem('seleccionadosLoteria')!);\r\n  }\r\n  getMillonariaLocal() {\r\n    return JSON.parse(localStorage.getItem('seleccionadosMillonaria')!);\r\n  }\r\n  getLottoLocal() {\r\n    return JSON.parse(localStorage.getItem('seleccionadosLotto')!);\r\n  }\r\n  getPozoLocal() {\r\n    return JSON.parse(localStorage.getItem('seleccionadosPozo')!);\r\n  }\r\n\r\n  async buscarCarrito() {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      let headers = new HttpHeaders();\r\n      headers = headers.append('Content-Type', 'application/json');\r\n      let address = '/reservas';\r\n      let endpoint = '/cache';\r\n      let user = JSON.parse(localStorage.getItem('userData')!).playerDocument;\r\n\r\n      let body = {\r\n        user,\r\n      };\r\n      endpoint = `${endpoint}/getCarrito`;\r\n      address = this.mySource + address + endpoint;\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        async (data: any) => {\r\n          let reservaId = this.getReservaId();\r\n          if (data.carrito.length == 0) {\r\n            this.borrarCarrito();\r\n            data.carrito = [];\r\n            data.loteria = {};\r\n            data.lotto = {};\r\n            data.pozo = {};\r\n            data.millonaria = {};\r\n            data.reservaId = 0;\r\n          }\r\n          this.setCarritoLocal(data.carrito);\r\n          this.setLoteriaLocal(data.loteria);\r\n          this.setLottoLocal(data.lotto);\r\n          this.setMillonariaLocal(data.millonaria);\r\n          this.setPozoLocal(data.pozo);\r\n          this.setReservaId(data.reservaId);\r\n          await this.setTotal();\r\n\r\n          resolve(data);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  async validarCarrito(reservaId: any) {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      let headers = new HttpHeaders();\r\n      headers = headers.append('Content-Type', 'application/json');\r\n      let address = '/reservas';\r\n      let endpoint = '/cache';\r\n      let user = JSON.parse(localStorage.getItem('userData')!).playerDocument;\r\n      let token = JSON.parse(localStorage.getItem('userData')!).lotteryToken;\r\n\r\n      let body = {\r\n        user,\r\n        token,\r\n        reservaId,\r\n      };\r\n      endpoint = `${endpoint}/validar`;\r\n      address = this.mySource + address + endpoint;\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          /*           if (!data.status) {\r\n            reject(new Error(data.message));\r\n          }\r\n */ resolve(data);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  async getCarrito() {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      let carritoDB = await this.buscarCarrito();\r\n      resolve(carritoDB.carrito);\r\n      //resolve(JSON.parse(localStorage.getItem(\"seleccionadosCarrito\")));\r\n    });\r\n  }\r\n  async getCarritoLoteria() {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      let carritoDB = await this.buscarCarrito();\r\n      resolve(carritoDB.loteria);\r\n      //resolve(JSON.parse(localStorage.getItem(\"seleccionadosLoteria\")));\r\n    });\r\n  }\r\n  async getCarritoLotto() {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      let carritoDB = await this.buscarCarrito();\r\n      resolve(carritoDB.lotto);\r\n      //resolve(JSON.parse(localStorage.getItem(\"seleccionadosLotto\")));\r\n    });\r\n  }\r\n  async getCarritoPozo() {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      let carritoDB = await this.buscarCarrito();\r\n      resolve(carritoDB.pozo);\r\n      //resolve(JSON.parse(localStorage.getItem(\"seleccionadosPozo\")));\r\n    });\r\n  }\r\n  async getCarritoMillonaria() {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      let carritoDB = await this.buscarCarrito();\r\n      resolve(carritoDB.millonaria);\r\n      //resolve(JSON.parse(localStorage.getItem(\"seleccionadosPozo\")));\r\n    });\r\n  }\r\n  async borrarCarrito() {\r\n    this.ticketsCarrito = [];\r\n    this.ticketsLoteria = {};\r\n    this.ticketsLotto = {};\r\n    this.ticketsPozo = {};\r\n    this.ticketsMillonaria = {};\r\n    this.reservaId = 0;\r\n    this.total = 0;\r\n    localStorage.removeItem('seleccionadosLoteria');\r\n    localStorage.removeItem('seleccionadosLotto');\r\n    localStorage.removeItem('seleccionadosPozo');\r\n    localStorage.removeItem('seleccionadosCarrito');\r\n    localStorage.removeItem('seleccionadosMillonaria');\r\n    localStorage.removeItem('reservaId');\r\n    localStorage.removeItem('total');\r\n    localStorage.removeItem('totalConDesc');\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      let headers = new HttpHeaders();\r\n      headers = headers.append('Content-Type', 'application/json');\r\n      let address = '/reservas';\r\n      let endpoint = '/cache';\r\n      let user = JSON.parse(localStorage.getItem('userData')!).playerDocument;\r\n\r\n      let body = {\r\n        user,\r\n      };\r\n      endpoint = `${endpoint}/borrarCarrito`;\r\n      address = this.mySource + address + endpoint;\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          resolve('Done');\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n  async setTotalConDesc() {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      //await this.buscarCarrito();\r\n      let loteriaAux = this.getLoteriaLocal();\r\n      let lottoAux = this.getLottoLocal();\r\n      let pozoAux = this.getPozoLocal();\r\n      let millonariaAux = this.getMillonariaLocal();\r\n      let loteriaConDesc = 0;\r\n      for (let id in loteriaAux) {\r\n        if (loteriaAux[id].tieneDescuento) {\r\n          loteriaConDesc += parseFloat(loteriaAux[id].subtotalConDesc);\r\n        } else {\r\n          loteriaConDesc += parseFloat(loteriaAux[id].subtotal);\r\n        }\r\n      }\r\n      let lottoConDesc = 0;\r\n      for (let id in lottoAux) {\r\n        if (lottoAux[id].tieneDescuento) {\r\n          lottoConDesc += parseFloat(lottoAux[id].subtotalConDesc);\r\n        } else {\r\n          lottoConDesc += parseFloat(lottoAux[id].subtotal);\r\n        }\r\n      }\r\n      let pozoConDesc = 0;\r\n      for (let id in pozoAux) {\r\n        if (pozoAux[id].tieneDescuento) {\r\n          pozoConDesc += parseFloat(pozoAux[id].subtotalConDesc);\r\n        } else {\r\n          pozoConDesc += parseFloat(pozoAux[id].subtotal);\r\n        }\r\n      }\r\n      let millonariaConDesc = 0;\r\n      for (let id in millonariaAux) {\r\n        if (millonariaAux[id].tieneDescuento) {\r\n          millonariaConDesc += parseFloat(millonariaAux[id].subtotalConDesc);\r\n        } else {\r\n          millonariaConDesc += parseFloat(millonariaAux[id].subtotal);\r\n        }\r\n      }\r\n      let auxConDesc =\r\n        loteriaConDesc + lottoConDesc + pozoConDesc + millonariaConDesc;\r\n\r\n      this.totalConDesc = auxConDesc;\r\n      localStorage.setItem('totalConDesc', JSON.stringify(auxConDesc));\r\n      resolve('Done');\r\n    });\r\n  }\r\n\r\n  async setTotal() {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      //await this.buscarCarrito();\r\n      let loteriaAux = this.getLoteriaLocal();\r\n      let lottoAux = this.getLottoLocal();\r\n      let pozoAux = this.getPozoLocal();\r\n      let millonariaAux = this.getMillonariaLocal();\r\n      let loteria = 0;\r\n      for (let id in loteriaAux) {\r\n        loteria += parseFloat(loteriaAux[id].subtotal);\r\n      }\r\n      let lotto = 0;\r\n      for (let id in lottoAux) {\r\n        lotto += parseFloat(lottoAux[id].subtotal);\r\n      }\r\n      let pozo = 0;\r\n      for (let id in pozoAux) {\r\n        pozo += parseFloat(pozoAux[id].subtotal);\r\n      }\r\n      let millonaria = 0;\r\n      for (let id in millonariaAux) {\r\n        millonaria += parseFloat(millonariaAux[id].subtotal);\r\n      }\r\n      let aux = loteria + lotto + pozo + millonaria;\r\n\r\n      this.total = aux;\r\n      localStorage.setItem('total', JSON.stringify(aux));\r\n      resolve('Done');\r\n    });\r\n  }\r\n  getTotal() {\r\n    //return this.total;\r\n    let total = JSON.parse(localStorage.getItem('total')!);\r\n    if (total) {\r\n      return total;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n  getTotalConDesc() {\r\n    //return this.total;\r\n    let total = JSON.parse(localStorage.getItem('totalConDesc')!);\r\n    if (total) {\r\n      return total;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CarritoService } from './carrito.service';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport {environment } from '../../../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class PagosService {\r\n  mySource = environment.source\r\n  constructor(private cart: CarritoService, private http: HttpClient) {}\r\n\r\n  getAuthData() {\r\n    let data = JSON.parse(localStorage.getItem('userData')!);\r\n    let lotteryToken = data.lotteryToken;\r\n    let user = data.playerDocument;\r\n    let personalId = data.personaId;\r\n    let accountId = data.accountId;\r\n    if (data.user_ == 'italtronicprep') user = data.user_;\r\n    let response = {\r\n      lotteryToken,\r\n      user,\r\n      personalId,\r\n      accountId,\r\n    };\r\n    return response;\r\n  }\r\n\r\n  reservarSaldo() {}\r\n\r\n  liberarSaldo() {}\r\n\r\n  recargarSaldo() {}\r\n\r\n  hasBalance(subtotal: any, token: any) {\r\n    let cartTotal = parseFloat(this.cart.getTotal());\r\n    let testAmount = parseFloat(subtotal) + cartTotal;\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    //let endpoint = \"/inquiry\";\r\n\r\n    let address = '/wallet';\r\n    let endpoint = '';\r\n    let body = {\r\n      token,\r\n    };\r\n    endpoint = `${endpoint}/getBalance`;\r\n\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          let balance = parseFloat(data.balance);\r\n          let hasBalance = balance >= testAmount;\r\n          resolve(hasBalance);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  getCompra(ticketId: any, accountId: any) {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let address = '/ventas';\r\n    let endpoint = '';\r\n    let body = {\r\n      ticketId,\r\n      accountId,\r\n    };\r\n    endpoint = `${endpoint}/getCompra`;\r\n\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          if (!data.status) {\r\n            reject(new Error('No se pudo encontrar la compra solicitada'));\r\n          }\r\n          resolve(data.values);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n  getGanador(ticketId: any) {\r\n    ticketId = ticketId.toString();\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let address = '/ganadores';\r\n    let endpoint = '';\r\n    let body = {\r\n      ticketId,\r\n    };\r\n    endpoint = `${endpoint}/getGanador`;\r\n\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          resolve(data);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n  async confirmarCompra(token: any, reservaId: any): Promise<any> {\r\n    let loteria = await this.cart.getCarritoLoteria();\r\n    let lotto = await this.cart.getCarritoLotto();\r\n    let pozo = await this.cart.getCarritoPozo();\r\n    let millonaria = await this.cart.getCarritoMillonaria();\r\n    let total = this.cart.getTotal();\r\n    let totalConDesc = this.cart.getTotalConDesc();\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let address = '/ventas';\r\n    let endpoint = '';\r\n    let authData = this.getAuthData();\r\n    let body = {\r\n      loteria,\r\n      lotto,\r\n      pozo,\r\n      millonaria,\r\n      lotteryToken: authData.lotteryToken,\r\n      user: authData.user,\r\n      personaId: authData.personalId,\r\n      accountId: authData.accountId,\r\n      amount: total,\r\n      amountConDesc: totalConDesc,\r\n      hasDescuento: !(total == totalConDesc),\r\n      token,\r\n      reservaId,\r\n    };\r\n    endpoint = `${endpoint}/comprarBoletos`;\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          let response: any = data;\r\n          resolve(response);\r\n        },\r\n        (error: any) => {\r\n          //reject(new Error(error.error.message));\r\n          reject(\r\n            new Error(\r\n              'Ha ocurrido un error procesando la compra. Por favor, intente de nuevo.'\r\n            )\r\n          );\r\n        }\r\n      );\r\n    });\r\n  }\r\n  cancelarCompra() {}\r\n  finalizarCompra() {\r\n    this.cart.borrarCarrito();\r\n  }\r\n  getTotal() {\r\n    let total = JSON.parse(localStorage.getItem('total')!);\r\n    if (total) {\r\n      return total;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  animales,\r\n  ticketsAnimales,\r\n  sorteo,\r\n  ticketsLotto,\r\n  ticketsNacional,\r\n  ticketsMillonaria,\r\n} from '../interfaces/venta';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class VentasService {\r\n\r\n  mySource = environment.source\r\n\r\n  sorteo?: Array<sorteo>;\r\n  ticketsNacional?: ticketsNacional[];\r\n  ticketsLotto?: ticketsLotto[];\r\n  ticketsAnimales?: ticketsAnimales[];\r\n  animales?: animales[];\r\n  animalesTabs?: animales[];\r\n  constructor(private http: HttpClient) {}\r\n\r\n  formatNumber(number: any) {\r\n    // Create our number formatter.\r\n    var formatter = new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n    });\r\n\r\n    return formatter.format(number);\r\n  }\r\n\r\n  getAuthData() {\r\n    let data = JSON.parse(localStorage.getItem('userData')!);\r\n    let response = {\r\n      user: '',\r\n      lotteryToken: '',\r\n    };\r\n    if (data) {\r\n      let lotteryToken = data.lotteryToken;\r\n      let user = data.playerDocument;\r\n      //if (data.user_ == 'italtronicprep') user = data.user_;\r\n      response = {\r\n        lotteryToken,\r\n        user,\r\n      };\r\n    }\r\n    return response;\r\n  }\r\n\r\n  obtenerDescuentos() {\r\n    return;\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    //let endpoint = \"/inquiry\";\r\n\r\n    let address = '/ventas';\r\n    let endpoint = '/getDescuentos';\r\n    let authData = this.getAuthData();\r\n\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<Array<sorteo>>((resolve, reject) => {\r\n      this.http\r\n        .get(address, {\r\n          params: {\r\n            lotteryToken: authData.lotteryToken,\r\n            user: authData.user,\r\n          },\r\n          headers: headers,\r\n        })\r\n        .subscribe(\r\n          (data: any) => {\r\n            let descuentos: Array<any> = data;\r\n            resolve(descuentos);\r\n          },\r\n          (error: any) => {\r\n            reject(new Error(error.error.message));\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  obtenerImagenBoleto(tipoLoteria: any, sorteo: any) {\r\n    let sourceBoletos = `${this.mySource}/uploads/boletos/`;\r\n    return new Promise<string>((resolve, reject) => {\r\n      let boletoAddress = `${sourceBoletos}B${tipoLoteria}${sorteo}.png`;\r\n      resolve(boletoAddress);\r\n    });\r\n  }\r\n\r\n  authUser(token: string): Promise<any> {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let address = '/auth';\r\n\r\n    let endpoint = '/';\r\n    let body = {\r\n      token,\r\n    };\r\n\r\n    address = this.mySource + address + endpoint;\r\n    return new Promise<Array<any>>((resolve, reject) => {\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          localStorage.setItem('userData', JSON.stringify(data));\r\n          resolve(data);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  getReservaId() {\r\n    if (\r\n      JSON.parse(localStorage.getItem('reservaId')!) &&\r\n      JSON.parse(localStorage.getItem('reservaId')!) != ''\r\n    ) {\r\n      return JSON.parse(localStorage.getItem('reservaId')!);\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  setReservaId(id: any) {\r\n    localStorage.setItem('reservaId', JSON.stringify(id));\r\n  }\r\n\r\n  reservarBoletos(\r\n    token: string,\r\n    boleto: any,\r\n    tipoLoteria: any,\r\n    reservaId: any\r\n  ) {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let address = '/reservas';\r\n    let endpoint = '/reservarBoletos';\r\n\r\n    address = this.mySource + address + endpoint;\r\n    let authData = this.getAuthData();\r\n    let body: any = {\r\n      lotteryToken: authData.lotteryToken,\r\n      user: authData.user,\r\n      reservaId,\r\n    };\r\n    let aux;\r\n    switch (tipoLoteria) {\r\n      case 1:\r\n        aux = [\r\n          {\r\n            combinacion: boleto.ticket.combinacion,\r\n            fracciones: boleto.fracciones,\r\n            sorteo: boleto.sorteo,\r\n          },\r\n        ];\r\n        body['loteria'] = aux;\r\n        break;\r\n      case 2:\r\n        aux = [\r\n          {\r\n            combinacion: boleto.ticket.combinacion1,\r\n            sorteo: boleto.sorteo,\r\n          },\r\n        ];\r\n        body['lotto'] = aux;\r\n        break;\r\n\r\n      case 5:\r\n        aux = [\r\n          {\r\n            combinacion: boleto.ticket.combinacion1,\r\n            sorteo: boleto.sorteo,\r\n          },\r\n        ];\r\n        body['pozo'] = aux;\r\n        break;\r\n      case 14:\r\n        aux = [\r\n          {\r\n            combinacion: boleto.ticket.combinacion1,\r\n            combinacion2: boleto.ticket.combinacion2,\r\n            fracciones: boleto.fracciones,\r\n            sorteo: boleto.sorteo,\r\n          },\r\n        ];\r\n        body['millonaria'] = aux;\r\n        break;\r\n    }\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          let response: any = data;\r\n          resolve(response);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  eliminarBoletosDeReserva(\r\n    token: any,\r\n    boleto: any,\r\n    sorteo: any,\r\n    fracciones: any,\r\n    tipoLoteria: any,\r\n    reservaId: any\r\n  ) {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let address = '/reservas';\r\n    let endpoint = '/eliminarBoletosDeReserva';\r\n\r\n    address = this.mySource + address + endpoint;\r\n\r\n    let authData = this.getAuthData();\r\n    let body: any = {\r\n      lotteryToken: authData.lotteryToken,\r\n      user: authData.user,\r\n      reservaId,\r\n    };\r\n    let aux;\r\n    switch (tipoLoteria) {\r\n      case 1:\r\n        aux = [\r\n          {\r\n            combinacion: boleto.combinacion,\r\n            fracciones,\r\n            sorteo: sorteo,\r\n          },\r\n        ];\r\n        body['loteria'] = aux;\r\n        break;\r\n      case 2:\r\n        aux = [\r\n          {\r\n            combinacion: boleto.combinacion1,\r\n            sorteo: sorteo,\r\n          },\r\n        ];\r\n        body['lotto'] = aux;\r\n        break;\r\n\r\n      case 5:\r\n        aux = [\r\n          {\r\n            combinacion: boleto.combinacion1,\r\n            sorteo: sorteo,\r\n          },\r\n        ];\r\n        body['pozo'] = aux;\r\n        break;\r\n      case 14:\r\n        aux = [\r\n          {\r\n            combinacion: boleto.combinacion1,\r\n            combinacion2: boleto.combinacion2,\r\n            fracciones,\r\n            sorteo: sorteo,\r\n          },\r\n        ];\r\n        body['millonaria'] = aux;\r\n        break;\r\n    }\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          let response: any = data;\r\n          resolve(response);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n  eliminarTodosLosBoletosDeReserva(\r\n    token: any,\r\n    boletosLoteria: any,\r\n    boletosLotto: any,\r\n    boletosPozo: any,\r\n    boletosMillonaria: any,\r\n    reservaId: any\r\n  ) {\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/json');\r\n    let address = '/reservas';\r\n    let endpoint = '/eliminarBoletosDeReserva';\r\n\r\n    address = this.mySource + address + endpoint;\r\n\r\n    let authData = this.getAuthData();\r\n    let body: any = {\r\n      lotteryToken: authData.lotteryToken,\r\n      user: authData.user,\r\n      reservaId,\r\n    };\r\n    let auxLoteria: any = [];\r\n    let auxLotto: any = [];\r\n    let auxPozo: any = [];\r\n    let auxMillonaria: any = [];\r\n    boletosLoteria.forEach((boleto: any) => {\r\n      auxLoteria.push({\r\n        combinacion: boleto.ticket.combinacion,\r\n        fracciones: boleto.ticket.seleccionados,\r\n        sorteo: boleto.sorteo,\r\n      });\r\n      body['loteria'] = auxLoteria;\r\n    });\r\n    boletosLotto.forEach((boleto: any) => {\r\n      auxLotto.push({\r\n        combinacion: boleto.ticket.combinacion1,\r\n        sorteo: boleto.sorteo,\r\n      });\r\n      body['lotto'] = auxLotto;\r\n    });\r\n    boletosPozo.forEach((boleto: any) => {\r\n      auxPozo.push({\r\n        combinacion: boleto.ticket.combinacion1,\r\n        sorteo: boleto.sorteo,\r\n      });\r\n      body['pozo'] = auxPozo;\r\n    });\r\n    boletosMillonaria.forEach((boleto: any) => {\r\n      auxMillonaria.push({\r\n        combinacion: boleto.ticket.combinacion1,\r\n        sorteo: boleto.sorteo,\r\n      });\r\n      body['millonaria'] = auxMillonaria;\r\n    });\r\n\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.http.post(address, body, { headers: headers }).subscribe(\r\n        (data: any) => {\r\n          let response: any = data;\r\n          resolve(response);\r\n        },\r\n        (error: any) => {\r\n          reject(new Error(error.error.message));\r\n        }\r\n      );\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DetalleDeVentaComponent } from './containers/detalle-de-venta/detalle-de-venta.component';\r\nimport { HomeComponent } from './containers/home/home.component';\r\nimport { LoteriaComponent } from './containers/loteria/loteria.component';\r\nimport { LottoComponent } from './containers/lotto/lotto.component';\r\nimport { MillonariaComponent } from './containers/millonaria/millonaria.component';\r\nimport { PozoComponent } from './containers/pozo/pozo.component';\r\nimport { VentasComponent } from './ventas.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: VentasComponent,\r\n    children: [{ path: 'detalle/:id', component: DetalleDeVentaComponent },\r\n    { path: \"loteria/:token\", component: LoteriaComponent },\r\n    { path: \"millonaria/:token\", component: MillonariaComponent },\r\n    { path: \"lotto/:token\", component: LottoComponent },\r\n    {\r\n      path: \"pozo/:token\",\r\n      component: PozoComponent\r\n    },\r\n    { path: \"\", component: HomeComponent },\r\n    { path: \":token\", component: HomeComponent }\r\n  ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class VentasRoutingModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-ventas',\r\n  templateUrl: './ventas.component.html',\r\n  styleUrls: ['./ventas.component.scss']\r\n})\r\nexport class VentasComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { VentasRoutingModule } from './ventas-routing.module';\r\nimport { VentasComponent } from './ventas.component';\r\nimport { ConfirmacionDeVentaComponent } from './components/confirmacion-de-venta/confirmacion-de-venta.component';\r\nimport { VentaFinalizadaComponent } from './components/venta-finalizada/venta-finalizada.component';\r\nimport { DescripcionDeVentaComponent } from './components/descripcion-de-venta/descripcion-de-venta.component';\r\nimport { CarritoComponent } from './components/carrito/carrito.component';\r\nimport { InstantaneaComponent } from './components/instantanea/instantanea.component';\r\nimport { InstantaneasComponent } from './components/instantaneas/instantaneas.component';\r\nimport { MenuHeaderComponent } from './components/menu-header/menu-header.component';\r\nimport { MenuBoxComponent } from './components/menu-box/menu-box.component';\r\nimport { FloatingMenuComponent } from './components/floating-menu/floating-menu.component';\r\nimport { DetalleDeVentaComponent } from './containers/detalle-de-venta/detalle-de-venta.component';\r\nimport { LoteriaComponent } from './containers/loteria/loteria.component';\r\nimport { PozoComponent } from './containers/pozo/pozo.component';\r\nimport { LottoComponent } from './containers/lotto/lotto.component';\r\nimport { MillonariaComponent } from './containers/millonaria/millonaria.component';\r\nimport { DetalleSorteoComponent } from './components/detalle-sorteo/detalle-sorteo.component';\r\nimport { LoteriaModule } from '../juegos/loteria/loteria.module';\r\nimport { LottoModule } from '../juegos/lotto/lotto.module';\r\nimport { PozoModule } from '../juegos/pozo/pozo.module';\r\nimport { MillonariaModule } from '../juegos/millonaria/millonaria.module';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { HomeComponent } from './containers/home/home.component';\r\nimport { BotonDeJuegoComponent } from './components/boton-de-juego/boton-de-juego.component';\r\nimport { VentaCanceladaComponent } from './components/venta-cancelada/venta-cancelada.component';\r\nimport { SaldoInsuficienteComponent } from './components/saldo-insuficiente/saldo-insuficiente.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    VentasComponent,\r\n    ConfirmacionDeVentaComponent,\r\n    VentaFinalizadaComponent,\r\n    DescripcionDeVentaComponent,\r\n    CarritoComponent,\r\n    InstantaneaComponent,\r\n    InstantaneasComponent,\r\n    MenuHeaderComponent,\r\n    MenuBoxComponent,\r\n    FloatingMenuComponent,\r\n    DetalleDeVentaComponent,\r\n    LoteriaComponent,\r\n    PozoComponent,\r\n    LottoComponent,\r\n    MillonariaComponent,\r\n    DetalleSorteoComponent,\r\n    HomeComponent,\r\n    BotonDeJuegoComponent,\r\n    VentaCanceladaComponent,\r\n    SaldoInsuficienteComponent,\r\n  ],\r\n  exports: [\r\n    VentasComponent,\r\n    ConfirmacionDeVentaComponent,\r\n    VentaFinalizadaComponent,\r\n    DescripcionDeVentaComponent,\r\n    CarritoComponent,\r\n    InstantaneaComponent,\r\n    InstantaneasComponent,\r\n    MenuHeaderComponent,\r\n    MenuBoxComponent,\r\n    FloatingMenuComponent,\r\n    DetalleDeVentaComponent,\r\n    LoteriaComponent,\r\n    PozoComponent,\r\n    LottoComponent,\r\n    MillonariaComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    LoteriaModule,\r\n    LottoModule,\r\n    PozoModule,\r\n    MillonariaModule,\r\n    SharedModule,\r\n    FormsModule,\r\n    \r\n    MatPaginatorModule,\r\n    MatFormFieldModule,\r\n    VentasRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n})\r\nexport class VentasModule {}\r\n"],"names":["EventEmitter","i0","item_r4","CarritoComponent","constructor","cart","comprar","emitirCompra","emit","eliminar","eliminarTodo","ngOnInit","seleccionadosCarrito","ticketsCarrito","length","reverse","tipoLoteria","isLoteriaNacional","logoPath","isLotto","isPozoMillonario","isLaMillonaria","getTotal","hasDiscount","total","parseInt","replace","ngDoCheck","getCarritoLocal","checkTicketsLoteria","ticketsLoteria","Object","keys","checkTicketsLotto","ticketsLotto","checkTicketsPozo","ticketsPozo","checkTicketsLaMillonaria","ticketsMillonaria","deleteLoteria","ticket","deleteLoteriaTicket","deleteFraccionLoteria","fraccion","data","deleteLoteriaFraccion","deleteFraccionMillonaria","deleteMillonariaFraccion","deleteLotto","deleteLottoTicket","deleteMillonaria","deleteMillonariaTicket","deletePozo","deletePozoTicket","formatNumber","totalConDesc","getTotalConDesc","number","formatter","Intl","NumberFormat","style","currency","format","selectors","inputs","logo","tickets","isResumen","outputs","decls","vars","consts","template","DetalleSorteoComponent","ventas","changeDetectorRef","getClassColor","color","fondoLoteria","isLoteria","fondoLotto","fondoMillonaria","fondoPozo","handleImgError","imgNotFound","onEmitir","detectChanges","boleto","fecha","seleccionado","split","hora","auxPremio","valorPremioPrincipal","premio","parseFloat","toFixed","precio","cantidadDeFracciones","auxPremioLoteria","Math","ceil","premioLoteria","emitir","obtenerImagenBoleto","sorteo","markForCheck","setSorteoDefault","sorteos","titulo","loteria","ctx","ctx_r1","MenuBoxComponent","actRoute","lottery","paymentService","router","params","subscribe","token","loadingMessage","isLoading","authUser","lotteryToken","linkLoteriaNacional","linkLotto","linkPozoMillonario","linkMillonaria","getCarritoTickets","e","console","log","message","errorMessage","errorTitle","openError","dismissCompras","confirmacionDeCompra","isInstantaneas","compraFinalizada","saldoInsuficiente","compraCancelada","volver","navigateByUrl","loteriaAux","id","aux","combinacion","seleccionados","subtotal","push","lottoAux","lotto","combinacion1","combinacion2","combinacion3","combinacion4","pozoAux","pozo","mascota","millonariaAux","millonaria","subtotalConDesc","tieneDescuento","amount","amountConDesc","detalleCompra","finalizarCompra","irARecarga","confirmarCompra","hasBalance","reservaId","getReservaId","cartValidation","validarCarrito","response","status","instantanea","instantaneas","abrirFinalizar","cancelarCompra","recargarSaldo","borrarCarrito","recargaDeSaldoMessage","identificador","fracciones","eliminarBoletosDeReserva","removeFromCart","setCarritoMillonaria","setCarritoLoteria","setCarritoLotto","index","findIndex","x","splice","setCarritoPozo","deleteAllTickets","boletosLoteria","map","key","boletosLotto","boletosPozo","carrito","buscarCarrito","authError","msg","title","toUpperCase","isError","closeError","ctx_r0","DetalleDeVentaComponent","pagos","accountId","ticketId","compra","getCompra","user","getAuthData","ganador","getGanador","resultadosGanadores","values","forEach","element","i","ganadorIndex","numeroSorteo","compraReady","i_r17","item_r21","$event","ctx_r14","LoteriaComponent","lotteryService","authData","obtenerSorteo","descuentos","obtenerDescuentos","showComponents","procesaEmitir","sorteoSeleccionado","showNumeros","buscarNumero","combinacionDeLaSuerte","toString","undefined","ticketsDisponibles","obtenerTickets","join","tipoSeleccion","allFractions","handlerPage","page_size","pageSize","page_number","pageIndex","fraccionSeleccionada","idTicket","indexOf","ticketLoteria","count","getCount","pushToSeleccionado","pop","setDescuento","filter","conteo","contarBoletos","cantidad","calcularDescuento","eliminarDescuento","setTotalConDesc","seleccionarTodo","fraccionesDisponibles","includes","concat","subtotalTest","reservarBoletos","setReservaId","setCarrito","p","el","isSelected","idFraccion","openValidationError","deletedIndex","indexA","indexB","validationErrorMessage","isValidationError","closeValidationError","window","location","reload","i_r18","ctx_r15","LottoComponent","seleccionarTicket","ticketLotto","find","abrirResumen","navigate","obtenerAntojito","antojito","obtenerCaracteristicasDeAntojito","ruta","serie_r16","i_r22","item_r24","MillonariaComponent","agregar","event","serie","seleccionSeries","seriesTabs","preventDefault","localStorage","setItem","JSON","stringify","ticketMillonaria","remover","nombre","ordenaCombinacion","a","b","combinacionFigura","sort","obtenerSeries","elemento","boletosMillonaria","animal_r16","i_r23","PozoComponent","animal","seleccionAnimales","animalesTabs","ticketPozo","obtenerMascota","validate","isHigher","over25Error","setTimeout","numero","seleccionarVarios","selectedIndexs","floor","random","obtenerAnimal","parse","getItem","HttpHeaders","environment","CarritoService","http","source","getLoteriaLocal","setLoteriaLocal","getLottoLocal","setLottoLocal","getPozoLocal","setPozoLocal","getMillonariaLocal","setMillonariaLocal","actualizarCarrito","descuento","precioConDescuento","valorConDescuento","boletos","item","reduce","value","getCarrito","addIndex","Promise","resolve","reject","headers","append","address","endpoint","playerDocument","body","mySource","post","error","Error","setTotal","setCarritoLocal","carritoDB","getCarritoLoteria","getCarritoLotto","getCarritoPozo","getCarritoMillonaria","removeItem","loteriaConDesc","lottoConDesc","pozoConDesc","millonariaConDesc","auxConDesc","factory","providedIn","PagosService","personalId","personaId","user_","reservarSaldo","liberarSaldo","cartTotal","testAmount","balance","hasDescuento"],"sourceRoot":"webpack:///"}
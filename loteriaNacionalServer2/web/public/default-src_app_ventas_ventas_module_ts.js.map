{"version":3,"file":"default-src_app_ventas_ventas_module_ts.js","mappings":"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","sources":["./src/app/juegos/loteria/services/venta.service.ts","./src/app/juegos/millonaria/services/venta.service.ts","./src/app/ventas/components/boton-de-juego/boton-de-juego.component.ts","./src/app/ventas/components/boton-de-juego/boton-de-juego.component.html","./src/app/ventas/components/carrito/carrito.component.ts","./src/app/ventas/components/carrito/carrito.component.html","./src/app/ventas/components/confirmacion-de-venta/confirmacion-de-venta.component.ts","./src/app/ventas/components/confirmacion-de-venta/confirmacion-de-venta.component.html","./src/app/ventas/components/descripcion-de-venta/descripcion-de-venta.component.ts","./src/app/ventas/components/descripcion-de-venta/descripcion-de-venta.component.html","./src/app/ventas/components/detalle-sorteo/detalle-sorteo.component.ts","./src/app/ventas/components/detalle-sorteo/detalle-sorteo.component.html","./src/app/ventas/components/floating-menu/floating-menu.component.ts","./src/app/ventas/components/floating-menu/floating-menu.component.html","./src/app/ventas/components/instantanea/instantanea.component.ts","./src/app/ventas/components/instantanea/instantanea.component.html","./src/app/ventas/components/instantaneas/instantaneas.component.ts","./src/app/ventas/components/instantaneas/instantaneas.component.html","./src/app/ventas/components/menu-box/menu-box.component.html","./src/app/ventas/components/menu-box/menu-box.component.ts","./src/app/ventas/components/menu-header/menu-header.component.ts","./src/app/ventas/components/menu-header/menu-header.component.html","./src/app/ventas/components/saldo-insuficiente/saldo-insuficiente.component.ts","./src/app/ventas/components/saldo-insuficiente/saldo-insuficiente.component.html","./src/app/ventas/components/venta-cancelada/venta-cancelada.component.ts","./src/app/ventas/components/venta-cancelada/venta-cancelada.component.html","./src/app/ventas/components/venta-finalizada/venta-finalizada.component.ts","./src/app/ventas/components/venta-finalizada/venta-finalizada.component.html","./src/app/ventas/containers/detalle-de-venta/detalle-de-venta.component.html","./src/app/ventas/containers/detalle-de-venta/detalle-de-venta.component.ts","./src/app/ventas/containers/home/home.component.ts","./src/app/ventas/containers/home/home.component.html","./src/app/ventas/containers/loteria/loteria.component.html","./src/app/ventas/containers/loteria/loteria.component.ts","./src/app/ventas/containers/lotto/lotto.component.html","./src/app/ventas/containers/lotto/lotto.component.ts","./src/app/ventas/containers/millonaria/millonaria.component.html","./src/app/ventas/containers/millonaria/millonaria.component.ts","./src/app/ventas/containers/pozo/pozo.component.html","./src/app/ventas/containers/pozo/pozo.component.ts","./src/app/ventas/services/carrito.service.ts","./src/app/ventas/services/pagos.service.ts","./src/app/ventas/services/ventas.service.ts","./src/app/ventas/ventas-routing.module.ts","./src/app/ventas/ventas.component.ts","./src/app/ventas/ventas.component.html","./src/app/ventas/ventas.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { sorteo } from '../interfaces/sorteo';\nimport { ticketsVenta } from '../interfaces/ticket-venta';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class VentaService {\n  mySource = environment.source\n\n  constructor(private http: HttpClient) {}\n\n  obtenerSorteo(authData: any) {\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let address = '/loteria';\n    let endpoint = `/cache/sorteosDisponibles`;\n    address = this.mySource + address + endpoint;\n\n    return new Promise<Array<sorteo>>((resolve, reject) => {\n      this.http\n        .get(address, {\n          params: {\n            lotteryToken: authData.lotteryToken,\n            user: authData.user,\n          },\n          headers: headers,\n        })\n        .subscribe(\n          (data: any) => {\n            let sorteosDisponibles: Array<sorteo> = data;\n            sorteosDisponibles.sort(this.ordenaSorteos);\n            resolve(sorteosDisponibles);\n          },\n          (error: any) => {\n            reject(new Error(error.error.message));\n          }\n        );\n    });\n  }\n\n  ordenaSorteos(a: any, b: any) {\n    let a1 = a['sorteo'];\n    let b1 = b['sorteo'];\n    return a1 - b1;\n  }\n\n  obtenerTickets(\n    sorteo: any,\n    combinacion: any,\n    combinacionFigura: any,\n    tipoSeleccion: any,\n    authData: any\n  ): Promise<any> {\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let endpoint = '';\n    let body = {\n      sorteo,\n      lotteryToken: authData.lotteryToken,\n      user: authData.user,\n      combinacion,\n      combinacionFigura,\n      tipoSeleccion,\n    };\n    endpoint = `${endpoint}/combinacionesDisponibles`;\n    let address = '/loteria';\n\n    address = this.mySource + address + endpoint;\n    return new Promise<Array<ticketsVenta>>((resolve, reject) => {\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          let combinacionesDisponibles: Array<ticketsVenta> =\n            data.combinaciones;\n          resolve(combinacionesDisponibles);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { sorteo } from '../interfaces/sorteo';\nimport { ticketsVenta } from '../interfaces/ticket-venta';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class VentaService {\n  mySource = environment.source\n\n  constructor(private http: HttpClient) {}\n  obtenerSorteo(authData: any) {\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    //let endpoint = \"/inquiry\";\n    let endpoint = `/cache/sorteosDisponibles`;\n    let address = '/millonaria';\n    address = this.mySource + address + endpoint;\n    return new Promise<Array<sorteo>>((resolve, reject) => {\n      this.http\n        .get(address, {\n          params: {\n            lotteryToken: authData.lotteryToken,\n            user: authData.user,\n          },\n          headers: headers,\n        })\n        .subscribe(\n          (data: any) => {\n            let sorteosDisponibles: Array<sorteo> = data;\n            sorteosDisponibles.sort(this.ordenaSorteos);\n            resolve(sorteosDisponibles);\n          },\n          (error: any) => {\n            reject(new Error(error.error.message));\n          }\n        );\n    });\n  }\n  obtenerSeries(sorteo: any, authData: any) {\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let endpoint = '/getSeries';\n    let address = '/millonaria';\n    address = this.mySource + address + endpoint;\n    return new Promise<Array<any>>((resolve, reject) => {\n      this.http\n        .get(address, {\n          params: {\n            lotteryToken: authData.lotteryToken,\n            user: authData.user,\n            sorteo,\n          },\n          headers: headers,\n        })\n        .subscribe(\n          (data: any) => {\n            let aux = data.map((element: any) => {\n              return {\n                serie: element,\n                status: false,\n              };\n            });\n            resolve(aux);\n          },\n          (error: any) => {\n            reject(new Error(error.error.message));\n          }\n        );\n    });\n  }\n\n  ordenaSorteos(a: any, b: any) {\n    let a1 = a['sorteo'];\n    let b1 = b['sorteo'];\n    return a1 - b1;\n  }\n\n  obtenerTickets(\n    sorteo: any,\n    combinacion: any,\n    combinacionFigura: any,\n    tipoSeleccion: any,\n    authData: any\n  ): Promise<any> {\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let endpoint = '';\n    let body = {\n      sorteo,\n      lotteryToken: authData.lotteryToken,\n      user: authData.user,\n      combinacion,\n      combinacionFigura,\n      tipoSeleccion,\n    };\n    endpoint = `${endpoint}/combinacionesDisponibles`;\n    let address = '/millonaria';\n\n    address = this.mySource + address + endpoint;\n    return new Promise<Array<ticketsVenta>>((resolve, reject) => {\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          let combinacionesDisponibles: Array<ticketsVenta> =\n            data.combinaciones;\n          resolve(combinacionesDisponibles);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-boton-de-juego',\n  templateUrl: './boton-de-juego.component.html',\n  styleUrls: ['./boton-de-juego.component.scss'],\n})\nexport class BotonDeJuegoComponent implements OnInit {\n  @Input() image?: String;\n  @Input() link?: String;\n  @Input() name?: String;\n  @Input() loteria?: String;\n  @Input() token?: String;\n  @Output() authError = new EventEmitter();\n  tipoLoteria: any;\n  constructor() {}\n\n  ngOnInit() {\n    switch (this.name) {\n      case 'loteria':\n        this.tipoLoteria = {\n          loteria: true,\n        };\n        break;\n      case 'lotto':\n        this.tipoLoteria = {\n          lotto: true,\n        };\n        break;\n\n      case 'pozo':\n        this.tipoLoteria = {\n          pozo: true,\n        };\n        break;\n\n      default:\n        this.tipoLoteria = {\n          millonaria: true,\n        };\n        break;\n    }\n  }\n  checkToken(e: any) {\n    if (!this.token) {\n      e.stopPropagation();\n      e.preventDefault();\n      this.authError.emit();\n      return;\n    }\n  }\n}\n","<a\n  class=\"lotteryBox\"\n  [href]=\"link\"\n  [ngClass]=\"name!\"\n  [ngClass]=\"tipoLoteria!\"\n  (click)=\"checkToken($event)\"\n>\n  <img class=\"lotteryImg\" [src]=\"image\" alt=\"\" />\n  Jugar\n</a>\n\n","import { Component, OnInit, Input, EventEmitter, Output } from \"@angular/core\";\nimport { CarritoService } from \"../../services/carrito.service\";\n\n@Component({\n  selector: 'app-carrito',\n  templateUrl: './carrito.component.html',\n  styleUrls: ['./carrito.component.scss']\n})\nexport class CarritoComponent implements OnInit {\n  @Input() logo?: String;\n  @Input() ticketsLoteria: any;\n  @Input() ticketsLotto: any;\n  @Input() ticketsPozo: any;\n  @Input() ticketsMillonaria: any;\n  @Input() tickets: any;\n  @Input() tipoLoteria?: string;\n  @Input() isResumen: boolean = false;\n  @Output() emitirCompra = new EventEmitter();\n  @Output() eliminarTodo = new EventEmitter();\n  @Output() deleteLoteriaTicket = new EventEmitter();\n  @Output() deleteLoteriaFraccion = new EventEmitter();\n  @Output() deleteMillonariaFraccion = new EventEmitter();\n  @Output() deleteLottoTicket = new EventEmitter();\n  @Output() deletePozoTicket = new EventEmitter();\n  @Output() deleteMillonariaTicket = new EventEmitter();\n\n  isLoteriaNacional: boolean = false;\n  isLotto: boolean = false;\n  isPozoMillonario: boolean = false;\n  isLaMillonaria: boolean = false;\n  logoPath?: string;\n  total: any;\n  totalConDesc: any;\n  seleccionadosCarrito: any;\n  constructor(private cart: CarritoService) {}\n\n  comprar() {\n    this.emitirCompra.emit();\n  }\n  eliminar() {\n    this.eliminarTodo.emit();\n  }\n\n  async ngOnInit() {\n    this.seleccionadosCarrito = this.cart.ticketsCarrito;\n    //this.seleccionadosCarrito = (await this.cart.getCarrito()).carrito\n    this.seleccionadosCarrito =\n      this.seleccionadosCarrito.length != 0\n        ? this.seleccionadosCarrito.reverse()\n        : [];\n    //this.seleccionadosCarrito = this.seleccionadosCarrito? this.seleccionadosCarrito.reverse(): [];\n    switch (this.tipoLoteria) {\n      case \"loteria\":\n        this.isLoteriaNacional = true;\n        this.logoPath = \"assets/img/loteria-carrito.svg\";\n        break;\n      case \"lotto\":\n        this.isLotto = true;\n        this.logoPath = \"assets/img/lotto-carrito.svg\";\n        break;\n      case \"pozo\":\n        this.isPozoMillonario = true;\n        this.logoPath = \"assets/img/pozo-carrito.svg\";\n        break;\n\n      case \"millonaria\":\n        this.isLaMillonaria = true;\n        this.logoPath = \"assets/img/lotto-carrito.svg\";\n        break;\n    }\n    this.getTotal();\n  }\n\n  hasDiscount(total: string) {\n    return parseInt(total.replace(\"$\", \"\"));\n  }\n\n  async ngDoCheck() {\n    //this.seleccionadosCarrito = (await this.cart.getCarrito()).carrito\n    this.seleccionadosCarrito = this.cart.getCarritoLocal();\n    this.seleccionadosCarrito =\n      this.seleccionadosCarrito.length != 0\n        ? this.seleccionadosCarrito.reverse()\n        : [];\n    //await this.cart.setTotal();\n    this.getTotal();\n  }\n\n  checkTicketsLoteria() {\n    if (this.ticketsLoteria) {\n      return Object.keys(this.ticketsLoteria).length != 0;\n    } else return false\n  }\n\n  checkTicketsLotto() {\n    if (this.ticketsLotto) {\n      return Object.keys(this.ticketsLotto).length != 0;\n    }else return false\n  }\n\n  checkTicketsPozo() {\n    if (this.ticketsPozo) {\n      return Object.keys(this.ticketsPozo).length != 0;\n    }else return false\n  }\n\n  checkTicketsLaMillonaria() {\n    if (this.ticketsMillonaria) {\n      return Object.keys(this.ticketsMillonaria).length != 0;\n    }else return false\n  }\n\n  deleteLoteria(ticket: any) {\n    this.deleteLoteriaTicket.emit(ticket);\n  }\n\n  deleteFraccionLoteria(ticket: any, fraccion: any) {\n    let data = {\n      ticket,\n      fraccion,\n    };\n    this.deleteLoteriaFraccion.emit(data);\n  }\n  deleteFraccionMillonaria(ticket: any, fraccion:any) {\n    let data = {\n      ticket,\n      fraccion,\n    };\n    this.deleteMillonariaFraccion.emit(data);\n  }\n\n  deleteLotto(ticket: any) {\n    this.deleteLottoTicket.emit(ticket);\n  }\n\n  deleteMillonaria(ticket: any) {\n    this.deleteMillonariaTicket.emit(ticket);\n  }\n  deletePozo(ticket: any) {\n    this.deletePozoTicket.emit(ticket);\n  }\n\n  getTotal() {\n    this.total = this.formatNumber(this.cart.getTotal());\n    this.totalConDesc = this.formatNumber(this.cart.getTotalConDesc());\n  }\n  formatNumber(number: any) {\n    // Create our number formatter.\n    var formatter = new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n\n      // These options are needed to round to whole numbers if that's what you want.\n      //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n      //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n    });\n\n    return formatter.format(number);\n  }\n}\n","<div class=\"contenedor_ticket\">\n  <div class=\"logo_ticket\">\n    <img [src]=\"logoPath\" alt=\"\" />\n  </div>\n  <div>\n    <hr\n      size=\"2px\"\n      [ngClass]=\"{\n        fondoLoteria: isLoteriaNacional,\n        fondoLotto: isLotto,\n        fondoPozo: isPozoMillonario,\n        fondoMillonaria: isLaMillonaria\n      }\"\n    />\n  </div>\n  <div\n    class=\"detailBox\"\n    *ngIf=\"!(seleccionadosCarrito && seleccionadosCarrito.length)\"\n  >\n    <div class=\"noItem\">\n      No hay boletos en tu carrito, escoge tu nmero de la suerte y empieza a\n      ganar con nosotros!\n    </div>\n  </div>\n  <div\n    class=\"detailBox\"\n    *ngIf=\"seleccionadosCarrito && seleccionadosCarrito.length\"\n  >\n    <div class=\"scroll\">\n      <ng-container *ngFor=\"let item of seleccionadosCarrito; let i = index\">\n        <loteria-ticket-ventas\n          style=\"width: 100%\"\n          *ngIf=\"item.tipoLoteria == 1\"\n          (deleteTicket)=\"deleteLoteria(item)\"\n          (deleteFraccion)=\"deleteFraccionLoteria(item, $event)\"\n          [ticket]=\"item.ticket\"\n          [sorteo]=\"item.sorteo\"\n        >\n        </loteria-ticket-ventas>\n        <lotto-ticket-ventas\n          style=\"width: 100%\"\n          *ngIf=\"item.tipoLoteria == 2\"\n          (delete)=\"deleteLotto(item)\"\n          [ticket]=\"item.ticket\"\n          [sorteo]=\"item.sorteo\"\n        >\n        </lotto-ticket-ventas>\n        <pozo-ticket-ventas\n          style=\"width: 100%\"\n          *ngIf=\"item.tipoLoteria == 5\"\n          (delete)=\"deletePozo(item)\"\n          [ticket]=\"item.ticket\"\n          [sorteo]=\"item.sorteo\"\n        >\n        </pozo-ticket-ventas>\n        <millonaria-ticket-ventas\n          style=\"width: 100%\"\n          *ngIf=\"item.tipoLoteria == 14\"\n          (deleteTicket)=\"deleteMillonaria(item)\"\n          (deleteFraccion)=\"deleteFraccionMillonaria(item, $event)\"\n          [ticket]=\"item.ticket\"\n          [sorteo]=\"item.sorteo\"\n        >\n        </millonaria-ticket-ventas>\n      </ng-container>\n    </div>\n  </div>\n  <ng-container\n    *ngIf=\"\n      checkTicketsLoteria() ||\n      checkTicketsLotto() ||\n      checkTicketsPozo() ||\n      checkTicketsLaMillonaria()\n    \"\n  >\n    <div>\n      <hr\n        size=\"2px\"\n        [ngClass]=\"{\n          fondoLoteria: isLoteriaNacional,\n          fondoLotto: isLotto,\n          fondoPozo: isPozoMillonario,\n          fondoMillonaria: isLaMillonaria\n        }\"\n      />\n    </div>\n    <div class=\"totalsBox\">Total: {{ total }}</div>\n    <div *ngIf=\"hasDiscount(totalConDesc)\" class=\"totalsBox\">\n      Total con descuento: {{ totalConDesc }}\n    </div>\n\n    <div>\n      <hr\n        size=\"2px\"\n        [ngClass]=\"{\n          fondoLoteria: isLoteriaNacional,\n          fondoLotto: isLotto,\n          fondoPozo: isPozoMillonario,\n          fondoMillonaria: isLaMillonaria\n        }\"\n      />\n    </div>\n    <div class=\"boton_comprar\">\n      <button class=\"botonEliminar\" (click)=\"eliminar()\">BORRAR TODO</button>\n      <button\n        (click)=\"comprar()\"\n        [ngClass]=\"{\n          fondoLoteria: isLoteriaNacional,\n          fondoLotto: isLotto,\n          fondoPozo: isPozoMillonario,\n          fondoMillonaria: isLaMillonaria\n        }\"\n      >\n        COMPRAR\n      </button>\n    </div>\n  </ng-container>\n</div>\n","import { Component, OnInit, Output, EventEmitter, Input } from \"@angular/core\";\nimport { VentasService } from \"../../services/ventas.service\";\n\n@Component({\n  selector: 'app-confirmacion-de-venta',\n  templateUrl: './confirmacion-de-venta.component.html',\n  styleUrls: ['./confirmacion-de-venta.component.scss']\n})\nexport class ConfirmacionDeVentaComponent implements OnInit {\n  @Output() compraConfirmada = new EventEmitter();\n  @Output() compraCancelada = new EventEmitter();\n  @Output() comprarDespues = new EventEmitter();\n  @Input() compra: any;\n  user: any;\n  constructor(\n    private ventas: VentasService,\n  ) {}\n\n  ngOnInit() {\n    this.user = this.ventas.getAuthData().user\n  }\n  confirmarCompra() {\n    this.compraConfirmada.emit();\n  }\n\n  volver() {\n    this.comprarDespues.emit();\n  }\n\n  cancelarCompra() {\n    this.compraCancelada.emit(\n      \"La compra no se pudo procesar, por favor intente mas tarde\"\n    );\n  }\n}\n","<div class=\"blackBox\" (click)=\"volver()\"></div>\n<div class=\"paymentBox\">\n  <app-descripcion-de-venta\n    [compra]=\"compra\"\n    [user]=\"user\"\n  ></app-descripcion-de-venta>\n\n  <p>Seguro que deseas efectuar la compra?</p>\n  <div class=\"buttonBox\">\n    <button class=\"backButton\" (click)=\"volver()\">Volver</button>\n    <button class=\"confirmationButton\" (click)=\"confirmarCompra()\">\n      Confirmar compra\n    </button>\n  </div>\n</div>\n","import { Component, OnInit, Output, EventEmitter, Input } from \"@angular/core\";\nimport {VentaService as PozoService} from '../../../juegos/pozo/services/venta.service'\nimport {VentaService as LottoService} from '../../../juegos/lotto/services/venta.service'\n\n@Component({\n  selector: 'app-descripcion-de-venta',\n  templateUrl: './descripcion-de-venta.component.html',\n  styleUrls: ['./descripcion-de-venta.component.scss']\n})\nexport class DescripcionDeVentaComponent implements OnInit {\n  @Input() compra: any;\n  @Input() user: any;\n  @Input() ticketId: any;\n\n  constructor(private pozo: PozoService,private lotto: LottoService) { }\n\n  ngOnInit() {\n  }\n\n  nombreMascota(mascota: any){\n    let mascotaData = this.pozo.obtenerCaracteristicasDeMascota(mascota);\n    return mascotaData!.nombre;\n  }  \n  nombreAntojito(antojito: any){\n    let antojitoData = this.lotto.obtenerCaracteristicasDeAntojito(antojito);\n    return antojitoData!.nombre;\n  }\n  formatNumber(number: any){// Create our number formatter.\n    var formatter = new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    \n      // These options are needed to round to whole numbers if that's what you want.\n      //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n      //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n    });\n    \n    return formatter.format(number);\n  }\n}\n","<div class=\"titleBox\">\n    <p>A continuacion un resumen de tu compra:</p>\n  </div>\n  <div class=\"containerDetails\">\n    <div class=\"containerInfoBox\">\n      <div class=\"titleLoteryBox\">\n        <h3>\n          Usuario: <span>{{ user }}</span>\n        </h3>\n        <h3 *ngIf=\"ticketId\">\n          Nmero de Orden: <span>{{ ticketId }}</span>\n        </h3>\n      </div>\n    </div>\n    <div class=\"containerInfoBox\" *ngIf=\"compra.loteria.length != 0\">\n      <div class=\"titleLoteriaBox\">\n        <h3>LOTERA NACIONAL</h3>\n      </div>\n      <div *ngFor=\"let item of compra.loteria\" class=\"dateLoteryBox loteria\">\n        <div class=\"infoSorteoBox\">\n          <p>\n            Sorteo: <span>{{ item.sorteo }}</span>\n          </p>\n          <p>\n            Fecha del sorteo: <span>{{ item.fecha }}</span>\n          </p>\n        </div>\n        <div class=\"dateTicketBox\">\n          <p>\n            Combinacin: <span>{{ item.combinacion1 }}</span>\n          </p>\n          <p>\n            Fracciones seleccionadas:\n            <span>{{ item.fracciones.join(\", \") }}</span>\n          </p>\n        </div>\n        <div class=\"numberBox\">\n          <p>\n            Cantidad: <span>{{ item.fracciones.length }}</span>\n          </p>\n        </div>\n        <div class=\"montoBox\">\n          <p>\n            Total: <span>{{ formatNumber(item.subtotal) }}</span>\n          </p>\n          <p *ngIf=\"item.tieneDescuento\">\n            Total con descuento:\n            <span>{{ formatNumber(item.subtotalConDesc) }}</span>\n          </p>\n        </div>\n        <ng-container *ngIf=\"item.hasGanador\">\n          <div class=\"ganadorTitleBox loteriaColor\">\n            <p>Boleto ganador</p>\n          </div>\n          <div class=\"ganadorBox\">\n            <div class=\"ganadorHeaderBox loteriaBackground\">\n              <p class=\"ganadorFraccion\">FRACCIN</p>\n              <p>VALOR DEL PREMIO</p>\n              <p>DESCUENTO 14%</p>\n              <p>VALOR DEL PREMIO CON DESCUENTO</p>\n              <p>DESCRIPCIN DEL PREMIO</p>\n            </div>\n            <div\n              class=\"ganadorDetailsBox\"\n              *ngFor=\"let ganador of item.detalleGanador\"\n            >\n              <p class=\"ganadorFraccion\">{{ ganador.fraccion }}</p>\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\n              <p>\n                {{\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\n                }}\n              </p>\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\n              <p>{{ ganador.descripcionPremio }}</p>\n            </div>\n          </div>\n          <div\n            class=\"ganadorBoxMobile\"\n            *ngFor=\"let ganador of item.detalleGanador; let i = index\"\n          >\n            <div class=\"ganadorHeaderBox loteriaBackground\">\n              <p>Premio {{ i + 1 }}</p>\n            </div>\n            <div class=\"ganadorDetailsBox\">\n              <p>FRACCIN</p>\n              <p>{{ ganador.fraccion }}</p>\n              <p>VALOR DEL PREMIO</p>\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\n              <p>DESCUENTO 14%</p>\n              <p>\n                {{\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\n                }}\n              </p>\n              <p>VALOR DEL PREMIO CON DESC.</p>\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\n              <p>DESCRIPCIN DEL PREMIO</p>\n              <p>{{ ganador.descripcionPremio }}</p>\n            </div>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n  \n    <div class=\"containerInfoBox\" *ngIf=\"compra.lotto.length != 0\">\n      <div class=\"titleLottoBox\">\n        <h3>LOTTO</h3>\n      </div>\n      <div *ngFor=\"let item of compra.lotto\" class=\"dateLoteryBox lotto\">\n        <div class=\"infoSorteoBox\">\n          <p>\n            Sorteo: <span>{{ item.sorteo }}</span>\n          </p>\n          <p>\n            Fecha del sorteo: <span>{{ item.fecha }}</span>\n          </p>\n        </div>\n        <!--       <div class=\"infoTicketBox\">\n        </div> -->\n        <div class=\"dateTicketBox\">\n          <p>\n            Combinacin: <span>{{ item.combinacion1 }}</span>\n          </p>\n          <p>\n            LottoPlus: <span>{{ item.combinacion3 }}</span>\n          </p>\n          <p>\n            Lottito: <span>{{ item.combinacion2 }}</span>\n          </p>\n          <p>\n            Nos Vemos Jefe:\n            <span>{{ item.combinacion4 }}</span>\n          </p>\n          <p *ngIf=\"item.combinacion5 && item.combinacion5 != ''\">\n            Antojito:\n            <span>{{ nombreAntojito(item.combinacion5) }}</span>\n          </p>\n        </div>\n        <div class=\"numberBox\">\n          <p>Cantidad: <span>1</span></p>\n        </div>\n        <div class=\"montoBox\">\n          <p>\n            Total: <span>{{ formatNumber(item.subtotal) }}</span>\n          </p>\n          <p *ngIf=\"item.tieneDescuento\">\n            Total con descuento:\n            <span>{{ formatNumber(item.subtotalConDesc) }}</span>\n          </p>\n        </div>\n        <ng-container *ngIf=\"item.hasGanador\">\n          <div class=\"ganadorTitleBox lottoColor\">\n            <p>Boleto ganador</p>\n          </div>\n          <div class=\"ganadorBox\">\n            <div class=\"ganadorHeaderBox lottoBackground\">\n              <p>VALOR DEL PREMIO</p>\n              <p>DESCUENTO 14%</p>\n              <p>VALOR DEL PREMIO CON DESCUENTO</p>\n              <p>DESCRIPCIN DEL PREMIO</p>\n            </div>\n            <div\n              class=\"ganadorDetailsBox\"\n              *ngFor=\"let ganador of item.detalleGanador\"\n            >\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\n              <p>\n                {{\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\n                }}\n              </p>\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\n              <p>{{ ganador.descripcionPremio }}</p>\n            </div>\n          </div>\n          <div\n            class=\"ganadorBoxMobile\"\n            *ngFor=\"let ganador of item.detalleGanador; let i = index\"\n          >\n            <div class=\"ganadorHeaderBox lottoBackground\">\n              <p>Premio {{ i + 1 }}</p>\n            </div>\n            <div class=\"ganadorDetailsBox\">\n              <p>VALOR DEL PREMIO</p>\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\n              <p>DESCUENTO 14%</p>\n              <p>\n                {{\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\n                }}\n              </p>\n              <p>VALOR DEL PREMIO CON DESC.</p>\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\n              <p>DESCRIPCIN DEL PREMIO</p>\n              <p>{{ ganador.descripcionPremio }}</p>\n            </div>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n  \n    <div class=\"containerInfoBox\" *ngIf=\"compra.pozo.length != 0\">\n      <div class=\"titlePozoBox\">\n        <h3>POZO MILLONARIO</h3>\n      </div>\n      <div *ngFor=\"let item of compra.pozo\" class=\"dateLoteryBox pozo\">\n        <div class=\"infoSorteoBox\">\n          <p>\n            Sorteo: <span>{{ item.sorteo }}</span>\n          </p>\n          <p>\n            Fecha del sorteo: <span>{{ item.fecha }}</span>\n          </p>\n        </div>\n        <div class=\"dateTicketBox\">\n          <p>\n            Boleto: <span>{{ item.combinacion1 }}</span>\n          </p>\n          <p>\n            Mascota: <span>{{ nombreMascota(item.mascota) }}</span>\n          </p>\n          <p>\n            Combinacin:\n            <span>{{ item.combinacion2 }}</span>\n          </p>\n        </div>\n        <div class=\"numberBox\">\n          <p>Cantidad: <span>1</span></p>\n        </div>\n        <div class=\"montoBox\">\n          <p>\n            Total: <span>{{ formatNumber(item.subtotal) }}</span>\n          </p>\n          <p *ngIf=\"item.tieneDescuento\">\n            Total con descuento:\n            <span>{{ formatNumber(item.subtotalConDesc) }}</span>\n          </p>\n        </div>\n        <ng-container *ngIf=\"item.hasGanador\">\n          <div class=\"ganadorTitleBox pozoColor\">\n            <p>Boleto ganador</p>\n          </div>\n          <div class=\"ganadorBox\">\n            <div class=\"ganadorHeaderBox pozoBackground\">\n              <p>VALOR DEL PREMIO</p>\n              <p>DESCUENTO 14%</p>\n              <p>VALOR DEL PREMIO CON DESCUENTO</p>\n              <p>DESCRIPCIN DEL PREMIO</p>\n            </div>\n            <div\n              class=\"ganadorDetailsBox\"\n              *ngFor=\"let ganador of item.detalleGanador\"\n            >\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\n              <p>\n                {{\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\n                }}\n              </p>\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\n              <p>{{ ganador.descripcionPremio }}</p>\n            </div>\n          </div>\n          <div\n            class=\"ganadorBoxMobile\"\n            *ngFor=\"let ganador of item.detalleGanador; let i = index\"\n          >\n            <div class=\"ganadorHeaderBox pozoBackground\">\n              <p>Premio {{ i + 1 }}</p>\n            </div>\n            <div class=\"ganadorDetailsBox\">\n              <p>VALOR DEL PREMIO</p>\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\n              <p>DESCUENTO 14%</p>\n              <p>\n                {{\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\n                }}\n              </p>\n              <p>VALOR DEL PREMIO CON DESC.</p>\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\n              <p>DESCRIPCIN DEL PREMIO</p>\n              <p>{{ ganador.descripcionPremio }}</p>\n            </div>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n  \n    <div class=\"containerInfoBox\" *ngIf=\"compra.millonaria.length != 0\">\n      <div class=\"titleMillonariaBox\">\n        <h3>LA MILLONARIA</h3>\n      </div>\n      <div\n        *ngFor=\"let item of compra.millonaria\"\n        class=\"dateLoteryBox millonaria\"\n      >\n        <div class=\"infoSorteoBox\">\n          <p>\n            Sorteo: <span>{{ item.sorteo }}</span>\n          </p>\n          <p>\n            Fecha del sorteo: <span>{{ item.fecha }}</span>\n          </p>\n        </div>\n        <div class=\"dateTicketBox\">\n          <p>\n            Combinacin: <span>{{ item.combinacion1 }}</span>\n          </p>\n          <p>\n            Serie: <span>{{ item.combinacion2 }}</span>\n          </p>\n  \n          <p>\n            Fracciones seleccionadas:\n            <span>{{ item.fracciones.join(\", \") }}</span>\n          </p>\n        </div>\n        <div class=\"numberBox\">\n          <p>\n            Cantidad: <span>{{ item.fracciones.length }}</span>\n          </p>\n        </div>\n        <div class=\"montoBox\">\n          <p>\n            Total: <span>{{ formatNumber(item.subtotal) }}</span>\n          </p>\n          <p *ngIf=\"item.tieneDescuento\">\n            Total con descuento:\n            <span>{{ formatNumber(item.subtotalConDesc) }}</span>\n          </p>\n        </div>\n        <ng-container *ngIf=\"item.hasGanador\">\n          <div class=\"ganadorTitleBox millonariaColor\">\n            <p>Boleto ganador</p>\n          </div>\n          <div class=\"ganadorBox\">\n            <div class=\"ganadorHeaderBox millonariaBackground\">\n              <p>VALOR DEL PREMIO</p>\n              <p>DESCUENTO 14%</p>\n              <p>VALOR DEL PREMIO CON DESCUENTO</p>\n              <p>DESCRIPCIN DEL PREMIO</p>\n            </div>\n            <div\n              class=\"ganadorDetailsBox\"\n              *ngFor=\"let ganador of item.detalleGanador\"\n            >\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\n              <p>\n                {{\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\n                }}\n              </p>\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\n              <p>{{ ganador.descripcionPremio }}</p>\n            </div>\n          </div>\n          <div\n            class=\"ganadorBoxMobile\"\n            *ngFor=\"let ganador of item.detalleGanador; let i = index\"\n          >\n            <div class=\"ganadorHeaderBox millonariaBackground\">\n              <p>Premio {{ i + 1 }}</p>\n            </div>\n            <div class=\"ganadorDetailsBox\">\n              <p>VALOR DEL PREMIO</p>\n              <p>{{ formatNumber(ganador.valorPremio) }}</p>\n              <p>DESCUENTO 14%</p>\n              <p>\n                {{\n                  formatNumber(ganador.valorPremio - ganador.valorPremioDescuento)\n                }}\n              </p>\n              <p>VALOR DEL PREMIO CON DESC.</p>\n              <p>{{ formatNumber(ganador.valorPremioDescuento) }}</p>\n              <p>DESCRIPCIN DEL PREMIO</p>\n              <p>{{ ganador.descripcionPremio }}</p>\n            </div>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n  \n    <div class=\"totalBox\">\n      <p>\n        Total: <span *ngIf=\"compra.amount\">{{ formatNumber(compra.amount) }}</span\n        ><span *ngIf=\"compra.total\">{{ formatNumber(compra.total) }}</span>\n      </p>\n      <p\n        *ngIf=\"\n          (compra.amountConDesc && compra.amount != compra.amountConDesc) ||\n          (compra.totalConDesc && compra.total != compra.totalConDesc)\n        \"\n      >\n        Total con descuento:\n        <span *ngIf=\"compra.amountConDesc\">{{\n          formatNumber(compra.amountConDesc)\n        }}</span\n        ><span *ngIf=\"compra.totalConDesc\">{{\n          formatNumber(compra.totalConDesc)\n        }}</span>\n      </p>\n    </div>\n  </div>\n  ","import {\n  Component,\n  Input,\n  OnInit,\n  EventEmitter,\n  Output,\n  ChangeDetectorRef,\n} from \"@angular/core\";\nimport { sorteo } from \"../../interfaces/venta\"\nimport { VentasService } from \"../../services/ventas.service\";\n\n@Component({\n  selector: 'app-detalle-sorteo',\n  templateUrl: './detalle-sorteo.component.html',\n  styleUrls: ['./detalle-sorteo.component.scss']\n})\nexport class DetalleSorteoComponent implements OnInit {\n  @Input() titulo?: string;\n  @Input() color?: string;\n  @Input() loteria?: number;\n  @Input() sorteos?: Array<sorteo>;\n\n  @Output() emitir = new EventEmitter<sorteo>();\n\n  seleccionado?: sorteo;\n  boleto?: string;\n  fondoLoteria: boolean = true;\n  isLoteria: boolean = false;\n  fondoLotto: boolean = false;\n  fondoPozo: boolean = false;\n  imgNotFound: boolean = true;\n  tipoLoteria?: number;\n  fondoMillonaria: boolean = false;\n\n  constructor(\n    private ventas: VentasService,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {}\n\n  getClassColor(color: string) {\n    switch (color) {\n      case \"loteria\":\n        this.tipoLoteria = 1;\n        this.fondoLoteria = true;\n        this.isLoteria = true;\n        this.fondoLotto = false;\n        this.fondoMillonaria = false;\n        this.fondoPozo = false;\n        break;\n\n      case \"lotto\":\n        this.tipoLoteria = 2;\n        this.fondoLotto = true;\n        this.fondoMillonaria = false;\n        this.fondoLoteria = false;\n        this.fondoPozo = false;\n        break;\n\n      case \"pozo\":\n        this.tipoLoteria = 5;\n        this.fondoPozo = true;\n        this.fondoLotto = false;\n        this.fondoMillonaria = false;\n        this.fondoLoteria = false;\n        break;\n\n      case \"millonaria\":\n        this.tipoLoteria = 14;\n        this.isLoteria = true;\n\n        this.fondoMillonaria = true;\n        this.fondoPozo = false;\n        this.fondoLotto = false;\n        this.fondoLoteria = false;\n        break;\n    }\n  }\n\n  handleImgError() {\n    this.imgNotFound = true;\n  }\n\n  async onEmitir() {\n    this.changeDetectorRef.detectChanges();\n    this.boleto = \"\";\n    this.fecha = (this.seleccionado as sorteo).fecha.split(\" \")[0];\n    this.hora = (this.seleccionado as sorteo).fecha.split(\" \")[1];\n    let auxPremio = (this.seleccionado as sorteo).valorPremioPrincipal;\n    let premio = parseFloat(auxPremio).toFixed(2);\n    let precio = parseFloat((this.seleccionado as sorteo).precio).toFixed(2);\n    this.cantidadDeFracciones = (\n      this.seleccionado as sorteo\n    ).cantidadDeFracciones;\n    let auxPremioLoteria = parseInt(premio) * this.cantidadDeFracciones;\n    if (this.tipoLoteria == 14) {\n      auxPremioLoteria =\n        Math.ceil((parseInt(premio) * this.cantidadDeFracciones) / 10) * 10;\n    }\n    this.premioLoteria = this.ventas\n      .formatNumber(auxPremioLoteria)\n      .split(\".\")[0];\n    this.premio = this.ventas.formatNumber(premio).split(\".\")[0];\n    this.precio = this.ventas.formatNumber(precio);\n    this.emitir.emit(this.seleccionado);\n    this.boleto = await this.ventas.obtenerImagenBoleto(\n      this.tipoLoteria,\n      this.seleccionado!.sorteo\n    );\n    this.imgNotFound = false;\n    this.changeDetectorRef.markForCheck();\n  }\n\n  fecha: string = \"\";\n  hora: string = \"\";\n  premio: string = \"\";\n  premioLoteria: string = \"\";\n  precio: string = \"\";\n  cantidadDeFracciones?: number;\n\n  async ngOnInit() {\n    this.getClassColor(this.color!);\n    this.setSorteoDefault(); /* \n    this.sorteo = await this.ventas.obtenerSorteo(this.loteria);*/\n  }\n  sorteoDefault?: sorteo;\n\n  setSorteoDefault() {\n    this.changeDetectorRef.detectChanges();\n    this.seleccionado = this.sorteos![0];\n    this.changeDetectorRef.markForCheck();\n    this.onEmitir();\n  }\n}\n","<div class=\"menuBox\">\n  <div class=\"menuInfo\">\n    <div class=\"menuSorteo\">\n      <h1>SORTEO</h1>\n      <div class=\"menuItem\">\n        Nmero:\n        <select\n          class=\"fechaItem\"\n          [(ngModel)]=\"seleccionado\"\n          (change)=\"onEmitir()\"\n        >\n          <option [ngValue]=\"sorteoDefault\" selected disabled>\n            Seleccione un sorteo\n          </option>\n\n          <ng-container *ngFor=\"let objeto of sorteos\">\n            <option [ngValue]=\"objeto\">\n              <span>{{ objeto.dia }}</span> - {{ objeto.sorteo }} -\n              {{ objeto.fecha.split(\" \")[0] }}\n            </option>\n          </ng-container>\n        </select>\n      </div>\n      <div class=\"menuItem\">\n        Fecha:\n        <p>{{ fecha }}</p>\n      </div>\n      <div class=\"menuItem\">\n        Hora:\n        <p>{{ hora }}</p>\n      </div>\n\n      <div class=\"menuItem\" *ngIf=\"!isLoteria\">\n        Precio:\n        <p>{{ precio }}</p>\n      </div>\n\n      <div class=\"menuItem\" *ngIf=\"isLoteria\">\n        Precio de fraccin:\n        <p>{{ precio }}</p>\n      </div>\n    </div>\n    <div class=\"menuPremio\">\n      <h1>PREMIOS</h1>\n\n      <div class=\"menuItem\" *ngIf=\"!isLoteria\">\n        Premio:\n        <p>{{ premio }}</p>\n      </div>\n      <div class=\"menuItem\" *ngIf=\"isLoteria\">\n        Premio al entero:\n        <p>{{ premioLoteria }}</p>\n      </div>\n      <div class=\"menuItem\" *ngIf=\"isLoteria\">\n        Premio a la fraccin:\n        <p>{{ premio }}</p>\n      </div>\n      <div class=\"menuItem\" *ngIf=\"isLoteria\">\n        Total de fracciones:\n        <p>{{ cantidadDeFracciones }}</p>\n      </div>\n    </div>\n  </div>\n  <div class=\"menuImage\" *ngIf=\"!imgNotFound\">\n    <img [src]=\"boleto\" alt=\"\" (error)=\"handleImgError()\" />\n  </div>\n</div>\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  EventEmitter,\n  Output,\n} from '@angular/core';\nimport { CarritoService } from '../../services/carrito.service';\n@Component({\n  selector: 'app-floating-menu',\n  templateUrl: './floating-menu.component.html',\n  styleUrls: ['./floating-menu.component.scss'],\n})\nexport class FloatingMenuComponent implements OnInit {\n  isToggled: boolean = false;\n  @Input() ticketsLoteria: any;\n  @Input() ticketsMillonaria: any;\n  @Input() ticketsLotto: any;\n  @Input() ticketsPozo: any;\n  @Input() tickets: any;\n  @Input() tipoLoteria?: string;\n  @Output() emitirCompra = new EventEmitter();\n  @Output() eliminarTodo = new EventEmitter();\n  @Output() deleteLoteriaTicket = new EventEmitter();\n  @Output() deleteLoteriaFraccion = new EventEmitter();\n  @Output() deleteLottoTicket = new EventEmitter();\n  @Output() deletePozoTicket = new EventEmitter();\n  @Output() deleteMillonariaTicket = new EventEmitter();\n  constructor(private cart: CarritoService) {}\n  carrito: any = {};\n  cerrar: any = {};\n  ngOnInit() {\n    this.carrito = {\n      carritoDisplay: false,\n    };\n    this.cerrar = {\n      cerrarDisplay: false,\n    };\n  }\n  toggleBox() {\n    this.isToggled = !this.isToggled;\n    this.carrito = {\n      carritoDisplay: this.isToggled,\n    };\n    this.cerrar = {\n      cerrarDisplay: this.isToggled,\n    };\n    this.isCart = false;\n  }\n  isCart: boolean = false;\n  toggleCart() {\n    this.isCart = true;\n  }\n\n  comprar() {\n    this.toggleBox();\n    this.emitirCompra.emit();\n  }\n  deleteAllTickets() {\n    this.eliminarTodo.emit();\n  }\n  deleteLoteria(e: any) {\n    this.deleteLoteriaTicket.emit(e);\n  }\n  deleteLotto(e: any) {\n    this.deleteLottoTicket.emit(e);\n  }\n  deletePozo(e: any) {\n    this.deletePozoTicket.emit(e);\n  }\n  deleteMillonaria(e: any) {\n    this.deleteMillonariaTicket.emit(e);\n  }\n  deleteFraccion(e: any) {\n    this.deleteLoteriaFraccion.emit(e);\n  }\n\n  total?: any;\n\n  ngDoCheck() {\n    this.total = this.cart.getTotal();\n    this.total = this.formatNumber(this.total);\n  }\n\n  formatNumber(number: number) {\n    // Create our number formatter.\n    var formatter = new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    });\n\n    return formatter.format(number);\n  }\n}\n","<div class=\"floatingBox\" (click)=\"toggleBox()\">\n  <img\n    [ngClass]=\"carrito\"\n    class=\"carrito\"\n    src=\"assets/carrito-blanco.svg\"\n    alt=\"\"\n  />\n  <img [ngClass]=\"cerrar\" class=\"cerrar\" src=\"assets/cerrar.svg\" alt=\"\" />\n</div>\n<div class=\"totalBox\" [ngClass]=\"carrito\">\n  {{ total }}\n</div>\n<div class=\"toggleBox\" *ngIf=\"isToggled && !isCart\">\n  <div class=\"itemBox\" (click)=\"toggleCart()\">\n    <img src=\"assets/carrito-negro.svg\" alt=\"\" />\n    <p>CARRITO DE COMPRA</p>\n    <div class=\"totalCartBox\">\n      {{ total }}\n    </div>\n  </div>\n  <a class=\"itemBox\" href=\"https://www.loteria.com.ec/casino\" target=\"_parent\">\n    <img src=\"assets/casino.svg\" alt=\"\" />\n    <p>JUEGOS</p>\n  </a>\n  <a class=\"itemBox\" href=\"https://www.loteria.com.ec/sport\" target=\"_parent\">\n    <img src=\"assets/sport.svg\" alt=\"\" />\n    <p>DEPORTES</p>\n  </a>\n</div>\n\n<app-carrito\n  *ngIf=\"isCart\"\n  class=\"ticketScroller\"\n  (emitirCompra)=\"comprar()\"\n  (eliminarTodo)=\"deleteAllTickets()\"\n  (deleteLoteriaTicket)=\"deleteLoteria($event)\"\n  (deleteLottoTicket)=\"deleteLotto($event)\"\n  (deletePozoTicket)=\"deletePozo($event)\"\n  (deleteMillonariaTicket)=\"deleteMillonaria($event)\"\n  (deleteLoteriaFraccion)=\"deleteFraccion($event)\"\n  [ticketsLoteria]=\"ticketsLoteria\"\n  [ticketsLotto]=\"ticketsLotto\"\n  [ticketsPozo]=\"ticketsPozo\"\n  [ticketsMillonaria]=\"ticketsMillonaria\"\n  [tipoLoteria]=\"tipoLoteria\"\n>\n</app-carrito>\n","import { Component, OnInit, Input } from \"@angular/core\";\n\n\n@Component({\n  selector: 'app-instantanea',\n  templateUrl: './instantanea.component.html',\n  styleUrls: ['./instantanea.component.scss']\n})\nexport class InstantaneaComponent implements OnInit {\n  @Input() premio: any;\n  @Input() tipoLoteria?: number;\n\n  description?: String;\n  nombrePremio?: String;\n  descripcionDescuento?: String;\n  sorteo?: Number;\n  valorPremio?: string;\n  constructor() {}\n\n  ngOnInit() {\n    this.sorteo = this.premio.sorteo;\n      this.valorPremio = this.formatNumber(parseFloat(this.premio.prizeWithDiscount));\n      this.nombrePremio = this.premio.prizeDescription;\n  }\n\n  formatNumber(number: number){// Create our number formatter.\n    var formatter = new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    \n      // These options are needed to round to whole numbers if that's what you want.\n      //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n      //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n    });\n    \n    return formatter.format(number);\n  }\n}","<div class=\"resultadoBox\">\n    <div class=\"resultadoDetalles\">\n      <p>\n        Bienvenido al\n        <span\n          >Pas de los Ganadores <img src=\"assets/ganadorbrillante.png\" alt=\"\"\n        /></span>\n      </p>\n      <p>Eres una persona afortunada, acabas de ganar un premio!</p>\n  \n      <div class=\"detailBox\">\n        <img src=\"assets/ganadorpremio.png\" alt=\"\" />\n        <div class=\"detailText\">\n          <p><span>SORTEO: </span>{{ premio.sorteo }}</p>\n          <p><span>COMBINACIN: </span>{{ premio.combinacion }}</p>\n          <p *ngIf=\"tipoLoteria == 14\"><span>SERIE: </span>{{ premio.combinacion2 }}</p>\n          <p><span>PREMIO: </span>{{ premio.prizeDescription }}</p>\n          <p><span>VALOR: </span>{{ formatNumber(premio.prizeWithDiscount) }}</p>\n          <p *ngIf=\"premio.fracciones && premio.fracciones.length != 0\">\n            <span>FRACCIN: </span>{{ premio.fracciones }}\n          </p>\n        </div>\n      </div>\n      <p>El valor del premio se acreditar automticamente en tu cuenta.</p>\n    </div>\n  </div>\n  ","import { Component, OnInit, Input, Output, EventEmitter } from \"@angular/core\";\n\n@Component({\n  selector: \"app-instantaneas\",\n  templateUrl: \"./instantaneas.component.html\",\n  styleUrls: [\"./instantaneas.component.scss\"],\n})\nexport class InstantaneasComponent implements OnInit {\n  @Input() resultados: any;\n  premios: any[] = [];\n  @Input() tipoLoteria?: string;\n  @Input() isLoteriaNacional: boolean = false;\n  @Input() isLotto: boolean = false;\n  @Input() isPozoMillonario: boolean = false;\n  @Input() isLaMillonaria: boolean = false;\n  @Output() close = new EventEmitter();\n  loteriaBackground: any;\n  loteriaBackgroundButton: any;\n  constructor() {}\n\n  ngOnInit() {\n    switch (parseInt(this.tipoLoteria!)) {\n      case 1:\n        this.loteriaBackground = {\n          backgroundLoteriaNacional: true,\n        };\n        this.loteriaBackgroundButton = {\n          backgroundLoteriaNacionalButton: true,\n        };\n        break;\n      case 2:\n        this.loteriaBackground = {\n          backgroundLotto: true,\n        };\n        this.loteriaBackgroundButton = {\n          backgroundLottoButton: true,\n        };\n\n        break;\n      case 14:\n        this.loteriaBackground = {\n          backgroundMillonaria: true,\n        };\n        this.loteriaBackgroundButton = {\n          backgroundMillonariaButton: true,\n        };\n\n        break;\n\n      default:\n        this.loteriaBackground = {\n          backgroundPozoMillonario: true,\n        };\n        this.loteriaBackgroundButton = {\n          backgroundPozoMillonarioButton: true,\n        };\n\n        break;\n    }\n    this.resultados.forEach((resultado: any) => {\n      let ticket = {\n        tipoLoteria: parseInt(resultado.tipoLoteria),\n        sorteo: resultado.numeroSorteo,\n        drawDate: resultado.fechaCaducidad,\n        combinacion: resultado.combinacion1,\n        combinacion2: resultado.combinacion2,\n        fracciones: resultado.fraccion,\n        prize: resultado.valorPremio,\n        prizeWithDiscount: resultado.valorPremioDescuento,\n        prizeDescription: resultado.descripcionPremio,\n      };\n      this.premios.push(ticket);\n    });\n  }\n  closeBox() {\n    this.close.emit(\"\");\n  }\n}\n","<div class=\"blackBox\" (click)=\"closeBox()\">\n</div>\n\n<div class=\"resultsBox\">\n\n    <div class=\"resultBox\" *ngFor=\"let premio of premios\">\n\n        <div class=\"messageBox\" [ngClass]=\"loteriaBackground\">\n            <app-instantanea [premio]=\"premio\" [tipoLoteria]=\"premio!.tipoLoteria\">\n            </app-instantanea>\n        </div>\n\n    </div>\n    <div class=\"buttonsBox\">\n        <button  [ngClass]=\"loteriaBackgroundButton\" (click)=\"closeBox()\">Ir a resumen de compra</button>\n    </div>\n</div>","<div class=\"selectionBox\">\n    <app-boton-de-juego\n      image=\"assets/img/loteria-sombra-2.png\"\n      [link]=\"linkLoteriaNacional\"\n      [token]=\"lotteryToken\"\n      name=\"loteria\"\n      (authError)=\"authError()\"\n    >\n    </app-boton-de-juego>\n  \n    <app-boton-de-juego\n      image=\"assets/img/lotto-sombra.png\"\n      [link]=\"linkLotto\"\n      [token]=\"lotteryToken\"\n      name=\"lotto\"\n      (authError)=\"authError()\"\n    >\n    </app-boton-de-juego>\n  \n    <app-boton-de-juego\n      image=\"assets/img/pozo-sombra.png\"\n      [link]=\"linkPozoMillonario\"\n      [token]=\"lotteryToken\"\n      name=\"pozo\"\n      (authError)=\"authError()\"\n    >\n    </app-boton-de-juego>\n    <app-boton-de-juego\n      image=\"assets/img/millonaria-sombra.png\"\n      [link]=\"linkMillonaria\"\n      [token]=\"lotteryToken\"\n      name=\"millonaria\"\n      (authError)=\"authError()\"\n    >\n    </app-boton-de-juego>\n  </div>\n  \n  <app-floating-menu\n    (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n    (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n    (deletePozoTicket)=\"deletePozoTicket($event)\"\n    (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\n    (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n    (emitirCompra)=\"comprar()\"\n    (eliminarTodo)=\"deleteAllTickets()\"\n    [ticketsLoteria]=\"ticketsLoteria\"\n    [ticketsLotto]=\"ticketsLotto\"\n    [ticketsPozo]=\"ticketsPozo\"\n    [ticketsMillonaria]=\"ticketsMillonaria\"\n    tipoLoteria=\"loteria\"\n  ></app-floating-menu>\n  <app-loader\n    loader=\"loteria\"\n    [message]=\"loadingMessage!\"\n    *ngIf=\"isLoading\"\n  ></app-loader>\n  <app-error\n    [msg]=\"errorMessage!\"\n    (closeError)=\"closeError()\"\n    [title]=\"errorTitle!\"\n    *ngIf=\"isError\"\n  ></app-error>\n  <app-confirmacion-de-venta\n    (compraConfirmada)=\"confirmarCompra()\"\n    (compraCancelada)=\"cancelarCompra($event)\"\n    (comprarDespues)=\"dismissCompras()\"\n    [compra]=\"detalleCompra\"\n    class=\"paymentItem\"\n    *ngIf=\"confirmacionDeCompra\"\n  ></app-confirmacion-de-venta>\n  <app-instantaneas\n    (close)=\"abrirFinalizar()\"\n    [resultados]=\"instantaneas\"\n    tipoloteria=\"14\"\n    [isLoteriaNacional]=\"true\"\n    class=\"paymentItem\"\n    *ngIf=\"isInstantaneas\"\n  ></app-instantaneas>\n  <app-venta-finalizada\n    (volver)=\"finalizarCompra()\"\n    [compra]=\"detalleCompra\"\n    class=\"paymentItem\"\n    *ngIf=\"compraFinalizada\"\n  ></app-venta-finalizada>\n  <app-saldo-insuficiente\n    [message]=\"recargaDeSaldoMessage\"\n    (volver)=\"dismissCompras()\"\n    (recarga)=\"irARecarga()\"\n    class=\"paymentItem\"\n    *ngIf=\"saldoInsuficiente\"\n  ></app-saldo-insuficiente>\n  <app-venta-cancelada\n    class=\"paymentItem\"\n    [message]=\"cancelMessage!\"\n    *ngIf=\"compraCancelada\"\n  ></app-venta-cancelada>\n  ","import { Component, OnInit } from \"@angular/core\";\nimport { Router, ActivatedRoute, NavigationEnd } from \"@angular/router\";\nimport { VentasService } from \"../../services/ventas.service\";\nimport { PagosService } from \"../../services/pagos.service\";\nimport { CarritoService } from \"../../services/carrito.service\";\n\n@Component({\n  selector: 'app-menu-box',\n  templateUrl: './menu-box.component.html',\n  styleUrls: ['./menu-box.component.scss']\n})\nexport class MenuBoxComponent implements OnInit {\n  linkLotto: string = \"\";\n  linkLoteriaNacional: string = \"\";\n  linkPozoMillonario: string = \"\";\n  linkMillonaria: string = \"\";\n  token?: string;\n  lotteryToken?: string;\n  usuario?: string;\n  errorTitle?: string;\n  isLoading?: boolean;\n  loadingMessage?: string;\n  ticketsPozo: any;\n  ticketsLotto: any;\n  ticketsLoteria: any;\n  ticketsCarrito: any;\n  ticketsMillonaria: any;\n  constructor(\n    private actRoute: ActivatedRoute,\n    public lottery: VentasService,\n    private paymentService: PagosService,\n    private cart: CarritoService,\n\n    private router: Router\n  ) {\n    this.actRoute.params.subscribe((params) => {\n      this.token = params[\"token\"];\n    });\n  }\n\n  async ngOnInit() {\n    try {\n      this.loadingMessage = \"Espera mientras procesamos tu informacin\";\n      this.isLoading = true;\n      if (this.token) {\n        let data = await this.lottery.authUser(this.token);\n        this.lotteryToken = data.lotteryToken;\n        if (this.lotteryToken) {\n          this.linkLoteriaNacional = `/compra_tus_juegos/loteria/${this.token}`;\n          this.linkLotto = `/compra_tus_juegos/lotto/${this.token}`;\n          this.linkPozoMillonario = `/compra_tus_juegos/pozo/${this.token}`;\n          this.linkMillonaria = `/compra_tus_juegos/millonaria/${this.token}`;\n        }\n\n        await this.getCarritoTickets();\n        //this.getTotal();\n      }\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      let errorTitle = \"Error\";\n      this.openError(errorMessage, errorTitle);\n    }\n  }\n\n  confirmacionDeCompra: boolean = false;\n  compraFinalizada: boolean = false;\n  saldoInsuficiente: boolean = false;\n  compraCancelada: boolean = false;\n  instantaneas: any;\n  isInstantaneas: boolean = false;\n  cancelMessage: string = \"\";\n  detalleCompra: any;\n  recargaDeSaldoMessage?: string;\n\n  dismissCompras() {\n    this.confirmacionDeCompra = false;\n    this.isInstantaneas = false;\n\n    this.compraFinalizada = false;\n    this.saldoInsuficiente = false;\n    this.compraCancelada = false;\n  }\n\n  volver() {\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n  }\n\n  total?: string;\n  getTotal() {\n    this.total = this.cart.getTotal();\n  }\n  comprar() {\n    this.dismissCompras();\n\n    let loteriaAux = this.ticketsLoteria;\n    let loteria = [];\n    for (let id in loteriaAux) {\n      let aux: any = {};\n      aux[\"combinacion1\"] = loteriaAux[id].ticket.combinacion;\n      aux[\"fracciones\"] = loteriaAux[id].ticket.seleccionados;\n      aux[\"subtotal\"] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\n      aux[\"fecha\"] = loteriaAux[id].sorteo.fecha;\n      aux[\"sorteo\"] = loteriaAux[id].sorteo.sorteo;\n      loteria.push(aux);\n    }\n    let lottoAux = this.ticketsLotto;\n    let lotto = [];\n    for (let id in lottoAux) {\n      let aux: any = {};\n      aux[\"combinacion1\"] = lottoAux[id].ticket.combinacion1;\n      aux[\"combinacion2\"] = lottoAux[id].ticket.combinacion2;\n      aux[\"combinacion3\"] = lottoAux[id].ticket.combinacion3;\n      aux[\"combinacion4\"] = lottoAux[id].ticket.combinacion4;\n      aux[\"sorteo\"] = lottoAux[id].sorteo.sorteo;\n      aux[\"subtotal\"] = parseFloat(lottoAux[id].subtotal).toFixed(2);\n      aux[\"fecha\"] = lottoAux[id].sorteo.fecha;\n      lotto.push(aux);\n    }\n    let pozoAux = this.ticketsPozo;\n    let pozo = [];\n    for (let id in pozoAux) {\n      let aux: any = {};\n      aux[\"combinacion1\"] = pozoAux[id].ticket.combinacion1;\n      aux[\"combinacion2\"] = pozoAux[id].ticket.combinacion2;\n      aux[\"mascota\"] = pozoAux[id].ticket.mascota;\n      aux[\"sorteo\"] = pozoAux[id].sorteo.sorteo;\n      aux[\"subtotal\"] = parseFloat(pozoAux[id].subtotal).toFixed(2);\n      aux[\"fecha\"] = pozoAux[id].sorteo.fecha;\n      pozo.push(aux);\n    }\n    let millonariaAux = this.ticketsMillonaria;\n    let millonaria = [];\n    for (let id in millonariaAux) {\n      let aux: any = {};\n      aux[\"combinacion1\"] = millonariaAux[id].ticket.combinacion1;\n      aux[\"combinacion2\"] = millonariaAux[id].ticket.combinacion2;\n      aux[\"fracciones\"] = millonariaAux[id].ticket.seleccionados;\n      aux[\"subtotal\"] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\n      aux[\"subtotalConDesc\"] = parseFloat(\n        millonariaAux[id].subtotalConDesc\n      ).toFixed(2);\n      aux[\"tieneDescuento\"] = millonariaAux[id].tieneDescuento;\n      aux[\"fecha\"] = millonariaAux[id].sorteo.fecha;\n      aux[\"sorteo\"] = millonariaAux[id].sorteo.sorteo;\n      millonaria.push(aux);\n    }\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\n\n    this.detalleCompra = {\n      loteria,\n      millonaria,\n      lotto,\n      pozo,\n      amount,\n      amountConDesc,\n    };\n\n    this.confirmacionDeCompra = true;\n  }\n\n  finalizarCompra() {\n    this.paymentService.finalizarCompra();\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n  }\n\n  irARecarga() {}\n\n  async confirmarCompra() {\n    try {\n      this.isLoading = true;\n      this.loadingMessage = \"Espera mientras procesamos tu compra\";\n      let hasBalance = await this.paymentService.hasBalance(0, this.token);\n\n      if (hasBalance) {\n        let reservaId = this.cart.getReservaId();\n        let cartValidation = await this.cart.validarCarrito(reservaId);\n        if (cartValidation) {\n          let response = await this.paymentService.confirmarCompra(\n            this.token,\n            reservaId\n          );\n          if (response.status) {\n            if (response.instantanea.status) {\n              this.dismissCompras();\n              this.instantaneas = response.instantanea.data;\n              this.isInstantaneas = true;\n            } else {\n              this.instantaneas = \"\";\n              this.abrirFinalizar();\n            }\n          } else {\n            this.cancelarCompra(\"\");\n          }\n        }\n        this.isLoading = false;\n      } else {\n        this.isLoading = false;\n        let message = \"Tu saldo es insuficiente para realizar la compra\";\n        this.recargarSaldo(message);\n      }\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      let errorTitle = \"Error\";\n      this.openError(errorMessage, errorTitle);\n    }\n  }\n\n  cancelarCompra(e: any) {\n    this.dismissCompras();\n    this.compraCancelada = true;\n  }\n\n  async abrirFinalizar() {\n    this.dismissCompras();\n    await this.cart.borrarCarrito();\n    this.compraFinalizada = true;\n  }\n\n  recargarSaldo(message: any) {\n    this.recargaDeSaldoMessage = message;\n    this.dismissCompras();\n    this.saldoInsuficiente = true;\n  }\n\n  async deleteMillonariaTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fracciones = data.ticket.seleccionados;\n      this.loadingMessage = \"Removiendo boleto del carrito\";\n      this.isLoading = true;\n      let ticket = this.ticketsMillonaria[identificador].ticket;\n      let sorteo = data.sorteo;\n      let reservaId = this.lottery.getReservaId();\n      if (fracciones.length != 0) {\n        let response = await this.lottery.eliminarBoletosDeReserva(\n          this.token,\n          ticket,\n          sorteo,\n          fracciones,\n          14,\n          reservaId\n        );\n      }\n      delete this.ticketsMillonaria[identificador];\n\n      await this.cart.removeFromCart(ticket, 1);\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\n\n      await this.getCarritoTickets();\n      //this.getTotal();\n      //await this.setDescuento(14);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      let errorTitle = \"Error\";\n      this.openError(errorMessage, errorTitle);\n    }\n  }\n  async deleteLoteriaTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fracciones = data.ticket.seleccionados;\n      this.loadingMessage = \"Removiendo boleto del carrito\";\n      this.isLoading = true;\n      let ticket = this.ticketsLoteria[identificador].ticket;\n      let sorteo = data.sorteo;\n\n      let reservaId = this.lottery.getReservaId();\n      if (fracciones.length != 0) {\n        let response = await this.lottery.eliminarBoletosDeReserva(\n          this.token,\n          ticket,\n          sorteo,\n          fracciones,\n          1,\n          reservaId\n        );\n      }\n      delete this.ticketsLoteria[identificador];\n\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\n\n      await this.getCarritoTickets();\n      this.getTotal();\n\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      let errorTitle = \"Error\";\n      this.openError(errorMessage, errorTitle);\n    }\n  }\n  async deleteLottoTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fraccion = \"\";\n      this.loadingMessage = \"Removiendo boleto del carrito\";\n      this.isLoading = true;\n      let ticket = this.ticketsLotto[identificador].ticket;\n      let sorteo = data.sorteo;\n\n      let reservaId = this.lottery.getReservaId();\n      let response = await this.lottery.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        fraccion,\n        2,\n        reservaId\n      );\n\n      delete this.ticketsLotto[identificador];\n\n      await this.cart.setCarritoLotto(this.ticketsLotto);\n\n      await this.getCarritoTickets();\n      this.getTotal();\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      let errorTitle = \"Error\";\n      this.openError(errorMessage, errorTitle);\n    }\n  }\n\n  async deleteLoteriaFraccion(data: any) {\n    try {\n      this.loadingMessage = \"Removiendo boleto del carrito\";\n      this.isLoading = true;\n      let identificador = data.ticket.ticket.identificador;\n      let ticket = data.ticket.ticket;\n      let sorteo = data.ticket.sorteo;\n      let fraccion = data.fraccion;\n\n      let reservaId = this.cart.getReservaId();\n      let response = await this.lottery.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        [fraccion],\n        1,\n        reservaId\n      );\n      let index = this.ticketsLoteria[\n        identificador\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\n      this.ticketsLoteria[identificador].ticket.seleccionados.splice(index, 1);\n      if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\n        delete this.ticketsLoteria[identificador];\n      }\n\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\n      await this.getCarritoTickets();\n      this.getTotal();\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      let errorTitle = \"Error\";\n      this.openError(errorMessage, errorTitle);\n    }\n  }\n  async deletePozoTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fraccion = \"\";\n      this.loadingMessage = \"Removiendo boleto del carrito\";\n      this.isLoading = true;\n      let ticket = this.ticketsPozo[identificador].ticket;\n      let sorteo = data.sorteo;\n\n      let reservaId = this.lottery.getReservaId();\n      let response = await this.lottery.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        fraccion,\n        5,\n        reservaId\n      );\n\n      delete this.ticketsPozo[identificador];\n\n      await this.cart.setCarritoPozo(this.ticketsPozo);\n\n      await this.getCarritoTickets();\n      this.getTotal();\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      let errorTitle = \"Error\";\n      this.openError(errorMessage, errorTitle);\n    }\n  }\n  async deleteAllTickets() {\n    try {\n      this.loadingMessage = \"Removiendo boletos del carrito\";\n      this.isLoading = true;\n      let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\n        return {\n          ticket: this.ticketsLoteria[key].ticket,\n          sorteo: this.ticketsLoteria[key].sorteo,\n        };\n      });\n      let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\n        return {\n          ticket: this.ticketsLotto[key].ticket,\n          sorteo: this.ticketsLotto[key].sorteo,\n        };\n      });\n      let boletosPozo = Object.keys(this.ticketsPozo).map((key) => {\n        return {\n          ticket: this.ticketsPozo[key].ticket,\n          sorteo: this.ticketsPozo[key].sorteo,\n        };\n      });\n      let reservaId = this.lottery.getReservaId();\n/*       await this.lottery.eliminarTodosLosBoletosDeReserva(\n        this.token,\n        boletosLoteria,\n        boletosLotto,\n        boletosPozo,\n        reservaId\n      ); */\n      await this.cart.borrarCarrito();\n      await this.getCarritoTickets();\n      this.getTotal();\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      let errorTitle = \"Error\";\n      this.openError(errorMessage, errorTitle);\n    }\n  }\n\n  async getCarritoTickets() {\n    let carrito = await this.cart.buscarCarrito();\n    this.ticketsLoteria = carrito.loteria;\n    this.ticketsLotto = carrito.lotto;\n    this.ticketsPozo = carrito.pozo;\n  }\n\n  authError() {\n    this.openError(\n      \"Por favor, para poder comprar tu boleto preferido, debers iniciar sesin en tu cuenta\",\n      \"Aviso\"\n    );\n  }\n\n  isError: boolean = false;\n  errorMessage?: string;\n  openError(msg: string, title: string) {\n    this.errorTitle = title.toUpperCase();\n    this.errorMessage = msg;\n    this.isError = true;\n  }\n\n  closeError() {\n    this.isError = false;\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\n\n@Component({\n  selector: 'ventas-menu-header',\n  templateUrl: './menu-header.component.html',\n  styleUrls: ['./menu-header.component.scss'],\n})\nexport class MenuHeaderComponent implements OnInit {\n  @Input() home: boolean = false;\n  linkLotto: string = \"\";\n  linkLoteriaNacional: string = \"\";\n  linkPozoMillonario: string = \"\";\n  linkLaMillonaria: string = \"\";\n  token?: string;\n  usuario?: string;\n  linkJuegosOnline?: string;\n  homeClass = {\n    home: this.home,\n  };\n  constructor(private actRoute: ActivatedRoute) {\n    this.actRoute.params.subscribe((params) => {\n      this.token = params['token'];\n    });\n  }\n\n  ngOnInit() {\n    this.homeClass = {\n      home: this.home,\n    };\n    this.linkLoteriaNacional = `/compra_tus_juegos/loteria/${this.token}`;\n    this.linkLotto = `/compra_tus_juegos/lotto/${this.token}`;\n    this.linkPozoMillonario = `/compra_tus_juegos/pozo/${this.token}`;\n    this.linkLaMillonaria = `/compra_tus_juegos/millonaria/${this.token}`;\n    this.linkJuegosOnline = `/inicio`;\n  }\n  checkToken(link: string) {\n    if (!this.token) {\n      this.authError();\n      return;\n    }\n    return link;\n  }\n  authError() {\n    this.openError(\n      'Por favor, para poder comprar tu boleto preferido, debers iniciar sesin en tu cuenta',\n      'Aviso'\n    );\n  }\n\n  isError: boolean = false;\n  errorMessage?: string;\n  errorTitle?: string;\n  openError(msg: string, title: string) {\n    this.errorTitle = title.toUpperCase();\n    this.errorMessage = msg;\n    this.isError = true;\n  }\n\n  closeError() {\n    this.isError = false;\n  }\n}\n","<div class=\"container\" [ngClass]=\"homeClass\">\n  <a\n    style=\"display: none\"\n    [routerLink]=\"linkLoteriaNacional\"\n    routerLinkActive=\"title loteria\"\n  >\n    LOTERIA NACIONAL\n  </a>\n\n  <a\n    style=\"display: none\"\n    [routerLink]=\"linkLotto\"\n    routerLinkActive=\"title lotto\"\n  >\n    LOTTO\n  </a>\n\n  <a\n    style=\"display: none\"\n    [routerLink]=\"linkPozoMillonario\"\n    routerLinkActive=\"title pozo\"\n  >\n    POZO MILLONARIO\n  </a>\n\n  <a\n    style=\"display: none\"\n    [routerLink]=\"linkLaMillonaria\"\n    routerLinkActive=\"title millonaria\"\n  >\n    LA MILLONARIA\n  </a>\n\n  <a\n    class=\"contenedor_loteria loteria\"\n    [routerLink]=\"checkToken(linkLoteriaNacional)\"\n    routerLinkActive=\"active\"\n  >\n    <img src=\"assets/img/loteria-sombra-2.png\" />\n    Jugar\n  </a>\n\n  <a\n    class=\"contenedor_loteria lotto\"\n    routerLinkActive=\"active\"\n    [routerLink]=\"checkToken(linkLotto)\"\n  >\n    <img src=\"assets/img/lotto-sombra.png\" alt=\"\" />\n    Jugar\n  </a>\n\n  <a\n    class=\"contenedor_loteria pozo\"\n    [routerLink]=\"checkToken(linkPozoMillonario)\"\n    routerLinkActive=\"active\"\n  >\n    <img src=\"assets/img/pozo-sombra.png\" alt=\"\" />\n    Jugar\n  </a>\n\n  <a\n    class=\"contenedor_loteria millonaria\"\n    [routerLink]=\"checkToken(linkLaMillonaria)\"\n    routerLinkActive=\"active\"\n  >\n    <img src=\"assets/img/millonaria-sombra.png\" alt=\"\" />\n    Jugar\n  </a>\n\n  <a\n    class=\"contenedor_loteria juegosOnline\"\n    [routerLink]=\"linkJuegosOnline\"\n    routerLinkActive=\"active\"\n  >\n    <img src=\"assets/img/juegos-online.png\" alt=\"\" />\n    Jugar\n  </a>\n</div>\n\n<app-error\n  [msg]=\"errorMessage!\"\n  (closeError)=\"closeError()\"\n  [title]=\"errorTitle!\"\n  *ngIf=\"isError\"\n></app-error>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-saldo-insuficiente',\n  templateUrl: './saldo-insuficiente.component.html',\n  styleUrls: ['./saldo-insuficiente.component.scss'],\n})\nexport class SaldoInsuficienteComponent implements OnInit {\n  @Input() message?: string;\n  @Output() volver = new EventEmitter();\n  @Output() recarga = new EventEmitter();\n  constructor() {}\n\n  ngOnInit() {}\n\n  cerrar() {\n    this.volver.emit();\n  }\n\n  recargar() {\n    this.recarga.emit();\n  }\n}\n","<div class=\"blackBox\" (click)=\"cerrar()\"></div>\n\n<div class=\"logBox\">\n  <div class=\"closeButton\">\n    <button class=\"closeB\" (click)=\"cerrar()\">X</button>\n  </div>\n  <p class=\"errorHeader\">AVISO</p>\n  <p class=\"errorContent\">{{ message }}</p>\n  <button type=\"button\" class=\"formButton\" (click)=\"cerrar()\">\n    <p>VOLVER</p>\n  </button>\n</div>\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-venta-cancelada',\n  templateUrl: './venta-cancelada.component.html',\n  styleUrls: ['./venta-cancelada.component.scss'],\n})\nexport class VentaCanceladaComponent implements OnInit {\n  @Input() message?: string;\n  constructor() {}\n\n  ngOnInit() {}\n\n  @Output() closeBox = new EventEmitter<string>();\n  close() {\n    this.closeBox.emit('Cerrando error');\n  }\n}\n","<div class=\"blackBox\" (click)=\"close()\"></div>\n<div class=\"paymentBox\">\n  <h1>{{ message }}</h1>\n  <button (click)=\"close()\">Volver a la lotera</button>\n</div>\n","import { Component, OnInit, Output, EventEmitter, Input } from \"@angular/core\";\nimport { VentasService } from \"../../services/ventas.service\";\n\n@Component({\n  selector: 'app-venta-finalizada',\n  templateUrl: './venta-finalizada.component.html',\n  styleUrls: ['./venta-finalizada.component.scss']\n})\nexport class VentaFinalizadaComponent implements OnInit {\n  @Output() volver = new EventEmitter();\n  @Input() compra: any;\n  user: any;\n  constructor(\n    private ventas: VentasService,\n  ) {}\n\n  ngOnInit() {\n    this.user = this.ventas.getAuthData().user\n  }\n\n  seguirJugando() {\n    this.volver.emit();\n  }\n}\n","<div class=\"blackBox\" (click)=\"seguirJugando()\"></div>\n<div class=\"paymentBox\">\n\n  <div class=\"closeButton\">\n    <button class=\"closeB\" (click)=\"seguirJugando()\">X</button>\n  </div>\n  <div class=\"mensajeBox\">\n    <h1>FELICIDADES!</h1>\n    <h3>Tu compra se realizo con exito. Te deseamos mucha suerte.</h3>\n  </div>\n  <app-descripcion-de-venta [compra]=\"compra\" [user]=\"user\"></app-descripcion-de-venta>\n\n\n  <button (click)=\"seguirJugando()\" class=\"mensajeButtonBox\">\n  SIGUE JUGANDO!\n  </button>\n</div>\n","<ng-container *ngIf=\"compraReady\">\n  <app-descripcion-de-venta\n    [compra]=\"compra\"\n    [user]=\"user\"\n    [ticketId]=\"ticketId\"\n  ></app-descripcion-de-venta>\n</ng-container>\n\n<app-loader\n  loader=\"loteria\"\n  [message]=\"loadingMessage!\"\n  *ngIf=\"isLoading\"\n></app-loader>\n<app-error\n  [msg]=\"errorMessage!\"\n  (closeError)=\"closeError()\"\n  *ngIf=\"isError\"\n></app-error>\n","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\nimport { PagosService } from '../../services/pagos.service';\nimport { VentasService } from '../../services/ventas.service';\n\n@Component({\n  selector: 'app-detalle-de-venta',\n  templateUrl: './detalle-de-venta.component.html',\n  styleUrls: ['./detalle-de-venta.component.scss'],\n})\nexport class DetalleDeVentaComponent implements OnInit {\n  compra: any;\n  ganador: any;\n  compraReady: boolean = false;\n\n  ticketId?: string;\n  accountId?: string;\n  user?: string;\n  isLoading?: boolean;\n  loadingMessage?: string;\n  \n  constructor(\n    private actRoute: ActivatedRoute,\n    private pagos: PagosService,\n    private ventas: VentasService\n  ) {\n    this.actRoute.params.subscribe((params: any) => {\n      let aux = params['id'];\n      this.accountId = aux.split('-')[0];\n      this.ticketId = aux.split('-')[1];\n    });\n  }\n\n  async ngOnInit() {\n    try {\n      this.loadingMessage = 'Consultando el detalle de tu compra';\n      this.isLoading = true;\n      this.compra = await this.pagos.getCompra(this.ticketId, this.accountId);\n      this.user = this.compra.user\n        ? this.compra.user\n        : this.ventas.getAuthData().user;\n      this.ganador = await this.pagos.getGanador(this.ticketId);\n      if (this.ganador.status) {\n        let resultadosGanadores = this.ganador.values;\n        this.compra.loteria.forEach((element: any) => {\n          element['detalleGanador'] = [];\n        });\n        this.compra.lotto.forEach((element: any) => {\n          element['detalleGanador'] = [];\n        });\n        this.compra.pozo.forEach((element: any) => {\n          element['detalleGanador'] = [];\n        });\n        this.compra.millonaria.forEach((element: any) => {\n          element['detalleGanador'] = [];\n        });\n        for (let i = 0; i < resultadosGanadores.length; i++) {\n          const ganador = resultadosGanadores[i];\n          let ganadorIndex;\n          switch (ganador.tipoLoteria) {\n            case 1:\n              ganadorIndex = this.compra.loteria.findIndex(\n                (x: any) =>\n                  x.combinacion1 == ganador.combinacion1 &&\n                  x.sorteo == ganador.numeroSorteo\n              );\n              if (ganadorIndex != -1) {\n                this.compra.loteria[ganadorIndex]['hasGanador'] = true;\n                this.compra.loteria[ganadorIndex]['detalleGanador'].push(\n                  ganador\n                );\n              }\n              break;\n            case 2:\n              ganadorIndex = this.compra.lotto.findIndex(\n                (x: any) =>\n                  x.combinacion1 == ganador.combinacion1 &&\n                  x.sorteo == ganador.numeroSorteo\n              );\n              if (ganadorIndex != -1) {\n                this.compra.lotto[ganadorIndex]['hasGanador'] = true;\n                this.compra.lotto[ganadorIndex]['detalleGanador'].push(ganador);\n              }\n              break;\n\n            case 5:\n              ganadorIndex = this.compra.pozo.findIndex(\n                (x: any) =>\n                  x.combinacion1 == ganador.combinacion1 &&\n                  x.sorteo == ganador.numeroSorteo\n              );\n              if (ganadorIndex != -1) {\n                this.compra.pozo[ganadorIndex]['hasGanador'] = true;\n                this.compra.pozo[ganadorIndex]['detalleGanador'].push(ganador);\n              }\n              break;\n            case 14:\n              ganadorIndex = this.compra.millonaria.findIndex(\n                (x: any) =>\n                  x.combinacion1 == ganador.combinacion1 &&\n                  x.sorteo == ganador.numeroSorteo\n              );\n              if (ganadorIndex != -1) {\n                this.compra.millonaria[ganadorIndex]['hasGanador'] = true;\n                this.compra.millonaria[ganadorIndex]['detalleGanador'].push(\n                  ganador\n                );\n              }\n              break;\n          }\n        }\n      }\n      this.compraReady = true;\n      this.isLoading = false;\n    } catch (e: any) {\n      console.log(e.message);\n      this.isLoading = false;\n      this.openError(e.message);\n    }\n  }\n  isError: boolean = false;\n  errorMessage?: string;\n  openError(msg: string) {\n    this.errorMessage = msg;\n    this.isError = true;\n  }\n\n  closeError() {\n    this.isError = false;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<app-menu-box></app-menu-box>","<ventas-menu-header></ventas-menu-header>\n\n<div class=\"contenedor_loteria\" *ngIf=\"showComponents\">\n  <div class=\"ventasBox\">\n    <app-detalle-sorteo\n      class=\"infoBox\"\n      titulo=\"Loteria Nacional\"\n      [sorteos]=\"sorteo\"\n      color=\"loteria\"\n      [loteria]=\"1\"\n      (emitir)=\"procesaEmitir($event)\"\n    >\n    </app-detalle-sorteo>\n\n    <div class=\"contenedor_seleccion\">\n      <div class=\"selectBox\">\n        <div class=\"contenedor_select\">\n          <h3>Cmo quieres comprar?</h3>\n          <select\n            class=\"select_option\"\n            name=\"\"\n            id=\"\"\n            [(ngModel)]=\"tipoSeleccion\"\n          >\n            <option class=\"option\" value=\"96\">Seleccin individual</option>\n            <option class=\"option\" value=\"5\">5 Boletos al azar</option>\n            <option class=\"option\" value=\"30\">30 Boletos al azar</option>\n            <option class=\"option\" value=\"50\">50 Boletos al azar</option>\n          </select>\n        </div>\n        <div class=\"numeros_suerte\">\n          <h3>Ingresa tu nmero de la suerte</h3>\n          <div class=\"numeros\">\n            <input\n              #input1\n              [appAutoTab]=\"input2\"\n              type=\"text\"\n              maxlength=\"1\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              name=\"combinacionDeLaSuerte0\"\n              [(ngModel)]=\"combinacionDeLaSuerte[0]\"\n            />\n            <input\n              #input2\n              [appAutoTab]=\"input3\"\n              type=\"text\"\n              maxlength=\"1\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              name=\"combinacionDeLaSuerte1\"\n              [(ngModel)]=\"combinacionDeLaSuerte[1]\"\n            />\n            <input\n              #input3\n              [appAutoTab]=\"input4\"\n              type=\"text\"\n              maxlength=\"1\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              name=\"combinacionDeLaSuerte2\"\n              [(ngModel)]=\"combinacionDeLaSuerte[2]\"\n            />\n            <input\n              #input4\n              [appAutoTab]=\"input5\"\n              type=\"text\"\n              maxlength=\"1\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              name=\"combinacionDeLaSuerte3\"\n              [(ngModel)]=\"combinacionDeLaSuerte[3]\"\n            />\n            <input\n              #input5\n              type=\"text\"\n              maxlength=\"1\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              name=\"combinacionDeLaSuerte4\"\n              [(ngModel)]=\"combinacionDeLaSuerte[4]\"\n            />\n          </div>\n        </div>\n        <button class=\"activado\" (click)=\"buscarNumero()\">BUSCAR NUMERO</button>\n      </div>\n      <p class=\"tagItem\">\n        Si quieres cambiar tu nmero, ingrsalo nuevamente y haz click en\n        \"Buscar nmero\"\n      </p>\n      <div *ngIf=\"showNumeros\" class=\"contenedor_numeros_suerte\">\n        <table>\n          <tbody>\n            <tr\n              *ngFor=\"\n                let ticket of ticketsDisponibles\n                  | paginacion: page_size:page_number;\n                let i = index\n              \"\n            >\n              <!--   -->\n              <td>\n                <div class=\"tooltip\">\n                  <div class=\"contenedor_numeros\">\n                    <div class=\"combinationBox\">\n                      <!-- <p *ngFor=\"let numero of ticket.display\">{{ numero }}</p> -->\n                      <p *ngFor=\"let numero of ticket.combinacion.split('')\">\n                        {{ numero }}\n                      </p>\n                    </div>\n                    <hr />\n\n                    <div class=\"seleccionAll\">\n                      <p>Seleccionar todas las fracciones</p>\n                      <input\n                        (click)=\"\n                          seleccionarTodo(page_size * (page_number - 1) + i)\n                        \"\n                        style=\"\n                          position: relative;\n                          width: 20px;\n                          opacity: 1;\n                          margin-left: 5px;\n                        \"\n                        [(ngModel)]=\"\n                          allFractions![page_size! * (page_number! - 1) + i]\n                        \"\n                        type=\"checkbox\"\n                      />\n                    </div>\n                    <hr />\n                    <div class=\"contenedor_fracciones\">\n                      <div\n                        class=\"fracciones\"\n                        *ngFor=\"\n                          let item of ticket.fraccionesDisponibles;\n                          let j = index\n                        \"\n                      >\n                        <input\n                          (click)=\"\n                            fraccionSeleccionada(\n                              page_size * (page_number - 1) + i,\n                              item\n                            )\n                          \"\n                          [checked]=\"\n                            isSelected(page_size * (page_number - 1) + i, item)\n                          \"\n                          class=\"checkbox\"\n                          type=\"checkbox\"\n                          id=\"{{ ticket.identificador }}-{{ item }}\"\n                        />\n                        <label for=\"{{ ticket.identificador }}-{{ item }}\">{{\n                          item\n                        }}</label>\n                      </div>\n                    </div>\n                    <hr />\n                  </div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n          <hr size=\"2px\" color=\"gray\" style=\"width: 100%\" />\n        </table>\n        <div class=\"contenedor_botones\">\n          <mat-paginator\n            style-paginator\n            [length]=\"ticketsDisponibles.length\"\n            [pageSize]=\"page_size\"\n            (page)=\"handlerPage($event)\"\n          >\n          </mat-paginator>\n        </div>\n        <!-- {{ ticketsDisponibles | json }} -->\n      </div>\n      <!-- \n    <div class=\"boton_boleto\">\n      <button (click)=\"abrirResumen()\">RESUMEN DE BOLETOS</button>\n    </div> -->\n    </div>\n  </div>\n\n  <app-carrito\n    class=\"ticketScroller\"\n    (emitirCompra)=\"comprar()\"\n    (eliminarTodo)=\"deleteAllTickets()\"\n    (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n    (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n    (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\n    (deletePozoTicket)=\"deletePozoTicket($event)\"\n    (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n    [ticketsLoteria]=\"ticketsLoteria\"\n    [ticketsMillonaria]=\"ticketsMillonaria\"\n    [ticketsLotto]=\"ticketsLotto\"\n    [ticketsPozo]=\"ticketsPozo\"\n    tipoLoteria=\"loteria\"\n  >\n  </app-carrito>\n</div>\n\n<app-loader\n  loader=\"loteria\"\n  [message]=\"loadingMessage!\"\n  *ngIf=\"isLoading\"\n></app-loader>\n<app-floating-menu\n  (emitirCompra)=\"comprar()\"\n  (eliminarTodo)=\"deleteAllTickets()\"\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n  (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\n  [ticketsLoteria]=\"ticketsLoteria\"\n  [ticketsLotto]=\"ticketsLotto\"\n  [ticketsPozo]=\"ticketsPozo\"\n  [ticketsMillonaria]=\"ticketsMillonaria\"\n  tipoLoteria=\"loteria\"\n></app-floating-menu>\n<!-- <app-floating-menu\n  (emitirCompra)=\"comprar()\"\n  (eliminarTodo)=\"deleteAllTickets()\"\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n  [ticketsLoteria]=\"ticketsLoteria\"\n  [ticketsLotto]=\"ticketsLotto\"\n  [ticketsPozo]=\"ticketsPozo\"\n  [total]=\"total\"\n  tipoLoteria=\"loteria\"\n></app-floating-menu> -->\n<app-error\n  [msg]=\"errorMessage!\"\n  (closeError)=\"closeError()\"\n  *ngIf=\"isError\"\n></app-error>\n<app-error\n  [msg]=\"validationErrorMessage!\"\n  (closeError)=\"closeValidationError()\"\n  *ngIf=\"isValidationError\"\n></app-error>\n\n<app-confirmacion-de-venta\n  (compraConfirmada)=\"confirmarCompra()\"\n  (compraCancelada)=\"cancelarCompra()\"\n  (comprarDespues)=\"dismissCompras()\"\n  [compra]=\"detalleCompra\"\n  class=\"paymentItem\"\n  *ngIf=\"confirmacionDeCompra\"\n></app-confirmacion-de-venta>\n<app-instantaneas\n  (close)=\"abrirFinalizar()\"\n  [resultados]=\"instantaneas\"\n  tipoLoteria=\"1\"\n  [isLoteriaNacional]=\"true\"\n  class=\"paymentItem\"\n  *ngIf=\"isInstantaneas\"\n></app-instantaneas>\n<app-venta-finalizada\n  (volver)=\"finalizarCompra()\"\n  [compra]=\"detalleCompra\"\n  class=\"paymentItem\"\n  *ngIf=\"compraFinalizada\"\n></app-venta-finalizada>\n<app-saldo-insuficiente\n  [message]=\"recargaDeSaldoMessage\"\n  (volver)=\"dismissCompras()\"\n  (recarga)=\"irARecarga()\"\n  class=\"paymentItem\"\n  *ngIf=\"saldoInsuficiente\"\n></app-saldo-insuficiente>\n<app-venta-cancelada\n  class=\"paymentItem\"\n  [message]=\"cancelMessage\"\n  *ngIf=\"compraCancelada\"\n></app-venta-cancelada>\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { PageEvent } from '@angular/material/paginator';\nimport {\n  sorteo,\n  ticketsNacional,\n  ticketsAnimales,\n  ticketsLotto,\n} from '../../interfaces/venta';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\n\nimport { VentasService } from '../../services/ventas.service';\nimport { PagosService } from '../..//services/pagos.service';\nimport { CarritoService } from '../../services/carrito.service';\nimport { VentaService as LoteriaService } from '../../../juegos/loteria/services/venta.service';\n@Component({\n  selector: 'app-loteria',\n  templateUrl: './loteria.component.html',\n  styleUrls: ['./loteria.component.scss'],\n})\nexport class LoteriaComponent implements OnInit {\n  tickets: any;\n\n  sorteo?: sorteo[];\n  ticketsDisponibles?: any;\n  allFractions?: boolean[];\n  fracciones?: number;\n  token?: string;\n  usuario?: string;\n  ticketsPozo: any;\n  ticketsLotto: any;\n  ticketsLoteria: any;\n  ticketsCarrito: any;\n  descuentos: any;\n  combinacionDeLaSuerte: any = ['', '', '', '', ''];\n  mostrar: boolean = false;\n  fondo: boolean = false;\n  tipoSeleccion: number = 96;\n  showNumeros: boolean = false;\n  page_size: number = 9;\n  page_number: number = 1;\n  pageSizeOptions = [5, 10, 20, 100];\n  ticketsMillonaria: any;\n\n  constructor(\n    private lotteryService: VentasService,\n    private paymentService: PagosService,\n    private cart: CarritoService,\n    private loteria: LoteriaService,\n    private actRoute: ActivatedRoute,\n    private router: Router,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {\n    this.actRoute.params.subscribe((params) => {\n      this.token! = params['token'];\n    });\n  }\n  async ngOnInit() {\n    try {\n      this.loadingMessage = 'Cargando los sorteos disponibles';\n      this.isLoading = true;\n      if (this.token!) {\n        let data = await this.lotteryService.authUser(this.token!);\n      }\n      await this.getCarritoTickets();\n      let authData = this.lotteryService.getAuthData();\n      this.sorteo = await this.loteria.obtenerSorteo(authData);\n      this.descuentos = await this.lotteryService.obtenerDescuentos();\n      this.isLoading = false;\n      this.showComponents = true;\n    } catch (e: any) {\n      console.log(e.message);\n      this.isLoading = false;\n      this.openError(e.message);\n    }\n  }\n\n  async getCarritoTickets() {\n    let carrito = await this.cart.buscarCarrito();\n    this.ticketsLoteria = carrito.loteria;\n    this.ticketsLotto = carrito.lotto;\n    this.ticketsMillonaria = carrito.millonaria;\n    this.ticketsPozo = carrito.pozo;\n  }\n  sorteoSeleccionado?: sorteo;\n  procesaEmitir(sorteo: any) {\n    this.sorteoSeleccionado! = sorteo;\n    this.showNumeros = false;\n  }\n\n  async buscarNumero() {\n    try {\n      this.loadingMessage = 'Buscando combinaciones disponibles';\n      this.isLoading = true;\n\n      this.showNumeros = false;\n\n      let combinacion = this.combinacionDeLaSuerte.map((element: any) => {\n        element = element.toString();\n        if (element == null || element == undefined || element == '') {\n          return '_';\n        } else {\n          return element;\n        }\n      });\n      let authData = this.lotteryService.getAuthData();\n\n      this.ticketsDisponibles! = await this.loteria.obtenerTickets(\n        this.sorteoSeleccionado!!.sorteo,\n        combinacion.join(''),\n        '',\n        this.tipoSeleccion,\n        authData\n      );\n\n      this.allFractions! = [];\n      this.ticketsDisponibles!!.forEach((ticket: any) => {\n        this.allFractions!!.push(false);\n      });\n\n      this.combinacionDeLaSuerte = ['', '', '', '', ''];\n      this.showNumeros = true;\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  handlerPage(e: PageEvent) {\n    this.page_size = e.pageSize;\n    this.page_number = e.pageIndex + 1;\n  }\n\n  async fraccionSeleccionada(idTicket: number, fraccion: string) {\n    try {\n      this.changeDetectorRef.detectChanges();\n      if (this.allFractions![idTicket]) this.allFractions![idTicket] = false;\n      this.changeDetectorRef.markForCheck();\n      let index =\n        this.ticketsDisponibles![idTicket].seleccionados.indexOf(fraccion);\n\n      if (index != -1) {\n        let identificador = this.ticketsDisponibles![idTicket].identificador;\n        let ticketLoteria = this.ticketsLoteria[identificador];\n        let aux = {\n          ticket: ticketLoteria,\n          fraccion,\n        };\n        await this.deleteLoteriaFraccion(aux);\n        this.changeDetectorRef.detectChanges();\n        //this.ticketsDisponibles![idTicket].seleccionados.pop();\n        this.ticketsDisponibles![idTicket].seleccionados.splice(index, 1);\n        this.changeDetectorRef.markForCheck();\n      } else {\n        let count = (await this.cart.getCount()) + 1;\n        this.changeDetectorRef.detectChanges();\n        this.ticketsDisponibles![idTicket].seleccionados.push(fraccion);\n        this.changeDetectorRef.markForCheck();\n        if (count <= 1000) {\n          await this.pushToSeleccionado(this.ticketsDisponibles![idTicket], [\n            fraccion,\n          ]);\n        } else {\n          this.changeDetectorRef.detectChanges();\n          this.ticketsDisponibles![idTicket].seleccionados.pop();\n          this.changeDetectorRef.markForCheck();\n\n          let errorMessage =\n            'Incluir el boleto excede el lmite de compra. Si quieres escoger este boleto, por favor elimina algn otro de tu carrito.';\n          this.openError(errorMessage);\n        }\n      }\n      await this.setDescuento(1);\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  async setDescuento(tipoLoteria: any) {\n    return;\n    let descuentos = this.descuentos.filter(\n      (element: any) => parseInt(element.tipoLoteria) == tipoLoteria\n    );\n    for (let index = 0; index < descuentos.length; index++) {\n      const element = descuentos[index];\n      let conteo = await this.cart.contarBoletos(element.sorteo, tipoLoteria);\n      if (conteo >= parseInt(element.cantidad)) {\n        await this.cart.calcularDescuento(element);\n      } else {\n        await this.cart.eliminarDescuento(element, tipoLoteria);\n      }\n      await this.getCarritoTickets();\n    }\n    await this.cart.setTotalConDesc();\n  }\n\n  async seleccionarTodo(id: number) {\n    try {\n      this.changeDetectorRef.detectChanges();\n      this.allFractions![id] = !this.allFractions![id];\n      this.changeDetectorRef.markForCheck();\n      //      let fracciones = [...this.ticketsDisponibles![id].fraccionesDisponibles];\n      let fracciones = [\n        ...this.ticketsDisponibles![id].fraccionesDisponibles.filter(\n          (x: any) => !this.ticketsDisponibles![id].seleccionados.includes(x)\n        ),\n      ];\n      if (this.allFractions![id]) {\n        let count =\n          (await this.cart.getCount()) +\n          (fracciones.length -\n            this.ticketsDisponibles![id].seleccionados.length);\n        if (count <= 1000) {\n          this.ticketsDisponibles![id].seleccionados =\n            this.ticketsDisponibles![id].seleccionados.concat(fracciones);\n          await this.pushToSeleccionado(\n            this.ticketsDisponibles![id],\n            fracciones\n          );\n        } else {\n          this.changeDetectorRef.detectChanges();\n          this.allFractions![id] = false;\n          this.changeDetectorRef.markForCheck();\n          let errorMessage =\n            'Incluir los boletos excede el lmite de compra. Si quieres escoger estos boletos, por favor elimina algunos de tu carrito.';\n          this.openError(errorMessage);\n        }\n      } else {\n        let identificador = this.ticketsDisponibles![id].identificador;\n        await this.deleteLoteriaTicket(this.ticketsLoteria[identificador]);\n        this.ticketsDisponibles![id].seleccionados = [];\n      }\n      await this.setDescuento(1);\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  async pushToSeleccionado(ticket: any, fracciones: any) {\n    try {\n      this.loadingMessage = 'Agregando boleto al carrito';\n      this.isLoading = true;\n\n      await this.getCarritoTickets();\n      let subtotalTest =\n        parseFloat(this.sorteoSeleccionado!.precio) * fracciones.length;\n      let subtotal =\n        parseFloat(this.sorteoSeleccionado!.precio) *\n        ticket.seleccionados.length;\n      let aux = {\n        ticket,\n        fracciones,\n        sorteo: this.sorteoSeleccionado!,\n        subtotal,\n      };\n      let hasBalance = await this.paymentService.hasBalance(\n        subtotalTest,\n        this.token!\n      );\n      if (hasBalance) {\n        this.ticketsLoteria[ticket.identificador] = aux;\n        let reservaId = this.cart.getReservaId();\n        let response = await this.lotteryService.reservarBoletos(\n          this.token!,\n          aux,\n          1,\n          reservaId\n        );\n        this.cart.setReservaId(response);\n\n        await this.cart.setCarrito(aux, 1);\n        await this.cart.setCarritoLoteria(this.ticketsLoteria);\n        await this.getCarritoTickets();\n\n        //this.getTotal();\n\n        this.isLoading = false;\n      } else {\n        this.isLoading = false;\n        let message =\n          'Tu saldo es insuficiente para agregar este boleto al carrito';\n        var idTicket = this.ticketsDisponibles!.findIndex(\n          (p: any) => p.identificador == ticket.identificador\n        );\n        this.ticketsDisponibles![idTicket].seleccionados =\n          this.ticketsDisponibles![idTicket].seleccionados.filter(\n            (el: any) => !fracciones.includes(el)\n          );\n        this.allFractions![idTicket] = false;\n\n        this.recargarSaldo(message);\n      }\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  isSelected(idTicket: number, idFraccion: string) {\n    let ticket = this.ticketsDisponibles![idTicket];\n    if (ticket.seleccionados.indexOf(idFraccion) != -1) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  confirmacionDeCompra: boolean = false;\n  compraFinalizada: boolean = false;\n  saldoInsuficiente: boolean = false;\n  compraCancelada: boolean = false;\n  instantaneas: any;\n  isInstantaneas: boolean = false;\n  cancelMessage: string = '';\n  detalleCompra: any;\n  recargaDeSaldoMessage?: string;\n\n  dismissCompras() {\n    this.confirmacionDeCompra = false;\n    this.isInstantaneas = false;\n\n    this.compraFinalizada = false;\n    this.saldoInsuficiente = false;\n    this.compraCancelada = false;\n  }\n\n  volver() {\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token!}`);\n  }\n\n  total?: string;\n  getTotal() {\n    this.changeDetectorRef.detectChanges();\n\n    this.total = this.cart.getTotal();\n    this.changeDetectorRef.markForCheck();\n  }\n\n  comprar() {\n    this.dismissCompras();\n\n    let loteriaAux = this.ticketsLoteria;\n    let loteria = [];\n    for (let id in loteriaAux) {\n      let aux: any = {};\n      aux['combinacion1'] = loteriaAux[id].ticket.combinacion;\n      aux['fracciones'] = loteriaAux[id].ticket.seleccionados;\n      aux['subtotal'] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(\n        loteriaAux[id].subtotalConDesc\n      ).toFixed(2);\n      aux['tieneDescuento'] = loteriaAux[id].tieneDescuento;\n      aux['fecha'] = loteriaAux[id].sorteo.fecha;\n      aux['sorteo'] = loteriaAux[id].sorteo.sorteo;\n      loteria.push(aux);\n    }\n    let lottoAux = this.ticketsLotto;\n    let lotto = [];\n    for (let id in lottoAux) {\n      let aux: any = {};\n      aux['combinacion1'] = lottoAux[id].ticket.combinacion1;\n      aux['combinacion2'] = lottoAux[id].ticket.combinacion2;\n      aux['combinacion3'] = lottoAux[id].ticket.combinacion3;\n      aux['combinacion4'] = lottoAux[id].ticket.combinacion4;\n      aux['sorteo'] = lottoAux[id].sorteo.sorteo;\n      aux['subtotal'] = parseFloat(lottoAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(lottoAux[id].subtotalConDesc).toFixed(\n        2\n      );\n      aux['tieneDescuento'] = lottoAux[id].tieneDescuento;\n      aux['fecha'] = lottoAux[id].sorteo.fecha;\n      lotto.push(aux);\n    }\n    let pozoAux = this.ticketsPozo;\n    let pozo = [];\n    for (let id in pozoAux) {\n      let aux: any = {};\n      aux['combinacion1'] = pozoAux[id].ticket.combinacion1;\n      aux['combinacion2'] = pozoAux[id].ticket.combinacion2;\n      aux['mascota'] = pozoAux[id].ticket.mascota;\n      aux['sorteo'] = pozoAux[id].sorteo.sorteo;\n      aux['subtotal'] = parseFloat(pozoAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(pozoAux[id].subtotalConDesc).toFixed(\n        2\n      );\n      aux['tieneDescuento'] = pozoAux[id].tieneDescuento;\n      aux['fecha'] = pozoAux[id].sorteo.fecha;\n      pozo.push(aux);\n    }\n    let millonariaAux = this.ticketsMillonaria;\n    let millonaria = [];\n    for (let id in millonariaAux) {\n      let aux: any = {};\n      aux['combinacion1'] = millonariaAux[id].ticket.combinacion1;\n      aux['combinacion2'] = millonariaAux[id].ticket.combinacion2;\n      aux['fracciones'] = millonariaAux[id].ticket.seleccionados;\n      aux['subtotal'] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(\n        millonariaAux[id].subtotalConDesc\n      ).toFixed(2);\n      aux['tieneDescuento'] = millonariaAux[id].tieneDescuento;\n      aux['fecha'] = millonariaAux[id].sorteo.fecha;\n      aux['sorteo'] = millonariaAux[id].sorteo.sorteo;\n      millonaria.push(aux);\n    }\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\n\n    this.detalleCompra = {\n      loteria,\n      millonaria,\n      lotto,\n      pozo,\n      amount,\n      amountConDesc,\n    };\n\n    this.confirmacionDeCompra = true;\n  }\n\n  finalizarCompra() {\n    this.paymentService.finalizarCompra();\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token!}`);\n  }\n\n  irARecarga() {}\n  async confirmarCompra() {\n    try {\n      this.isLoading = true;\n      this.loadingMessage = 'Espera mientras procesamos tu compra';\n      let hasBalance = await this.paymentService.hasBalance(0, this.token!);\n\n      if (hasBalance) {\n        let reservaId = this.cart.getReservaId();\n        let cartValidation = await this.cart.validarCarrito(reservaId);\n        if (cartValidation.status) {\n          let response = await this.paymentService.confirmarCompra(\n            this.token!,\n            reservaId\n          );\n          if (response.status) {\n            if (response.instantanea.status) {\n              this.dismissCompras();\n              this.instantaneas = response.instantanea.data;\n              this.isInstantaneas = true;\n            } else {\n              this.instantaneas = '';\n              this.abrirFinalizar();\n            }\n          } else {\n            this.cancelarCompra();\n          }\n        } else {\n          this.openValidationError(cartValidation.message);\n        }\n        this.isLoading = false;\n      } else {\n        this.isLoading = false;\n        let message = 'Tu saldo es insuficiente para realizar la compra';\n        this.recargarSaldo(message);\n      }\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  cancelarCompra() {\n    this.dismissCompras();\n    this.compraCancelada = true;\n  }\n\n  async abrirFinalizar() {\n    this.dismissCompras();\n    await this.cart.borrarCarrito();\n    this.compraFinalizada = true;\n  }\n\n  recargarSaldo(message: any) {\n    this.recargaDeSaldoMessage = message;\n    this.dismissCompras();\n    this.saldoInsuficiente = true;\n  }\n\n  showComponents: boolean = false;\n  isLoading?: boolean;\n  loadingMessage?: string;\n\n  async deleteLoteriaTicket(data: any) {\n    try {\n      await this.getCarritoTickets();\n      let identificador = data.ticket.identificador;\n      let fracciones = data.ticket.seleccionados;\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let sorteo = this.ticketsLoteria[identificador].sorteo;\n      let ticket = this.ticketsLoteria[identificador].ticket;\n      let reservaId = this.cart.getReservaId();\n      if (fracciones.length != 0) {\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\n          this.token!,\n          ticket,\n          sorteo,\n          fracciones,\n          1,\n          reservaId\n        );\n      }\n      delete this.ticketsLoteria[identificador];\n\n      await this.cart.removeFromCart(ticket, 1);\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\n      //this.getTotal();\n      if (this.ticketsDisponibles! && this.ticketsDisponibles!.length) {\n        let deletedIndex = this.ticketsDisponibles!.findIndex(\n          (x: any) => x.identificador === identificador\n        );\n        if (deletedIndex != -1) {\n          this.allFractions![deletedIndex] = false;\n          this.ticketsDisponibles![deletedIndex].seleccionados = [];\n        }\n      }\n      await this.setDescuento(1);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteLottoTicket(data: any) {\n    try {\n      await this.getCarritoTickets();\n      let identificador = data.ticket.identificador;\n      let fraccion = '';\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let ticket = this.ticketsLotto[identificador].ticket;\n      let sorteo = data.sorteo;\n      let reservaId = this.cart.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token!,\n        ticket,\n        sorteo,\n        fraccion,\n        2,\n        reservaId\n      );\n\n      delete this.ticketsLotto[identificador];\n\n      await this.cart.removeFromCart(ticket, 2);\n      await this.cart.setCarritoLotto(this.ticketsLotto);\n      //this.getTotal();\n      await this.setDescuento(2);\n\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deletePozoTicket(data: any) {\n    try {\n      await this.getCarritoTickets();\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let identificador = data.ticket.identificador;\n      let fraccion = '';\n      let ticket = this.ticketsPozo[identificador].ticket;\n      let sorteo = data.sorteo;\n      let reservaId = this.cart.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token!,\n        ticket,\n        sorteo,\n        fraccion,\n        5,\n        reservaId\n      );\n\n      delete this.ticketsPozo[identificador];\n\n      await this.cart.removeFromCart(ticket, 5);\n      await this.cart.setCarritoPozo(this.ticketsPozo);\n      //this.getTotal();\n\n      await this.setDescuento(5);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteLoteriaFraccion(data: any) {\n    try {\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      await this.getCarritoTickets();\n      let identificador = data.ticket.ticket.identificador;\n      let ticket = data.ticket.ticket;\n      let sorteo = data.ticket.sorteo;\n      let fraccion = data.fraccion;\n\n      let reservaId = this.cart.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token!,\n        ticket,\n        sorteo,\n        [fraccion],\n        1,\n        reservaId\n      );\n      let indexA = this.ticketsLoteria[\n        identificador\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\n      this.ticketsLoteria[identificador].ticket.seleccionados.splice(indexA, 1);\n      let indexB = this.ticketsLoteria[identificador].fracciones.findIndex(\n        (x: any) => x == fraccion\n      );\n      this.ticketsLoteria[identificador].fracciones.splice(indexB, 1);\n      if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\n        await this.cart.removeFromCart(this.ticketsLoteria[identificador], 1);\n        delete this.ticketsLoteria[identificador];\n      } else {\n        await this.cart.setCarrito(this.ticketsLoteria[identificador], 1);\n        this.ticketsLoteria[identificador].subtotal -= parseFloat(\n          sorteo.precio\n        );\n      }\n\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\n      //this.getTotal();\n\n      await this.setDescuento(1);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteMillonariaTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fracciones = data.ticket.seleccionados;\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let ticket = this.ticketsMillonaria[identificador].ticket;\n      let sorteo = data.sorteo;\n      let reservaId = this.lotteryService.getReservaId();\n      if (fracciones.length != 0) {\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\n          this.token!,\n          ticket,\n          sorteo,\n          fracciones,\n          14,\n          reservaId\n        );\n      }\n      delete this.ticketsMillonaria[identificador];\n\n      await this.cart.removeFromCart(ticket, 1);\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\n\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(14);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteAllTickets() {\n    try {\n      this.loadingMessage = 'Removiendo boletos del carrito';\n      this.isLoading = true;\n      await this.getCarritoTickets();\n\n      let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\n        return {\n          ticket: this.ticketsLoteria[key].ticket,\n          sorteo: this.ticketsLoteria[key].sorteo,\n        };\n      });\n      let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\n        return {\n          ticket: this.ticketsLotto[key].ticket,\n          sorteo: this.ticketsLotto[key].sorteo,\n        };\n      });\n      let boletosPozo = Object.keys(this.ticketsPozo).map((key) => {\n        return {\n          ticket: this.ticketsPozo[key].ticket,\n          sorteo: this.ticketsPozo[key].sorteo,\n        };\n      });\n      let reservaId = this.cart.getReservaId();\n      /*       await this.lotteryService.eliminarTodosLosBoletosDeReserva(\n        this.token!,\n        boletosLoteria,\n        boletosLotto,\n        boletosPozo,\n        reservaId\n      ); */\n\n      Object.keys(this.ticketsLoteria).forEach((key) => {\n        if (this.ticketsDisponibles! && this.ticketsDisponibles!.length != 0) {\n          let deletedIndex = this.ticketsDisponibles!.findIndex(\n            (x: any) => x.identificador == key\n          );\n          if (deletedIndex != -1) {\n            this.allFractions![deletedIndex] = false;\n            this.ticketsDisponibles![deletedIndex].seleccionados = [];\n          }\n        }\n      });\n      await this.cart.borrarCarrito();\n      //this.getTotal();\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  isError: boolean = false;\n  errorMessage?: string;\n  openError(msg: any) {\n    this.errorMessage = msg;\n    this.isError = true;\n  }\n\n  closeError() {\n    this.isError = false;\n  }\n  isValidationError: boolean = false;\n  validationErrorMessage?: string;\n  openValidationError(msg: any) {\n    this.validationErrorMessage = msg;\n    this.isValidationError = true;\n  }\n\n  closeValidationError() {\n    this.isValidationError = false;\n    this.validationErrorMessage = '';\n    window.location.reload();\n  }\n}\n","<ventas-menu-header></ventas-menu-header>\n\n<div class=\"contenedor_loteria\" *ngIf=\"showComponents\">\n  <div class=\"ventasBox\">\n    <app-detalle-sorteo\n      titulo=\"Lotto\"\n      class=\"infoBox\"\n      color=\"lotto\"\n      [sorteos]=\"sorteo\"\n      [loteria]=\"2\"\n      (emitir)=\"procesaEmitir($event)\"\n    >\n    </app-detalle-sorteo>\n\n    <div class=\"contenedor_seleccion\">\n      <div class=\"selectBox\">\n        <div class=\"contenedor_select\">\n          <h3>Cmo quieres comprar?</h3>\n          <select\n            class=\"select_option\"\n            name=\"\"\n            id=\"\"\n            [(ngModel)]=\"tipoSeleccion\"\n          >\n            <option class=\"option\" value=\"96\">Seleccin individual</option>\n            <option class=\"option\" value=\"5\">5 Boletos al azar</option>\n            <option class=\"option\" value=\"30\">30 Boletos al azar</option>\n            <option class=\"option\" value=\"50\">50 Boletos al azar</option>\n          </select>\n        </div>\n        <div class=\"numeros_suerte\">\n          <h3>Ingresa tu nmero de la suerte:</h3>\n\n          <div class=\"numeros\">\n            <input\n              #input1\n              [appAutoTab]=\"input2\"\n              type=\"text\"\n              name=\"\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              maxlength=\"1\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              [(ngModel)]=\"combinacionDeLaSuerte[0]\"\n            />\n            <input\n              #input2\n              [appAutoTab]=\"input3\"\n              type=\"text\"\n              name=\"\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              maxlength=\"1\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              [(ngModel)]=\"combinacionDeLaSuerte[1]\"\n            />\n            <input\n              #input3\n              [appAutoTab]=\"input4\"\n              type=\"text\"\n              name=\"\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              maxlength=\"1\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              [(ngModel)]=\"combinacionDeLaSuerte[2]\"\n            />\n            <input\n              #input4\n              [appAutoTab]=\"input5\"\n              type=\"text\"\n              name=\"\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              maxlength=\"1\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              [(ngModel)]=\"combinacionDeLaSuerte[3]\"\n            />\n            <input\n              #input5\n              [appAutoTab]=\"input6\"\n              type=\"text\"\n              name=\"\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              maxlength=\"1\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              [(ngModel)]=\"combinacionDeLaSuerte[4]\"\n            />\n            <input\n              #input6\n              type=\"text\"\n              name=\"\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              maxlength=\"1\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              [(ngModel)]=\"combinacionDeLaSuerte[5]\"\n            />\n          </div>\n        </div>\n\n        <button class=\"activado\" (click)=\"buscarNumero()\">BUSCAR NUMERO</button>\n      </div>\n      <p class=\"tagItem\">\n        Si quieres cambiar tu nmero, ingrsalo nuevamente y haz click en\n        \"Buscar nmero\"\n      </p>\n      <div *ngIf=\"showNumeros\" class=\"contenedor_numeros_suerte\">\n        <table>\n          <tbody>\n            <tr\n              *ngFor=\"\n                let ticket of ticketsDisponibles\n                  | paginacion: page_size:page_number;\n                let i = index\n              \"\n            >\n              <td>\n                <div class=\"contenedor\">\n                  <input\n                    type=\"checkbox\"\n                    [checked]=\"ticket.status\"\n                    (click)=\"\n                      seleccionarTicket(page_size! * (page_number! - 1) + i)\n                    \"\n                  />\n                  <div class=\"contenedor_numeros\">\n                    <!-- <p *ngFor=\"let numero of ticket.display\">{{ numero }}</p> -->\n                    <p>{{ ticket!.combinacion1 }}</p>\n                  </div>\n                  <hr />\n                  <div class=\"contenedor_fracciones\">\n                    <p *ngIf=\"ticket!.combinacion3 != ''\">\n                      {{ sorteoSeleccionado!.combinacion3 }}:\n                      <span>{{ ticket!.combinacion3 }}</span>\n                    </p>\n                    <p *ngIf=\"ticket!.combinacion2 != ''\">\n                      {{ sorteoSeleccionado!.combinacion2 }}:\n                      <span>{{ ticket!.combinacion2 }}</span>\n                    </p>\n                    <p *ngIf=\"ticket!.combinacion4 != ''\">\n                      {{ sorteoSeleccionado!.combinacion4 }}:\n                      <span>{{ ticket!.combinacion4 }}</span>\n                    </p>\n                    <p\n                      *ngIf=\"ticket!.combinacion5 && ticket!.combinacion5 != ''\"\n                    >\n                      {{ sorteoSeleccionado!.combinacion5 }}:\n                      <img\n                        [src]=\"obtenerAntojito(ticket!.combinacion5)\"\n                        alt=\"\"\n                      />\n                    </p>\n                  </div>\n                </div>\n                <!-- <app-seleccion-lotto [tickets]=\"ticket\"></app-seleccion-lotto> -->\n              </td>\n            </tr>\n          </tbody>\n          <hr size=\"2px\" color=\"gray\" />\n        </table>\n\n        <div class=\"contenedor_botones\">\n          <mat-paginator\n            style-paginator\n            [length]=\"ticketsDisponibles.length\"\n            [pageSize]=\"page_size\"\n            (page)=\"handlerPage($event)\"\n          >\n          </mat-paginator>\n        </div>\n      </div>\n      <!-- \n    <div class=\"boton_boleto\"> <button (click)=\"abrirResumen()\">RESUMEN DE BOLETOS</button>\n\n    </div> -->\n    </div>\n  </div>\n\n  <app-carrito\n    class=\"ticketScroller\"\n    (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n    (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n    (deletePozoTicket)=\"deletePozoTicket($event)\"\n    (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n    (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\n    (emitirCompra)=\"comprar()\"\n    (eliminarTodo)=\"deleteAllTickets()\"\n    [ticketsLoteria]=\"ticketsLoteria\"\n    [ticketsLotto]=\"ticketsLotto\"\n    [ticketsMillonaria]=\"ticketsMillonaria\"\n    [ticketsPozo]=\"ticketsPozo\"\n    tipoLoteria=\"lotto\"\n  >\n  </app-carrito>\n</div>\n<app-floating-menu\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n  (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\n  (emitirCompra)=\"comprar()\"\n  (eliminarTodo)=\"deleteAllTickets()\"\n  [ticketsLoteria]=\"ticketsLoteria\"\n  [ticketsLotto]=\"ticketsLotto\"\n  [ticketsPozo]=\"ticketsPozo\"\n  [ticketsMillonaria]=\"ticketsMillonaria\"\n  tipoLoteria=\"lotto\"\n></app-floating-menu>\n<!-- <app-floating-menu\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n  (emitirCompra)=\"comprar()\"\n  (eliminarTodo)=\"deleteAllTickets()\"\n  [ticketsLoteria]=\"ticketsLoteria\"\n  [ticketsLotto]=\"ticketsLotto\"\n  [ticketsPozo]=\"ticketsPozo\"\n  [total]=\"total\"\n  tipoLoteria=\"lotto\"\n></app-floating-menu>\n --><app-loader\n  loader=\"lotto\"\n  [message]=\"loadingMessage!\"\n  *ngIf=\"isLoading\"\n></app-loader>\n\n<app-error\n  [msg]=\"errorMessage!\"\n  (closeError)=\"closeError()\"\n  *ngIf=\"isError\"\n></app-error>\n<app-error\n  [msg]=\"validationErrorMessage!\"\n  (closeError)=\"closeValidationError()\"\n  *ngIf=\"isValidationError\"\n></app-error>\n\n<app-confirmacion-de-venta\n  (compraConfirmada)=\"confirmarCompra()\"\n  (compraCancelada)=\"cancelarCompra()\"\n  (comprarDespues)=\"dismissCompras()\"\n  [compra]=\"detalleCompra\"\n  class=\"paymentItem\"\n  *ngIf=\"confirmacionDeCompra\"\n></app-confirmacion-de-venta>\n<app-instantaneas\n  (close)=\"abrirFinalizar()\"\n  [resultados]=\"instantaneas\"\n  tipoLoteria=\"2\"\n  [isLoteriaNacional]=\"true\"\n  class=\"paymentItem\"\n  *ngIf=\"isInstantaneas\"\n></app-instantaneas>\n<app-venta-finalizada\n  (volver)=\"finalizarCompra()\"\n  [compra]=\"detalleCompra\"\n  class=\"paymentItem\"\n  *ngIf=\"compraFinalizada\"\n></app-venta-finalizada>\n<app-saldo-insuficiente\n  [message]=\"recargaDeSaldoMessage\"\n  (volver)=\"dismissCompras()\"\n  (recarga)=\"irARecarga()\"\n  class=\"paymentItem\"\n  *ngIf=\"saldoInsuficiente\"\n></app-saldo-insuficiente>\n<app-venta-cancelada\n  class=\"paymentItem\"\n  [message]=\"cancelMessage\"\n  *ngIf=\"compraCancelada\"\n></app-venta-cancelada>\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { PageEvent } from '@angular/material/paginator';\nimport {\n  sorteo,\n  ticketsNacional,\n  ticketsAnimales,\n  ticketsLotto,\n} from '../../interfaces/venta';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\nimport {VentaService as LottoService} from '../../../juegos/lotto/services/venta.service'\nimport { VentasService } from '../../services/ventas.service';\nimport { PagosService } from '../..//services/pagos.service';\nimport { CarritoService } from '../../services/carrito.service';\n\n@Component({\n  selector: 'app-lotto',\n  templateUrl: './lotto.component.html',\n  styleUrls: ['./lotto.component.scss'],\n})\nexport class LottoComponent implements OnInit {\n  combinacionDeLaSuerte: any = ['', '', '', '', '', ''];\n\n  page_size: number = 9;\n  page_number: number = 1;\n  showNumeros: boolean = false;\n  sorteo?: sorteo[];\n  ticketsDisponibles?: any;\n  pageSizeOptions?: [5, 10, 20, 100];\n  token?: string;\n  usuario?: string;\n  ticketsMillonaria: any;\n\n  constructor(\n    private lotteryService: VentasService,\n    private actRoute: ActivatedRoute,\n    private cart: CarritoService,\n    private lotto: LottoService,\n    private changeDetectorRef: ChangeDetectorRef,\n    private paymentService: PagosService,\n    private router: Router\n  ) {\n    this.actRoute.params.subscribe((params) => {\n      this.token = params['token'];\n    });\n  }\n  total?: string;\n  getTotal() {\n    this.changeDetectorRef.detectChanges();\n\n    this.total = this.cart.getTotal();\n    this.changeDetectorRef.markForCheck();\n  }\n  async buscarNumero() {\n    try {\n      this.loadingMessage = 'Buscando combinaciones disponibles';\n      this.isLoading = true;\n      this.showNumeros = false;\n      let combinacion = this.combinacionDeLaSuerte.map((element: any) => {\n        if (element == null || element == undefined || element == '') {\n          return '_';\n        } else {\n          return element;\n        }\n      });\n      let authData = this.lotteryService.getAuthData();\n\n      this.ticketsDisponibles = await this.lotto.obtenerTickets(\n        this.sorteoSeleccionado!.sorteo,\n        combinacion.join(''),\n        '',\n        this.tipoSeleccion,\n        authData\n      );\n\n      this.combinacionDeLaSuerte = ['', '', '', '', '', ''];\n      this.showNumeros = true;\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  tipoSeleccion: number = 96;\n\n  sorteoSeleccionado?: sorteo;\n  procesaEmitir(sorteo: any) {\n    this.sorteoSeleccionado = sorteo;\n    this.showNumeros = false;\n  }\n  async seleccionarTicket(id: any) {\n    try {\n      this.ticketsDisponibles![id].status = !this.ticketsDisponibles![id].status;\n      if (!this.ticketsDisponibles![id].status) {\n        let identificador = this.ticketsDisponibles![id].identificador;\n        let ticketLotto = this.ticketsLotto[identificador];\n        await this.deleteLottoTicket(ticketLotto);\n      } else {\n        let count = (await this.cart.getCount()) + 1;\n        if (count <= 1000) {\n          await this.pushToSeleccionado(this.ticketsDisponibles[id]);\n        } else {\n          this.changeDetectorRef.detectChanges();\n          this.ticketsDisponibles[id].status = false;\n          this.changeDetectorRef.markForCheck();\n          let errorMessage =\n            'Incluir el boleto excede el lmite de compra. Si quieres escoger este boleto, por favor elimina algn otro de tu carrito.';\n          this.openError(errorMessage);\n        }\n      }\n      await this.setDescuento(2);\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  ticketsLotto: any = {};\n\n  ticketsPozo: any = {};\n  ticketsLoteria: any = {};\n\n  async pushToSeleccionado(ticket: any) {\n    try {\n      this.loadingMessage = 'Agregando boleto al carrito';\n      this.isLoading = true;\n\n      let subtotal = this.sorteoSeleccionado!.precio;\n      let aux = {\n        ticket,\n        sorteo: this.sorteoSeleccionado,\n        subtotal,\n      };\n      let hasBalance = await this.paymentService.hasBalance(\n        subtotal,\n        this.token\n      );\n      if (hasBalance) {\n        this.ticketsLotto[ticket.identificador] = aux;\n        let reservaId = this.lotteryService.getReservaId();\n        let response = await this.lotteryService.reservarBoletos(\n          this.token!,\n          aux,\n          2,\n\n          reservaId\n        );\n\n        this.lotteryService.setReservaId(response);\n        await this.cart.setCarrito(aux, 2);\n        await this.cart.setCarritoLotto(this.ticketsLotto);\n        await this.getCarritoTickets();\n        //this.getTotal();\n        this.isLoading = false;\n      } else {\n        this.isLoading = false;\n        let message =\n          'Tu saldo es insuficiente para agregar este boleto al carrito';\n        this.ticketsDisponibles.find(\n          (x: any) => x.identificador === ticket.identificador\n        ).status = false;\n        this.recargarSaldo(message);\n      }\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  irARecarga() {}\n\n  abrirResumen() {\n    this.router.navigate([`compra_tus_juegos/resumen/${this.token}`]);\n  }\n\n  confirmacionDeCompra: boolean = false;\n  compraFinalizada: boolean = false;\n  saldoInsuficiente: boolean = false;\n  compraCancelada: boolean = false;\n\n  cancelMessage: string = '';\n\n  dismissCompras() {\n    this.confirmacionDeCompra = false;\n    this.compraFinalizada = false;\n    this.saldoInsuficiente = false;\n    this.compraCancelada = false;\n  }\n  volver() {\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n  }\n  detalleCompra: any;\n  comprar() {\n    this.dismissCompras();\n\n    let loteriaAux = this.ticketsLoteria;\n    let loteria = [];\n    for (let id in loteriaAux) {\n      let aux: any = {};\n      aux['combinacion1'] = loteriaAux[id].ticket.combinacion;\n      aux['fracciones'] = loteriaAux[id].ticket.seleccionados;\n      aux['subtotal'] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(\n        loteriaAux[id].subtotalConDesc\n      ).toFixed(2);\n      aux['tieneDescuento'] = loteriaAux[id].tieneDescuento;\n\n      aux['fecha'] = loteriaAux[id].sorteo.fecha;\n      aux['sorteo'] = loteriaAux[id].sorteo.sorteo;\n      loteria.push(aux);\n    }\n    let lottoAux = this.ticketsLotto;\n    let lotto = [];\n    for (let id in lottoAux) {\n      let aux: any = {};\n      aux['combinacion1'] = lottoAux[id].ticket.combinacion1;\n      aux['combinacion2'] = lottoAux[id].ticket.combinacion2;\n      aux['combinacion3'] = lottoAux[id].ticket.combinacion3;\n      aux['combinacion4'] = lottoAux[id].ticket.combinacion4;\n      aux['sorteo'] = lottoAux[id].sorteo.sorteo;\n      aux['subtotal'] = parseFloat(lottoAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(lottoAux[id].subtotalConDesc).toFixed(\n        2\n      );\n      aux['tieneDescuento'] = lottoAux[id].tieneDescuento;\n      aux['fecha'] = lottoAux[id].sorteo.fecha;\n      lotto.push(aux);\n    }\n    let pozoAux = this.ticketsPozo;\n    let pozo = [];\n    for (let id in pozoAux) {\n      let aux: any = {};\n      aux['combinacion1'] = pozoAux[id].ticket.combinacion1;\n      aux['combinacion2'] = pozoAux[id].ticket.combinacion2;\n      aux['mascota'] = pozoAux[id].ticket.mascota;\n      aux['sorteo'] = pozoAux[id].sorteo.sorteo;\n      aux['subtotal'] = parseFloat(pozoAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(pozoAux[id].subtotalConDesc).toFixed(\n        2\n      );\n      aux['tieneDescuento'] = pozoAux[id].tieneDescuento;\n      aux['fecha'] = pozoAux[id].sorteo.fecha;\n      pozo.push(aux);\n    }\n    let millonariaAux = this.ticketsMillonaria;\n    let millonaria = [];\n    for (let id in millonariaAux) {\n      let aux: any = {};\n      aux['combinacion1'] = millonariaAux[id].ticket.combinacion1;\n      aux['combinacion2'] = millonariaAux[id].ticket.combinacion2;\n      aux['fracciones'] = millonariaAux[id].ticket.seleccionados;\n      aux['subtotal'] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(\n        millonariaAux[id].subtotalConDesc\n      ).toFixed(2);\n      aux['tieneDescuento'] = millonariaAux[id].tieneDescuento;\n      aux['fecha'] = millonariaAux[id].sorteo.fecha;\n      aux['sorteo'] = millonariaAux[id].sorteo.sorteo;\n      millonaria.push(aux);\n    }\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\n\n    this.detalleCompra = {\n      loteria,\n      millonaria,\n      lotto,\n      pozo,\n      amount,\n      amountConDesc,\n    };\n\n    this.confirmacionDeCompra = true;\n  }\n  finalizarCompra() {\n    this.paymentService.finalizarCompra();\n\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n  }\n\n  instantaneas: any;\n  isInstantaneas: boolean = false;\n  async confirmarCompra() {\n    try {\n      this.isLoading = true;\n      this.loadingMessage = 'Espera mientras procesamos tu compra';\n      let hasBalance = await this.paymentService.hasBalance(0, this.token);\n\n      if (hasBalance) {\n        let reservaId = this.lotteryService.getReservaId();\n        let cartValidation = await this.cart.validarCarrito(reservaId);\n        if (cartValidation.status) {\n          let response = await this.paymentService.confirmarCompra(\n            this.token,\n            reservaId\n          );\n          this.isLoading = false;\n          if (response.status) {\n            if (response.instantanea.status) {\n              this.dismissCompras();\n              this.instantaneas = response.instantanea.data;\n              this.isInstantaneas = true;\n            } else {\n              this.instantaneas = '';\n              this.abrirFinalizar();\n            }\n          } else {\n            this.cancelarCompra();\n          }\n        } else {\n          this.openValidationError(cartValidation.message);\n        }\n        this.isLoading = false;\n      } else {\n        this.isLoading = false;\n        let message = 'Tu saldo es insuficiente para realizar la compra';\n        this.recargarSaldo(message);\n      }\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async abrirFinalizar() {\n    this.dismissCompras();\n    await this.cart.borrarCarrito();\n    this.compraFinalizada = true;\n  }\n  cancelarCompra() {\n    this.dismissCompras();\n    this.compraCancelada = true;\n  }\n\n  recargaDeSaldoMessage?: string;\n  recargarSaldo(message: string) {\n    this.recargaDeSaldoMessage = message;\n    this.dismissCompras();\n    this.saldoInsuficiente = true;\n  }\n  handlerPage(e: PageEvent) {\n    this.page_size = e.pageSize;\n    this.page_number = e.pageIndex + 1;\n  }\n\n  isLoading?: boolean;\n  showComponents: boolean = false;\n  loadingMessage?: string;\n  descuentos: any;\n  async ngOnInit() {\n    try {\n      this.loadingMessage = 'Cargando los sorteos disponibles';\n      this.isLoading = true;\n      if (this.token) {\n        let data = await this.lotteryService.authUser(this.token);\n      }\n      await this.getCarritoTickets();\n      //this.getTotal();\n      let authData = this.lotteryService.getAuthData();\n      this.sorteo = await this.lotto.obtenerSorteo(authData);\n      this.descuentos = await this.lotteryService.obtenerDescuentos();\n      this.isLoading = false;\n      this.showComponents = true;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage =\n        'Ha ocurrido un error obteniendo los sorteos disponibles. Por favor, verifique si tiene la sesin iniciada e intente de nuevo.';\n      this.openError(errorMessage);\n    }\n  }\n\n  async setDescuento(tipoLoteria: any) {\n    return;\n    let descuentos = this.descuentos.filter(\n      (element: any) => parseInt(element.tipoLoteria) == tipoLoteria\n    );\n    for (let index = 0; index < descuentos.length; index++) {\n      const element = descuentos[index];\n      let conteo = await this.cart.contarBoletos(element.sorteo, tipoLoteria);\n      if (conteo >= parseInt(element.cantidad)) {\n        await this.cart.calcularDescuento(element);\n      } else {\n        await this.cart.eliminarDescuento(element, tipoLoteria);\n      }\n      await this.getCarritoTickets();\n    }\n    await this.cart.setTotalConDesc();\n  }\n  obtenerAntojito(antojito: any) {\n    return this.lotto.obtenerCaracteristicasDeAntojito(antojito)!.ruta;\n  }\n\n  async deleteLoteriaFraccion(data: any) {\n    try {\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let identificador = data.ticket.ticket.identificador;\n      let ticket = data.ticket.ticket;\n      let sorteo = data.ticket.sorteo;\n      let fraccion = data.fraccion;\n\n      let reservaId = this.cart.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        [fraccion],\n        1,\n        reservaId\n      );\n      let index = this.ticketsLoteria[\n        identificador\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\n      this.ticketsLoteria[identificador].ticket.seleccionados.splice(index, 1);\n      if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\n        delete this.ticketsLoteria[identificador];\n      }\n\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\n      await this.getCarritoTickets();\n      //this.getTotal();\n\n      await this.setDescuento(1);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteLoteriaTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fracciones = data.ticket.seleccionados;\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let ticket = this.ticketsLoteria[identificador].ticket;\n      let sorteo = data.sorteo;\n      let reservaId = this.lotteryService.getReservaId();\n      if (fracciones.length != 0) {\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\n          this.token,\n          ticket,\n          sorteo,\n          fracciones,\n          1,\n          reservaId\n        );\n      }\n      delete this.ticketsLoteria[identificador];\n\n      await this.cart.removeFromCart(ticket, 1);\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\n\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(1);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteMillonariaTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fracciones = data.ticket.seleccionados;\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let ticket = this.ticketsMillonaria[identificador].ticket;\n      let sorteo = data.sorteo;\n      let reservaId = this.lotteryService.getReservaId();\n      if (fracciones.length != 0) {\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\n          this.token,\n          ticket,\n          sorteo,\n          fracciones,\n          14,\n          reservaId\n        );\n      }\n      delete this.ticketsMillonaria[identificador];\n\n      await this.cart.removeFromCart(ticket, 1);\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\n\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(14);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteLottoTicket(data: any) {\n    try {\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let identificador = data.ticket.identificador;\n      let fraccion = '';\n\n      let ticket = this.ticketsLotto[identificador].ticket;\n      let sorteo = this.ticketsLotto[identificador].sorteo;\n      let reservaId = this.lotteryService.getReservaId();\n\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        fraccion,\n        2,\n        reservaId\n      );\n\n      delete this.ticketsLotto[identificador];\n      await this.cart.removeFromCart(ticket, 2);\n      await this.cart.setCarritoLotto(this.ticketsLotto);\n      if (this.ticketsDisponibles && this.ticketsDisponibles.length) {\n        let deletedIndex = this.ticketsDisponibles.findIndex(\n          (x: any) => x.identificador === identificador\n        );\n        if (deletedIndex != -1)\n          this.ticketsDisponibles[deletedIndex].status = false;\n      }\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(2);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deletePozoTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fraccion = '';\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let ticket = this.ticketsPozo[identificador].ticket;\n      let sorteo = data.sorteo;\n\n      let reservaId = this.lotteryService.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        fraccion,\n        5,\n        reservaId\n      );\n\n      delete this.ticketsPozo[identificador];\n\n      await this.cart.removeFromCart(ticket, 5);\n      await this.cart.setCarritoPozo(this.ticketsPozo);\n\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(5);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteAllTickets() {\n    try {\n      this.loadingMessage = 'Removiendo boletos del carrito';\n      this.isLoading = true;\n      let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\n        return {\n          ticket: this.ticketsLoteria[key].ticket,\n          sorteo: this.ticketsLoteria[key].sorteo,\n        };\n      });\n      let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\n        return {\n          ticket: this.ticketsLotto[key].ticket,\n          sorteo: this.ticketsLotto[key].sorteo,\n        };\n      });\n      let boletosPozo = Object.keys(this.ticketsPozo).map((key) => {\n        return {\n          ticket: this.ticketsPozo[key].ticket,\n          sorteo: this.ticketsPozo[key].sorteo,\n        };\n      });\n      let reservaId = this.lotteryService.getReservaId();\n      /*       await this.lotteryService.eliminarTodosLosBoletosDeReserva(\n        this.token,\n        boletosLoteria,\n        boletosLotto,\n        boletosPozo,\n        reservaId\n      ); */\n      Object.keys(this.ticketsLotto).forEach((key) => {\n        if (this.ticketsDisponibles && this.ticketsDisponibles.length != 0) {\n          let deletedIndex = this.ticketsDisponibles.findIndex(\n            (x: any) => x.identificador == key\n          );\n          if (deletedIndex != -1)\n            this.ticketsDisponibles[deletedIndex].status = false;\n        }\n      });\n      await this.cart.borrarCarrito();\n      await this.getCarritoTickets();\n      //this.getTotal();\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  async getCarritoTickets() {\n    let carrito = await this.cart.buscarCarrito();\n    this.ticketsLoteria = carrito.loteria;\n    this.ticketsLotto = carrito.lotto;\n    this.ticketsMillonaria = carrito.millonaria;\n    this.ticketsPozo = carrito.pozo;\n  }\n  isError: boolean = false;\n  errorMessage?: string;\n  openError(msg: string) {\n    this.errorMessage = msg;\n    this.isError = true;\n  }\n\n  closeError() {\n    this.isError = false;\n  }\n  isValidationError: boolean = false;\n  validationErrorMessage?: string;\n  openValidationError(msg: string) {\n    this.validationErrorMessage = msg;\n    this.isValidationError = true;\n  }\n\n  closeValidationError() {\n    this.isValidationError = false;\n    this.validationErrorMessage = '';\n    window.location.reload();\n  }\n}\n","<ventas-menu-header></ventas-menu-header>\n\n<div class=\"contenedor_loteria\" *ngIf=\"showComponents\">\n  <div class=\"ventasBox\">\n    <app-detalle-sorteo\n      class=\"infoBox\"\n      titulo=\"La Millonaria\"\n      color=\"millonaria\"\n      [sorteos]=\"sorteo\"\n      [loteria]=\"5\"\n      (emitir)=\"procesaEmitir($event)\"\n    >\n    </app-detalle-sorteo>\n\n    <div class=\"contendor_seleccion\">\n      <div class=\"contenedor_select_animales\">\n        <h3>Selecciona tus series de la suerte</h3>\n        <div class=\"options\" *ngIf=\"seleccionSeries.length != 0\">\n          <div\n            class=\"option\"\n            *ngFor=\"let serie of seleccionSeries; let i = index\"\n          >\n            <input\n              (click)=\"agregar($event, serie, i)\"\n              type=\"checkbox\"\n              [checked]=\"serie.status\"\n              name=\"serie\"\n              [value]=\"serie\"\n              id=\"serie-{{ serie.serie }}\"\n            />\n            <label for=\"serie-{{ serie.serie }}\">\n              <p>{{ serie.serie }}</p>\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class=\"selectBox\">\n        <div class=\"contenedor_select\">\n          <h3>Cmo quieres comprar?</h3>\n          <select\n            class=\"select_option\"\n            name=\"\"\n            id=\"\"\n            [(ngModel)]=\"tipoSeleccion\"\n          >\n            <option class=\"option\" value=\"96\">Seleccin individual</option>\n            <option class=\"option\" value=\"5\">5 Boletos al azar</option>\n            <option class=\"option\" value=\"30\">30 Boletos al azar</option>\n            <option class=\"option\" value=\"50\">50 Boletos al azar</option>\n          </select>\n        </div>\n        <div class=\"numeros_suerte\">\n          <h3>Ingresa tu nmero de la suerte:</h3>\n          <div class=\"numeros\">\n            <input\n              #input1\n              [appAutoTab]=\"input2\"\n              type=\"text\"\n              maxlength=\"1\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              name=\"combinacionDeLaSuerte0\"\n              [(ngModel)]=\"combinacionDeLaSuerte[0]\"\n            />\n            <input\n              #input2\n              [appAutoTab]=\"input3\"\n              type=\"text\"\n              maxlength=\"1\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              name=\"combinacionDeLaSuerte1\"\n              [(ngModel)]=\"combinacionDeLaSuerte[1]\"\n            />\n            <input\n              #input3\n              [appAutoTab]=\"input4\"\n              type=\"text\"\n              maxlength=\"1\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              name=\"combinacionDeLaSuerte2\"\n              [(ngModel)]=\"combinacionDeLaSuerte[2]\"\n            />\n            <input\n              #input4\n              type=\"text\"\n              maxlength=\"1\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              name=\"combinacionDeLaSuerte3\"\n              [(ngModel)]=\"combinacionDeLaSuerte[3]\"\n            />\n          </div>\n        </div>\n        <button class=\"activado\" (click)=\"buscarNumero()\">\n          BUSCAR BOLETOS\n        </button>\n      </div>\n\n      <p class=\"tagItem\">\n        Si quieres cambiar tu nmero, ingrsalo nuevamente y haz click en\n        \"Buscar nmero\"\n      </p>\n\n      <div *ngIf=\"showNumeros\" class=\"contenedor_numeros_suerte\">\n        <table>\n          <tbody>\n            <tr\n              *ngFor=\"\n                let ticket of ticketsDisponibles\n                  | paginacion: page_size:page_number;\n                let i = index\n              \"\n            >\n              <!--   -->\n              <td>\n                <div class=\"tooltip\">\n                  <div class=\"contenedor_numeros\">\n                    <div class=\"combinationBox\">\n                      <!-- <p *ngFor=\"let numero of ticket.display\">{{ numero }}</p> -->\n                      <p>{{ ticket.combinacion1 }}</p>\n                      <div class=\"serieBox\">\n                        <p class=\"serieTitle\">Serie:</p>\n                        <p class=\"serieItem\">{{ ticket.combinacion2 }}</p>\n                      </div>\n                    </div>\n                    <hr />\n\n                    <div class=\"seleccionAll\">\n                      <p>Seleccionar todas las fracciones</p>\n                      <input\n                        (click)=\"\n                          seleccionarTodo(page_size * (page_number - 1) + i)\n                        \"\n                        style=\"\n                          position: relative;\n                          width: 20px;\n                          opacity: 1;\n                          margin-left: 5px;\n                        \"\n                        [(ngModel)]=\"\n                          allFractions![page_size! * (page_number! - 1) + i]\n                        \"\n                        type=\"checkbox\"\n                      />\n                    </div>\n                    <hr />\n                    <div class=\"contenedor_fracciones\">\n                      <div\n                        class=\"fracciones\"\n                        *ngFor=\"\n                          let item of ticket.fraccionesDisponibles;\n                          let j = index\n                        \"\n                      >\n                        <input\n                          (click)=\"\n                            fraccionSeleccionada(\n                              page_size * (page_number - 1) + i,\n                              item\n                            )\n                          \"\n                          [checked]=\"\n                            isSelected(page_size * (page_number - 1) + i, item)\n                          \"\n                          class=\"checkbox\"\n                          type=\"checkbox\"\n                          id=\"{{ ticket.identificador }}-{{ item }}\"\n                        />\n                        <label for=\"{{ ticket.identificador }}-{{ item }}\">{{\n                          item\n                        }}</label>\n                      </div>\n                    </div>\n                    <hr />\n                  </div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n          <hr size=\"2px\" color=\"gray\" style=\"width: 100%\" />\n        </table>\n        <div class=\"contenedor_botones\">\n          <mat-paginator\n            style-paginator\n            [length]=\"ticketsDisponibles.length\"\n            [pageSize]=\"page_size\"\n            (page)=\"handlerPage($event)\"\n          >\n          </mat-paginator>\n        </div>\n        <!-- {{ ticketsDisponibles | json }} -->\n      </div>\n\n      <!-- <div>\n      Page Actual: {{pageActual}}\n    </div> -->\n      <!-- \n    <div class=\"boton_boleto\">\n      <button (click)=\"abrirResumen()\">RESUMEN DE BOLETOS</button>\n\n    </div> -->\n    </div>\n  </div>\n\n  <app-carrito\n    class=\"ticketScroller\"\n    (emitirCompra)=\"comprar()\"\n    (eliminarTodo)=\"deleteAllTickets()\"\n    (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n    (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n    (deletePozoTicket)=\"deletePozoTicket($event)\"\n    (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\n    (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n    [ticketsLoteria]=\"ticketsLoteria\"\n    [ticketsMillonaria]=\"ticketsMillonaria\"\n    [ticketsLotto]=\"ticketsLotto\"\n    [ticketsPozo]=\"ticketsPozo\"\n    tipoLoteria=\"millonaria\"\n  >\n  </app-carrito>\n</div>\n<app-floating-menu\n  (emitirCompra)=\"comprar()\"\n  (eliminarTodo)=\"deleteAllTickets()\"\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\n  (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n  [ticketsLoteria]=\"ticketsLoteria\"\n  [ticketsLotto]=\"ticketsLotto\"\n  [ticketsPozo]=\"ticketsPozo\"\n  [ticketsMillonaria]=\"ticketsMillonaria\"\n  tipoLoteria=\"millonaria\"\n></app-floating-menu\n><!-- \n<app-floating-menu\n  (emitirCompra)=\"comprar()\"\n  (eliminarTodo)=\"deleteAllTickets()\"\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n  [ticketsLoteria]=\"ticketsLoteria\"\n  [ticketsLotto]=\"ticketsLotto\"\n  [ticketsPozo]=\"ticketsPozo\"\n  [total]=\"total\"\n  tipoLoteria=\"pozo\"\n></app-floating-menu> -->\n<app-loader\n  loader=\"millonaria\"\n  [message]=\"loadingMessage!\"\n  *ngIf=\"isLoading\"\n></app-loader>\n\n<app-error\n  [msg]=\"errorMessage!\"\n  (closeError)=\"closeError()\"\n  *ngIf=\"isError\"\n></app-error>\n<app-error\n  [msg]=\"validationErrorMessage!\"\n  (closeError)=\"closeValidationError()\"\n  *ngIf=\"isValidationError\"\n></app-error>\n<app-confirmacion-de-venta\n  (compraConfirmada)=\"confirmarCompra()\"\n  (compraCancelada)=\"cancelarCompra()\"\n  (comprarDespues)=\"dismissCompras()\"\n  [compra]=\"detalleCompra\"\n  class=\"paymentItem\"\n  *ngIf=\"confirmacionDeCompra\"\n></app-confirmacion-de-venta>\n<app-instantaneas\n  (close)=\"abrirFinalizar()\"\n  [resultados]=\"instantaneas\"\n  tipoLoteria=\"14\"\n  [isLoteriaNacional]=\"true\"\n  class=\"paymentItem\"\n  *ngIf=\"isInstantaneas\"\n></app-instantaneas>\n<app-venta-finalizada\n  (volver)=\"finalizarCompra()\"\n  [compra]=\"detalleCompra\"\n  class=\"paymentItem\"\n  *ngIf=\"compraFinalizada\"\n></app-venta-finalizada>\n<app-saldo-insuficiente\n  [message]=\"recargaDeSaldoMessage\"\n  (volver)=\"dismissCompras()\"\n  (recarga)=\"irARecarga()\"\n  class=\"paymentItem\"\n  *ngIf=\"saldoInsuficiente\"\n></app-saldo-insuficiente>\n<app-venta-cancelada\n  class=\"paymentItem\"\n  [message]=\"cancelMessage\"\n  *ngIf=\"compraCancelada\"\n></app-venta-cancelada>\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { PageEvent } from '@angular/material/paginator';\nimport {\n  sorteo,\n  ticketsNacional,\n  ticketsAnimales,\n  ticketsLotto,\n} from '../../interfaces/venta';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\n\nimport { VentaService as MillonariaService } from '../../../juegos/millonaria/services/venta.service';\nimport { VentasService } from '../../services/ventas.service';\nimport { PagosService } from '../..//services/pagos.service';\nimport { CarritoService } from '../../services/carrito.service';\n@Component({\n  selector: 'app-millonaria',\n  templateUrl: './millonaria.component.html',\n  styleUrls: ['./millonaria.component.scss'],\n})\nexport class MillonariaComponent implements OnInit {\n  combinacionDeLaSuerte: string[] = ['', '', '', ''];\n\n  seleccionSeries: any;\n  seriesTabs: any = [];\n\n  page_size: number = 9;\n  page_number: number = 1;\n  showNumeros: boolean = false;\n  sorteo?: sorteo[];\n  ticketsDisponibles?: any;\n  allFractions?: boolean[];\n  pageSizeOptions?: [5, 10, 20, 100];\n  token?: string;\n  usuario?: string;\n  seriesReady: boolean = false;\n  constructor(\n    private lotteryService: VentasService,\n    private actRoute: ActivatedRoute,\n    private paymentService: PagosService,\n    private cart: CarritoService,\n    private millonaria: MillonariaService,\n\n    private router: Router,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {\n    this.actRoute.params.subscribe((params) => {\n      this.token = params['token'];\n    });\n  }\n  total?: string;\n  getTotal() {\n    this.changeDetectorRef.detectChanges();\n\n    this.total = this.cart.getTotal();\n    this.changeDetectorRef.markForCheck();\n  }\n\n  agregar(event: any, serie: any, i: number) {\n    if (this.seleccionSeries[i].status === false) {\n      if (this.seriesTabs.length < 4) {\n        this.seleccionSeries[i].status = true;\n        this.seriesTabs.push(this.seleccionSeries[i]);\n      } else {\n        event.preventDefault();\n        this.openError('Solo puedes seleccionar un mximo de 4 series.');\n        this.changeDetectorRef.detectChanges();\n        this.seleccionSeries[i].status = false;\n        this.changeDetectorRef.markForCheck();\n      }\n    } else {\n      this.seleccionSeries[i].status = false;\n      this.seriesTabs = this.seriesTabs.filter((element: any) => {\n        return element.serie !== serie.serie;\n      });\n    }\n    localStorage.setItem(\n      'seriesSeleccionadas',\n      JSON.stringify(this.seleccionSeries)\n    );\n  }\n\n  async fraccionSeleccionada(idTicket: number, fraccion: string) {\n    try {\n      this.changeDetectorRef.detectChanges();\n      if (this.allFractions![idTicket]) this.allFractions![idTicket] = false;\n      this.changeDetectorRef.markForCheck();\n      let index =\n        this.ticketsDisponibles[idTicket].seleccionados.indexOf(fraccion);\n\n      if (index != -1) {\n        let identificador = this.ticketsDisponibles[idTicket].identificador;\n        let ticketMillonaria = this.ticketsMillonaria[identificador];\n        let aux = {\n          ticket: ticketMillonaria,\n          fraccion,\n        };\n        await this.deleteMillonariaFraccion(aux);\n        this.changeDetectorRef.detectChanges();\n        //this.ticketsDisponibles[idTicket].seleccionados.pop();\n        this.ticketsDisponibles[idTicket].seleccionados.splice(index, 1);\n        this.changeDetectorRef.markForCheck();\n      } else {\n        let count = (await this.cart.getCount()) + 1;\n        this.changeDetectorRef.detectChanges();\n        this.ticketsDisponibles[idTicket].seleccionados.push(fraccion);\n        this.changeDetectorRef.markForCheck();\n        if (count <= 1000) {\n          await this.pushToSeleccionado(this.ticketsDisponibles[idTicket], [\n            fraccion,\n          ]);\n        } else {\n          this.changeDetectorRef.detectChanges();\n          this.ticketsDisponibles[idTicket].seleccionados.pop();\n          this.changeDetectorRef.markForCheck();\n\n          let errorMessage =\n            'Incluir el boleto excede el lmite de compra. Si quieres escoger este boleto, por favor elimina algn otro de tu carrito.';\n          this.openError(errorMessage);\n        }\n      }\n      await this.setDescuento(1);\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async remover(serie: string) {\n    this.seriesTabs = this.seriesTabs.filter((element: any) => {\n      return element.nombre !== serie;\n    });\n\n    this.seleccionSeries = this.seleccionSeries.map((element: any) => {\n      if (element.nombre === serie) {\n        element.status = false;\n      }\n      return element;\n    });\n\n    await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\n  }\n\n  ticketsMillonaria: any = {};\n\n  async seleccionarTodo(id: number) {\n    try {\n      this.changeDetectorRef.detectChanges();\n      this.allFractions![id] = !this.allFractions![id];\n      this.changeDetectorRef.markForCheck();\n      //      let fracciones = [...this.ticketsDisponibles[id].fraccionesDisponibles];\n      let fracciones = [\n        ...this.ticketsDisponibles[id].fraccionesDisponibles.filter(\n          (x: any) => !this.ticketsDisponibles[id].seleccionados.includes(x)\n        ),\n      ];\n      if (this.allFractions![id]) {\n        let count =\n          (await this.cart.getCount()) +\n          (fracciones.length -\n            this.ticketsDisponibles[id].seleccionados.length);\n        if (count <= 1000) {\n          this.ticketsDisponibles[id].seleccionados =\n            this.ticketsDisponibles[id].seleccionados.concat(fracciones);\n          await this.pushToSeleccionado(\n            this.ticketsDisponibles[id],\n            fracciones\n          );\n        } else {\n          this.changeDetectorRef.detectChanges();\n          this.allFractions![id] = false;\n          this.changeDetectorRef.markForCheck();\n          let errorMessage =\n            'Incluir los boletos excede el lmite de compra. Si quieres escoger estos boletos, por favor elimina algunos de tu carrito.';\n          this.openError(errorMessage);\n        }\n      } else {\n        let identificador = this.ticketsDisponibles[id].identificador;\n        await this.deleteLoteriaTicket(this.ticketsLoteria[identificador]);\n        this.ticketsDisponibles[id].seleccionados = [];\n      }\n      await this.setDescuento(1);\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  async pushToSeleccionado(ticket: any, fracciones: any) {\n    try {\n      this.loadingMessage = 'Agregando boleto al carrito';\n      this.isLoading = true;\n\n      await this.getCarritoTickets();\n      let subtotalTest =\n        parseFloat(this.sorteoSeleccionado!.precio) * fracciones.length;\n      let subtotal =\n        parseFloat(this.sorteoSeleccionado!.precio) *\n        ticket.seleccionados.length;\n      let aux = {\n        ticket,\n        fracciones,\n        sorteo: this.sorteoSeleccionado,\n        subtotal,\n      };\n      let hasBalance = await this.paymentService.hasBalance(\n        subtotalTest,\n        this.token\n      );\n      if (hasBalance) {\n        this.ticketsMillonaria[ticket.identificador] = aux;\n        let reservaId = this.cart.getReservaId();\n        let response = await this.lotteryService.reservarBoletos(\n          this.token!,\n          aux,\n          14,\n          reservaId\n        );\n        this.cart.setReservaId(response);\n\n        await this.cart.setCarrito(aux, 14);\n        await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\n        await this.getCarritoTickets();\n\n        //this.getTotal();\n\n        this.isLoading = false;\n      } else {\n        this.isLoading = false;\n        let message =\n          'Tu saldo es insuficiente para agregar este boleto al carrito';\n        var idTicket = this.ticketsDisponibles.findIndex(\n          (p: any) => p.identificador == ticket.identificador\n        );\n        this.ticketsDisponibles[idTicket].seleccionados =\n          this.ticketsDisponibles[idTicket].seleccionados.filter(\n            (el: any) => !fracciones.includes(el)\n          );\n        this.allFractions![idTicket] = false;\n\n        this.recargarSaldo(message);\n      }\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  isSelected(idTicket: number, idFraccion: string) {\n    let ticket = this.ticketsDisponibles[idTicket];\n    if (ticket.seleccionados.indexOf(idFraccion) != -1) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  handlerPage(e: PageEvent) {\n    this.page_size = e.pageSize;\n    this.page_number = e.pageIndex + 1;\n  }\n\n  ordenaCombinacion(a: any, b: any) {\n    return a - b;\n  }\n\n  async buscarNumero() {\n    try {\n      this.loadingMessage = 'Buscando combinaciones disponibles';\n      this.isLoading = true;\n      this.showNumeros = false;\n      let combinacion = this.combinacionDeLaSuerte.map((element: any) => {\n        element = element.toString();\n        if (element == null || element == undefined || element == '') {\n          return '_';\n        } else {\n          return element;\n        }\n      });\n      let combinacionFigura = this.seriesTabs.map((serie: any) => {\n        return serie.serie;\n      });\n      combinacionFigura.sort(this.ordenaCombinacion);\n\n      let authData = this.lotteryService.getAuthData();\n      this.ticketsDisponibles = await this.millonaria.obtenerTickets(\n        this.sorteoSeleccionado!.sorteo,\n        combinacion.join(''),\n        combinacionFigura.join(''),\n        this.tipoSeleccion,\n        authData\n      );\n\n      this.allFractions = [];\n      this.ticketsDisponibles.forEach((ticket: any) => {\n        this.allFractions!.push(false);\n      });\n\n      this.seleccionSeries = await this.millonaria.obtenerSeries(\n        this.sorteoSeleccionado!.sorteo,\n        authData\n      );\n      this.seriesTabs = [];\n      this.combinacionDeLaSuerte = ['', '', '', ''];\n      this.showNumeros = true;\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  tipoSeleccion: number = 96;\n\n  sorteoSeleccionado?: sorteo;\n  async procesaEmitir(sorteo: any) {\n    this.loadingMessage = 'Cargando la informacin del sorteo';\n    this.isLoading = true;\n    this.sorteoSeleccionado = sorteo;\n    this.showNumeros = false;\n    this.seleccionSeries = [];\n    this.seriesTabs = [];\n    let authData = this.lotteryService.getAuthData();\n    this.seleccionSeries = await this.millonaria.obtenerSeries(\n      this.sorteoSeleccionado!.sorteo,\n      authData\n    );\n    this.isLoading = false;\n  }\n\n  showComponents: boolean = false;\n  isLoading?: boolean;\n  loadingMessage?: string;\n\n  abrirResumen() {\n    this.router.navigate([`compra_tus_juegos/resumen/${this.token}`]);\n  }\n\n  confirmacionDeCompra: boolean = false;\n  compraFinalizada: boolean = false;\n  saldoInsuficiente: boolean = false;\n  compraCancelada: boolean = false;\n\n  cancelMessage: string = '';\n\n  dismissCompras() {\n    this.confirmacionDeCompra = false;\n    this.compraFinalizada = false;\n    this.saldoInsuficiente = false;\n    this.compraCancelada = false;\n  }\n  volver() {\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n  }\n\n  detalleCompra: any;\n  comprar() {\n    this.dismissCompras();\n\n    let loteriaAux = this.ticketsLoteria;\n    let loteria = [];\n    for (let id in loteriaAux) {\n      let aux: any = {};\n      aux['combinacion1'] = loteriaAux[id].ticket.combinacion;\n      aux['fracciones'] = loteriaAux[id].ticket.seleccionados;\n      aux['subtotal'] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(\n        loteriaAux[id].subtotalConDesc\n      ).toFixed(2);\n      aux['tieneDescuento'] = loteriaAux[id].tieneDescuento;\n      aux['fecha'] = loteriaAux[id].sorteo.fecha;\n      aux['sorteo'] = loteriaAux[id].sorteo.sorteo;\n      loteria.push(aux);\n    }\n    let lottoAux = this.ticketsLotto;\n    let lotto = [];\n    for (let id in lottoAux) {\n      let aux: any = {};\n      aux['combinacion1'] = lottoAux[id].ticket.combinacion1;\n      aux['combinacion2'] = lottoAux[id].ticket.combinacion2;\n      aux['combinacion3'] = lottoAux[id].ticket.combinacion3;\n      aux['combinacion4'] = lottoAux[id].ticket.combinacion4;\n      aux['sorteo'] = lottoAux[id].sorteo.sorteo;\n      aux['subtotal'] = parseFloat(lottoAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(lottoAux[id].subtotalConDesc).toFixed(\n        2\n      );\n      aux['tieneDescuento'] = lottoAux[id].tieneDescuento;\n      aux['fecha'] = lottoAux[id].sorteo.fecha;\n      lotto.push(aux);\n    }\n    let pozoAux = this.ticketsPozo;\n    let pozo = [];\n    for (let id in pozoAux) {\n      let aux: any = {};\n      aux['combinacion1'] = pozoAux[id].ticket.combinacion1;\n      aux['combinacion2'] = pozoAux[id].ticket.combinacion2;\n      aux['mascota'] = pozoAux[id].ticket.mascota;\n      aux['sorteo'] = pozoAux[id].sorteo.sorteo;\n      aux['subtotal'] = parseFloat(pozoAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(pozoAux[id].subtotalConDesc).toFixed(\n        2\n      );\n      aux['tieneDescuento'] = pozoAux[id].tieneDescuento;\n      aux['fecha'] = pozoAux[id].sorteo.fecha;\n      pozo.push(aux);\n    }\n    let millonariaAux = this.ticketsMillonaria;\n    let millonaria = [];\n    for (let id in millonariaAux) {\n      let aux: any = {};\n      aux['combinacion1'] = millonariaAux[id].ticket.combinacion1;\n      aux['combinacion2'] = millonariaAux[id].ticket.combinacion2;\n      aux['fracciones'] = millonariaAux[id].ticket.seleccionados;\n      aux['subtotal'] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(\n        millonariaAux[id].subtotalConDesc\n      ).toFixed(2);\n      aux['tieneDescuento'] = millonariaAux[id].tieneDescuento;\n      aux['fecha'] = millonariaAux[id].sorteo.fecha;\n      aux['sorteo'] = millonariaAux[id].sorteo.sorteo;\n      millonaria.push(aux);\n    }\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\n\n    this.detalleCompra = {\n      loteria,\n      millonaria,\n      lotto,\n      pozo,\n      amount,\n      amountConDesc,\n    };\n\n    this.confirmacionDeCompra = true;\n  }\n\n  instantaneas: any;\n  isInstantaneas: boolean = false;\n  finalizarCompra() {\n    this.paymentService.finalizarCompra();\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n  }\n  async confirmarCompra() {\n    try {\n      this.isLoading = true;\n      this.loadingMessage = 'Espera mientras procesamos tu compra';\n      let hasBalance = await this.paymentService.hasBalance(0, this.token);\n\n      if (hasBalance) {\n        let reservaId = this.lotteryService.getReservaId();\n        let cartValidation = await this.cart.validarCarrito(reservaId);\n        if (cartValidation.status) {\n          let response = await this.paymentService.confirmarCompra(\n            this.token,\n            reservaId\n          );\n          this.isLoading = false;\n          if (response.status) {\n            if (response.instantanea.status) {\n              this.dismissCompras();\n              this.instantaneas = response.instantanea.data;\n              this.isInstantaneas = true;\n            } else {\n              this.instantaneas = '';\n              this.abrirFinalizar();\n            }\n          } else {\n            this.cancelarCompra();\n          }\n        } else {\n          this.openValidationError(cartValidation.message);\n        }\n        this.isLoading = false;\n      } else {\n        this.isLoading = false;\n        let message = 'Tu saldo es insuficiente para realizar la compra';\n        this.recargarSaldo(message);\n      }\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async abrirFinalizar() {\n    this.dismissCompras();\n    await this.cart.borrarCarrito();\n    this.compraFinalizada = true;\n  }\n  cancelarCompra() {\n    this.dismissCompras();\n    this.compraCancelada = true;\n  }\n  irARecarga() {}\n\n  recargaDeSaldoMessage?: string;\n  recargarSaldo(message: any) {\n    this.recargaDeSaldoMessage = message;\n    this.dismissCompras();\n    this.saldoInsuficiente = true;\n  }\n  ticketsLoteria: any = {};\n  ticketsPozo: any = {};\n  ticketsLotto: any = {};\n  descuentos: any;\n  async ngOnInit() {\n    try {\n      this.isLoading = true;\n\n      if (this.token) {\n        let data = await this.lotteryService.authUser(this.token);\n      }\n      await this.getCarritoTickets();\n      //this.getTotal();\n\n      //TODO: Preguntar como quiere que venga la variable tabs, si llena o no\n      let authData = this.lotteryService.getAuthData();\n      this.sorteo = await this.millonaria.obtenerSorteo(authData);\n      this.seleccionSeries = [];\n      this.seleccionSeries = await this.millonaria.obtenerSeries(\n        this.sorteo[0].sorteo,\n        authData\n      );\n      this.seleccionSeries.forEach((element: any) => {\n        this.seriesTabs.forEach((elemento: any) => {\n          if (elemento.nombre === element.nombre) {\n            element.status = elemento.status;\n          }\n        });\n      });\n      localStorage.setItem(\n        'seriesSeleccionadas',\n        JSON.stringify(this.seleccionSeries)\n      );\n      this.descuentos = await this.lotteryService.obtenerDescuentos();\n      this.isLoading = false;\n\n      this.showComponents = true;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  async setDescuento(tipoLoteria: any) {\n    return;\n    let descuentos = this.descuentos.filter(\n      (element: any) => parseInt(element.tipoLoteria) == tipoLoteria\n    );\n    for (let index = 0; index < descuentos.length; index++) {\n      const element = descuentos[index];\n      let conteo = await this.cart.contarBoletos(element.sorteo, tipoLoteria);\n      if (conteo >= parseInt(element.cantidad)) {\n        await this.cart.calcularDescuento(element);\n      } else {\n        await this.cart.eliminarDescuento(element, tipoLoteria);\n      }\n      await this.getCarritoTickets();\n    }\n    await this.cart.setTotalConDesc();\n  }\n  async deleteLoteriaTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fracciones = data.ticket.seleccionados;\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let ticket = this.ticketsLoteria[identificador].ticket;\n      let sorteo = data.sorteo;\n\n      let reservaId = this.lotteryService.getReservaId();\n      if (fracciones.length != 0) {\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\n          this.token,\n          ticket,\n          sorteo,\n          fracciones,\n          1,\n          reservaId\n        );\n      }\n      delete this.ticketsLoteria[identificador];\n\n      await this.cart.removeFromCart(ticket, 14);\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\n\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(1);\n\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteLottoTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fraccion = '';\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let ticket = this.ticketsLotto[identificador].ticket;\n      let sorteo = data.sorteo;\n\n      let reservaId = this.lotteryService.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        fraccion,\n        2,\n        reservaId\n      );\n\n      delete this.ticketsLotto[identificador];\n\n      await this.cart.removeFromCart(ticket, 2);\n      await this.cart.setCarritoLotto(this.ticketsLotto);\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(2);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  async deleteLoteriaFraccion(data: any) {\n    try {\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let identificador = data.ticket.ticket.identificador;\n      let ticket = data.ticket.ticket;\n      let sorteo = data.ticket.sorteo;\n      let fraccion = data.fraccion;\n\n      let reservaId = this.cart.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        [fraccion],\n        1,\n        reservaId\n      );\n      let index = this.ticketsLoteria[\n        identificador\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\n      this.ticketsLoteria[identificador].ticket.seleccionados.splice(index, 1);\n      if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\n        delete this.ticketsLoteria[identificador];\n      }\n\n      await this.cart.removeFromCart(ticket, 1);\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(1);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteMillonariaFraccion(data: any) {\n    try {\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      await this.getCarritoTickets();\n      let identificador = data.ticket.ticket.identificador;\n      let ticket = data.ticket.ticket;\n      let sorteo = data.ticket.sorteo;\n      let fraccion = data.fraccion;\n\n      let reservaId = this.cart.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        [fraccion],\n        14,\n        reservaId\n      );\n      let indexA = this.ticketsMillonaria[\n        identificador\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\n      this.ticketsMillonaria[identificador].ticket.seleccionados.splice(\n        indexA,\n        1\n      );\n      let indexB = this.ticketsMillonaria[identificador].fracciones.findIndex(\n        (x: any) => x == fraccion\n      );\n      this.ticketsMillonaria[identificador].fracciones.splice(indexB, 1);\n      if (\n        this.ticketsMillonaria[identificador].ticket.seleccionados.length == 0\n      ) {\n        await this.cart.removeFromCart(\n          this.ticketsMillonaria[identificador],\n          1\n        );\n        delete this.ticketsMillonaria[identificador];\n      } else {\n        await this.cart.setCarrito(this.ticketsMillonaria[identificador], 1);\n        this.ticketsMillonaria[identificador].subtotal -= parseFloat(\n          sorteo.precio\n        );\n      }\n\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\n      //this.getTotal();\n\n      await this.setDescuento(14);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteMillonariaTicket(data: any) {\n    try {\n      await this.getCarritoTickets();\n\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let identificador = data.ticket.identificador;\n      let fracciones = data.ticket.seleccionados;\n      let ticket = this.ticketsMillonaria[identificador].ticket;\n      let sorteo = this.ticketsMillonaria[identificador].sorteo;\n      let reservaId = this.lotteryService.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        fracciones,\n        14,\n        reservaId\n      );\n\n      delete this.ticketsMillonaria[identificador];\n\n      await this.cart.removeFromCart(ticket, 14);\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\n      if (this.ticketsDisponibles && this.ticketsDisponibles.length) {\n        let deletedIndex = this.ticketsDisponibles.findIndex(\n          (x: any) => x.identificador === identificador\n        );\n        if (deletedIndex != -1)\n          this.ticketsDisponibles[deletedIndex].status = false;\n      }\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(14);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deletePozoTicket(data: any) {\n    try {\n      await this.getCarritoTickets();\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let identificador = data.ticket.identificador;\n      let fraccion = '';\n      let ticket = this.ticketsPozo[identificador].ticket;\n      let sorteo = data.sorteo;\n      let reservaId = this.cart.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        fraccion,\n        5,\n        reservaId\n      );\n\n      delete this.ticketsPozo[identificador];\n\n      await this.cart.removeFromCart(ticket, 5);\n      await this.cart.setCarritoPozo(this.ticketsPozo);\n      //this.getTotal();\n\n      await this.setDescuento(5);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteAllTickets() {\n    try {\n      this.loadingMessage = 'Removiendo boletos del carrito';\n      this.isLoading = true;\n      let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\n        return {\n          ticket: this.ticketsLoteria[key].ticket,\n          sorteo: this.ticketsLoteria[key].sorteo,\n        };\n      });\n      let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\n        return {\n          ticket: this.ticketsLotto[key].ticket,\n          sorteo: this.ticketsLotto[key].sorteo,\n        };\n      });\n      let boletosMillonaria = Object.keys(this.ticketsMillonaria).map((key) => {\n        return {\n          ticket: this.ticketsMillonaria[key].ticket,\n          sorteo: this.ticketsMillonaria[key].sorteo,\n        };\n      });\n      let reservaId = this.lotteryService.getReservaId();\n      /*       await this.lotteryService.eliminarTodosLosBoletosDeReserva(\n        this.token,\n        boletosLoteria,\n        boletosLotto,\n        boletosMillonaria,\n        reservaId\n      ); */\n      Object.keys(this.ticketsMillonaria).forEach((key) => {\n        if (this.ticketsDisponibles && this.ticketsDisponibles.length != 0) {\n          let deletedIndex = this.ticketsDisponibles.findIndex(\n            (x: any) => x.identificador == key\n          );\n          if (deletedIndex != -1)\n            this.ticketsDisponibles[deletedIndex].status = false;\n        }\n      });\n      await this.cart.borrarCarrito();\n      await this.getCarritoTickets();\n      //this.getTotal();\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  async getCarritoTickets() {\n    let carrito = await this.cart.buscarCarrito();\n    this.ticketsLoteria = carrito.loteria;\n    this.ticketsLotto = carrito.lotto;\n    this.ticketsMillonaria = carrito.millonaria;\n    this.ticketsPozo = carrito.pozo;\n  }\n\n  isError: boolean = false;\n  errorMessage?: string;\n  openError(msg: any) {\n    this.errorMessage = msg;\n    this.isError = true;\n  }\n\n  closeError() {\n    this.isError = false;\n  }\n\n  isValidationError: boolean = false;\n  validationErrorMessage?: string;\n  openValidationError(msg: any) {\n    this.validationErrorMessage = msg;\n    this.isValidationError = true;\n  }\n\n  closeValidationError() {\n    this.isValidationError = false;\n    this.validationErrorMessage = '';\n    window.location.reload();\n  }\n}\n","<ventas-menu-header></ventas-menu-header>\n\n<div class=\"contenedor_loteria\" *ngIf=\"showComponents\">\n  <div class=\"ventasBox\">\n    <app-detalle-sorteo\n      class=\"infoBox\"\n      titulo=\"Pozo Millonario\"\n      color=\"pozo\"\n      [sorteos]=\"sorteo\"\n      [loteria]=\"5\"\n      (emitir)=\"procesaEmitir($event)\"\n    >\n    </app-detalle-sorteo>\n\n    <div class=\"contendor_seleccion\">\n      <div class=\"contenedor_select_animales\">\n        <h3>Selecciona tus mascotas de la suerte</h3>\n        <div class=\"options\">\n          <div\n            class=\"option\"\n            *ngFor=\"let animal of seleccionAnimales; let i = index\"\n          >\n            <input\n              (click)=\"agregar(animal, i)\"\n              type=\"checkbox\"\n              [checked]=\"animal.status\"\n              name=\"nombre\"\n              [value]=\"animal\"\n              id=\"nombre-{{ animal.nombre }}\"\n            />\n            <label for=\"nombre-{{ animal.nombre }}\">\n              <img [src]=\"animal.ruta\" [alt]=\"animal.nombre\" />\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class=\"selectBox\">\n        <div class=\"contenedor_select\">\n          <h3>Cmo quieres comprar?</h3>\n          <select\n            class=\"select_option\"\n            name=\"\"\n            id=\"\"\n            [(ngModel)]=\"tipoSeleccion\"\n          >\n            <option class=\"option\" value=\"96\">Seleccin individual</option>\n            <option class=\"option\" value=\"5\">5 Boletos al azar</option>\n            <option class=\"option\" value=\"30\">30 Boletos al azar</option>\n            <option class=\"option\" value=\"50\">50 Boletos al azar</option>\n          </select>\n        </div>\n        <div class=\"numeros_suerte\">\n          <h3>\n            Ingresa tu nmero de la suerte:\n          </h3>\n\n          <div class=\"numeros\">\n            <input\n              type=\"text\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              maxlength=\"2\"\n              name=\"\"\n              (input)=\"validate()\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              [(ngModel)]=\"combinacionDeLaSuerte[0]\"\n            />\n            <input\n              type=\"text\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              maxlength=\"2\"\n              name=\"\"\n              (input)=\"validate()\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              [(ngModel)]=\"combinacionDeLaSuerte[1]\"\n            />\n            <input\n              type=\"text\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              maxlength=\"2\"\n              name=\"\"\n              (input)=\"validate()\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              [(ngModel)]=\"combinacionDeLaSuerte[2]\"\n            />\n            <input\n              type=\"text\"\n              inputmode=\"numeric\"\n              pattern=\"[0-9]*\"\n              maxlength=\"2\"\n              name=\"\"\n              (input)=\"validate()\"\n              onInput=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n              [(ngModel)]=\"combinacionDeLaSuerte[3]\"\n            />\n          </div>\n          <div class=\"errorTag\" *ngIf=\"over25Error\">\n            {{ over25ErrorTag }}\n          </div>\n        </div>\n        <button class=\"activado\" (click)=\"buscarNumero()\">\n          BUSCAR CARTONES\n        </button>\n      </div>\n\n      <p class=\"tagItem\">\n        Si quieres cambiar tu cartn, ingresa los nmeros nuevamente y haz click\n        en \"Buscar cartones\".\n      </p>\n      <div *ngIf=\"showNumeros\" class=\"contenedor_numeros_suerte\">\n        <table *ngIf=\"showNumeros\">\n          <tbody>\n            <tr\n              *ngFor=\"\n                let ticket of ticketsDisponibles\n                  | paginacion: page_size:page_number;\n                let i = index\n              \"\n            >\n              <td>\n                <input\n                  type=\"checkbox\"\n                  name=\"\"\n                  id=\"\"\n                  [checked]=\"ticket.status\"\n                  (click)=\"seleccionarTicket(page_size * (page_number - 1) + i)\"\n                />\n                <div class=\"contenedor_seleccion_numero\">\n                  <div class=\"imagen_animal\">\n                    <img [src]=\"obtenerAnimal(ticket.mascota)\" alt=\"\" />\n                  </div>\n                  <div class=\"numeros\">\n                    <p *ngFor=\"let numero of ticket.display\">{{ numero }}</p>\n                  </div>\n                </div>\n                <!-- <app-seleccion-pozo [tickets]=\"ticketMascota\"></app-seleccion-pozo> -->\n              </td>\n            </tr>\n          </tbody>\n          <hr size=\"2px\" color=\"gray\" />\n        </table>\n\n        <div class=\"contenedor_botones\">\n          <!-- showFirstLastButtons -->\n          <mat-paginator\n            style-paginator\n            [length]=\"ticketsDisponibles.length\"\n            [pageSize]=\"page_size\"\n            (page)=\"handlerPage($event)\"\n          >\n          </mat-paginator>\n        </div>\n      </div>\n\n      <!-- <div>\n      Page Actual: {{pageActual}}\n    </div> -->\n      <!-- \n    <div class=\"boton_boleto\">\n      <button (click)=\"abrirResumen()\">RESUMEN DE BOLETOS</button>\n\n    </div> -->\n    </div>\n  </div>\n\n  <app-carrito\n    class=\"ticketScroller\"\n    (emitirCompra)=\"comprar()\"\n    (eliminarTodo)=\"deleteAllTickets()\"\n    (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n    (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n    (deletePozoTicket)=\"deletePozoTicket($event)\"\n    (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\n    (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n    [ticketsLoteria]=\"ticketsLoteria\"\n    [ticketsMillonaria]=\"ticketsMillonaria\"\n    [ticketsLotto]=\"ticketsLotto\"\n    [ticketsPozo]=\"ticketsPozo\"\n    tipoLoteria=\"pozo\"\n  >\n  </app-carrito>\n</div>\n<app-floating-menu\n  (emitirCompra)=\"comprar()\"\n  (eliminarTodo)=\"deleteAllTickets()\"\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n  (deleteMillonariaTicket)=\"deleteMillonariaTicket($event)\"\n  [ticketsLoteria]=\"ticketsLoteria\"\n  [ticketsLotto]=\"ticketsLotto\"\n  [ticketsPozo]=\"ticketsPozo\"\n  [ticketsMillonaria]=\"ticketsMillonaria\"\n  tipoLoteria=\"pozo\"\n></app-floating-menu\n><!-- \n<app-floating-menu\n  (emitirCompra)=\"comprar()\"\n  (eliminarTodo)=\"deleteAllTickets()\"\n  (deleteLoteriaTicket)=\"deleteLoteriaTicket($event)\"\n  (deleteLottoTicket)=\"deleteLottoTicket($event)\"\n  (deletePozoTicket)=\"deletePozoTicket($event)\"\n  (deleteLoteriaFraccion)=\"deleteLoteriaFraccion($event)\"\n  [ticketsLoteria]=\"ticketsLoteria\"\n  [ticketsLotto]=\"ticketsLotto\"\n  [ticketsPozo]=\"ticketsPozo\"\n  [total]=\"total\"\n  tipoLoteria=\"pozo\"\n></app-floating-menu> -->\n<app-loader\n  loader=\"pozo\"\n  [message]=\"loadingMessage!\"\n  *ngIf=\"isLoading\"\n></app-loader>\n\n<app-error\n  [msg]=\"errorMessage!\"\n  (closeError)=\"closeError()\"\n  *ngIf=\"isError\"\n></app-error>\n<app-error\n  [msg]=\"validationErrorMessage!\"\n  (closeError)=\"closeValidationError()\"\n  *ngIf=\"isValidationError\"\n></app-error>\n<app-confirmacion-de-venta\n  (compraConfirmada)=\"confirmarCompra()\"\n  (compraCancelada)=\"cancelarCompra()\"\n  (comprarDespues)=\"dismissCompras()\"\n  [compra]=\"detalleCompra\"\n  class=\"paymentItem\"\n  *ngIf=\"confirmacionDeCompra\"\n></app-confirmacion-de-venta>\n<app-instantaneas\n  (close)=\"abrirFinalizar()\"\n  [resultados]=\"instantaneas\"\n  tipoLoteria=\"5\"\n  [isLoteriaNacional]=\"true\"\n  class=\"paymentItem\"\n  *ngIf=\"isInstantaneas\"\n></app-instantaneas>\n<app-venta-finalizada\n  (volver)=\"finalizarCompra()\"\n  [compra]=\"detalleCompra\"\n  class=\"paymentItem\"\n  *ngIf=\"compraFinalizada\"\n></app-venta-finalizada>\n<app-saldo-insuficiente\n  [message]=\"recargaDeSaldoMessage\"\n  (volver)=\"dismissCompras()\"\n  (recarga)=\"irARecarga()\"\n  class=\"paymentItem\"\n  *ngIf=\"saldoInsuficiente\"\n></app-saldo-insuficiente>\n<app-venta-cancelada\n  class=\"paymentItem\"\n  [message]=\"cancelMessage\"\n  *ngIf=\"compraCancelada\"\n></app-venta-cancelada>\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { PageEvent } from '@angular/material/paginator';\nimport {\n  sorteo,\n  ticketsNacional,\n  ticketsAnimales,\n  ticketsLotto,\n  animales,\n} from '../../interfaces/venta';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\n\nimport { VentaService as PozoService } from '../../../juegos/pozo/services/venta.service';\nimport { VentasService } from '../../services/ventas.service';\nimport { PagosService } from '../..//services/pagos.service';\nimport { CarritoService } from '../../services/carrito.service';\n@Component({\n  selector: 'app-pozo',\n  templateUrl: './pozo.component.html',\n  styleUrls: ['./pozo.component.scss'],\n})\nexport class PozoComponent implements OnInit {\n  combinacionDeLaSuerte: string[] = ['', '', '', ''];\n\n  animalesTabs: animales[] = [];\n\n  page_size: number = 12;\n  page_number: number = 1;\n  showNumeros: boolean = false;\n  sorteo?: sorteo[];\n  seleccionAnimales?: animales[];\n  ticketsDisponibles?: any;\n  pageSizeOptions?: [5, 10, 20, 100];\n  token?: string;\n  usuario?: string;\n  ticketsMillonaria: any;\n  constructor(\n    private lotteryService: VentasService,\n    private actRoute: ActivatedRoute,\n    private paymentService: PagosService,\n    private cart: CarritoService,\n    private pozo: PozoService,\n\n    private router: Router,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {\n    this.actRoute.params.subscribe((params) => {\n      this.token = params['token'];\n    });\n  }\n  total?: string;\n  getTotal() {\n    this.changeDetectorRef.detectChanges();\n\n    this.total = this.cart.getTotal();\n    this.changeDetectorRef.markForCheck();\n  }\n\n  agregar(animal: animales, i: number) {\n    if (this.seleccionAnimales![i].status === false) {\n      this.seleccionAnimales![i].status = true;\n      this.animalesTabs.push(this.seleccionAnimales![i]);\n    } else {\n      this.seleccionAnimales![i].status = false;\n      this.animalesTabs = this.animalesTabs.filter((element) => {\n        return element.nombre !== animal.nombre;\n      });\n    }\n    localStorage.setItem(\n      'animalesSeleccionados',\n      JSON.stringify(this.seleccionAnimales)\n    );\n    localStorage.setItem('animalesTabs', JSON.stringify(this.animalesTabs));\n  }\n\n  async remover(animal: string) {\n    this.animalesTabs = this.animalesTabs.filter((element) => {\n      return element.nombre !== animal;\n    });\n\n    this.seleccionAnimales = this.seleccionAnimales!.map((element) => {\n      if (element.nombre === animal) {\n        element.status = false;\n      }\n      return element;\n    });\n\n    await this.cart.setCarritoPozo(this.ticketsPozo);\n\n    localStorage.setItem('animalesTabs', JSON.stringify(this.animalesTabs));\n  }\n\n  async seleccionarTicket(id: any) {\n    try {\n      this.changeDetectorRef.detectChanges();\n      this.ticketsDisponibles![id].status =\n        !this.ticketsDisponibles![id].status;\n      this.changeDetectorRef.markForCheck();\n      if (!this.ticketsDisponibles![id].status) {\n        let identificador = this.ticketsDisponibles![id].identificador;\n        let ticketPozo = this.ticketsPozo[identificador];\n        await this.deletePozoTicket(ticketPozo);\n      } else {\n        let count = (await this.cart.getCount()) + 1;\n        if (count <= 1000) {\n          await this.pushToSeleccionado(this.ticketsDisponibles![id]);\n        } else {\n          this.changeDetectorRef.detectChanges();\n          this.ticketsDisponibles![id].status = false;\n          this.changeDetectorRef.markForCheck();\n          let errorMessage =\n            'Incluir el boleto excede el lmite de compra. Si quieres escoger este boleto, por favor elimina algn otro de tu carrito.';\n          this.openError(errorMessage);\n        }\n      }\n      await this.setDescuento(5);\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  ticketsPozo: any = {};\n\n  async pushToSeleccionado(ticket: any) {\n    try {\n      this.loadingMessage = 'Agregando boleto al carrito';\n      this.isLoading = true;\n      let subtotal = this.sorteoSeleccionado!.precio;\n      let aux = {\n        ticket,\n        sorteo: this.sorteoSeleccionado,\n        subtotal,\n      };\n      let hasBalance = await this.paymentService.hasBalance(\n        subtotal,\n        this.token\n      );\n\n      if (hasBalance) {\n        this.ticketsPozo[ticket.identificador] = aux;\n        let reservaId = this.lotteryService.getReservaId();\n        let response = await this.lotteryService.reservarBoletos(\n          this.token!,\n          aux,\n          5,\n          reservaId\n        );\n\n        this.lotteryService.setReservaId(response);\n        await this.cart.setCarrito(aux, 5);\n        await this.cart.setCarritoPozo(this.ticketsPozo);\n        await this.getCarritoTickets();\n        //this.getTotal();\n        this.isLoading = false;\n      } else {\n        this.isLoading = false;\n        let message =\n          'Tu saldo es insuficiente para agregar este boleto al carrito';\n        this.ticketsDisponibles!.find(\n          (x: any) => x.identificador === ticket.identificador\n        ).status = false;\n        this.recargarSaldo(message);\n      }\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  handlerPage(e: PageEvent) {\n    this.page_size = e.pageSize;\n    this.page_number = e.pageIndex + 1;\n  }\n\n  obtenerMascota(mascota: any) {\n    return this.pozo.obtenerMascota(mascota);\n  }\n\n  ordenaCombinacion(a: any, b: any) {\n    return a - b;\n  }\n\n  over25Error: boolean = false;\n  over25ErrorTag: string =\n    'Los nmeros no pueden ser mayores a 25. Por favor, toma esto en cuenta al ingresar tus nmeros preferidos.';\n\n  validate() {\n    let isHigher = false;\n    this.combinacionDeLaSuerte.forEach((number, i) => {\n      let aux = parseInt(number);\n      if (aux > 25) {\n        this.combinacionDeLaSuerte[i] = '';\n        this.over25Error = true;\n        setTimeout(() => {\n          this.over25Error = false;\n        }, 6000);\n      }\n    });\n  }\n  async buscarNumero() {\n    try {\n      this.loadingMessage = 'Buscando combinaciones disponibles';\n      this.isLoading = true;\n      this.showNumeros = false;\n      let combinacion = this.combinacionDeLaSuerte.map((number) => {\n        let numero = number;\n        if (numero.length < 2) {\n          numero = `0${numero}`;\n        }\n\n        if (numero == '0' || numero == '00') {\n          return '';\n        }\n        return numero;\n      });\n      let combinacionFigura = this.animalesTabs.map((animal) => {\n        return animal.identificador;\n      });\n      combinacion.sort(this.ordenaCombinacion);\n      combinacionFigura.sort(this.ordenaCombinacion);\n      let authData = this.lotteryService.getAuthData();\n      this.ticketsDisponibles = await this.pozo.obtenerTickets(\n        this.sorteoSeleccionado!.sorteo,\n        combinacion.join(''),\n        combinacionFigura.join(''),\n        this.tipoSeleccion,\n        authData\n      );\n\n      this.combinacionDeLaSuerte = ['', '', '', ''];\n      this.showNumeros = true;\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  tipoSeleccion: number = 96;\n\n  async seleccionarVarios(tipoSeleccion: any) {\n    try {\n      if (tipoSeleccion != 1) {\n        let selectedIndexs = [];\n        for (let i = 0; i < tipoSeleccion; i++) {\n          let index = Math.floor(\n            Math.random() * this.ticketsDisponibles.length\n          );\n          while (selectedIndexs.indexOf(index) != -1) {\n            index = Math.floor(Math.random() * this.ticketsDisponibles.length);\n          }\n          let ticket = this.ticketsDisponibles[index];\n          await this.pushToSeleccionado(ticket);\n          selectedIndexs.push(index);\n        }\n      }\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  sorteoSeleccionado?: sorteo;\n  procesaEmitir(sorteo: any) {\n    this.sorteoSeleccionado = sorteo;\n    this.showNumeros = false;\n  }\n  isLoading?: boolean;\n  showComponents: boolean = false;\n  loadingMessage?: string;\n\n  obtenerAnimal(mascota: any) {\n    return this.pozo.obtenerMascota(mascota);\n  }\n\n  abrirResumen() {\n    this.router.navigate([`compra_tus_juegos/resumen/${this.token}`]);\n  }\n\n  confirmacionDeCompra: boolean = false;\n  compraFinalizada: boolean = false;\n  saldoInsuficiente: boolean = false;\n  compraCancelada: boolean = false;\n\n  cancelMessage: string = '';\n\n  dismissCompras() {\n    this.confirmacionDeCompra = false;\n    this.compraFinalizada = false;\n    this.saldoInsuficiente = false;\n    this.compraCancelada = false;\n  }\n  volver() {\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n  }\n\n  detalleCompra: any;\n  comprar() {\n    this.dismissCompras();\n\n    let loteriaAux = this.ticketsLoteria;\n    let loteria = [];\n    for (let id in loteriaAux) {\n      let aux: any = {};\n      aux['combinacion1'] = loteriaAux[id].ticket.combinacion;\n      aux['fracciones'] = loteriaAux[id].ticket.seleccionados;\n      aux['subtotal'] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(\n        loteriaAux[id].subtotalConDesc\n      ).toFixed(2);\n      aux['tieneDescuento'] = loteriaAux[id].tieneDescuento;\n      aux['fecha'] = loteriaAux[id].sorteo.fecha;\n      aux['sorteo'] = loteriaAux[id].sorteo.sorteo;\n      loteria.push(aux);\n    }\n    let lottoAux = this.ticketsLotto;\n    let lotto = [];\n    for (let id in lottoAux) {\n      let aux: any = {};\n      aux['combinacion1'] = lottoAux[id].ticket.combinacion1;\n      aux['combinacion2'] = lottoAux[id].ticket.combinacion2;\n      aux['combinacion3'] = lottoAux[id].ticket.combinacion3;\n      aux['combinacion4'] = lottoAux[id].ticket.combinacion4;\n      aux['sorteo'] = lottoAux[id].sorteo.sorteo;\n      aux['subtotal'] = parseFloat(lottoAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(lottoAux[id].subtotalConDesc).toFixed(\n        2\n      );\n      aux['tieneDescuento'] = lottoAux[id].tieneDescuento;\n      aux['fecha'] = lottoAux[id].sorteo.fecha;\n      lotto.push(aux);\n    }\n    let pozoAux = this.ticketsPozo;\n    let pozo = [];\n    for (let id in pozoAux) {\n      let aux: any = {};\n      aux['combinacion1'] = pozoAux[id].ticket.combinacion1;\n      aux['combinacion2'] = pozoAux[id].ticket.combinacion2;\n      aux['mascota'] = pozoAux[id].ticket.mascota;\n      aux['sorteo'] = pozoAux[id].sorteo.sorteo;\n      aux['subtotal'] = parseFloat(pozoAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(pozoAux[id].subtotalConDesc).toFixed(\n        2\n      );\n      aux['tieneDescuento'] = pozoAux[id].tieneDescuento;\n      aux['fecha'] = pozoAux[id].sorteo.fecha;\n      pozo.push(aux);\n    }\n    let millonariaAux = this.ticketsMillonaria;\n    let millonaria = [];\n    for (let id in millonariaAux) {\n      let aux: any = {};\n      aux['combinacion1'] = millonariaAux[id].ticket.combinacion1;\n      aux['combinacion2'] = millonariaAux[id].ticket.combinacion2;\n      aux['fracciones'] = millonariaAux[id].ticket.seleccionados;\n      aux['subtotal'] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\n      aux['subtotalConDesc'] = parseFloat(\n        millonariaAux[id].subtotalConDesc\n      ).toFixed(2);\n      aux['tieneDescuento'] = millonariaAux[id].tieneDescuento;\n      aux['fecha'] = millonariaAux[id].sorteo.fecha;\n      aux['sorteo'] = millonariaAux[id].sorteo.sorteo;\n      millonaria.push(aux);\n    }\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\n\n    this.detalleCompra = {\n      loteria,\n      millonaria,\n      lotto,\n      pozo,\n      amount,\n      amountConDesc,\n    };\n\n    this.confirmacionDeCompra = true;\n  }\n\n  instantaneas: any;\n  isInstantaneas: boolean = false;\n  finalizarCompra() {\n    this.paymentService.finalizarCompra();\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n  }\n\n  async confirmarCompra() {\n    try {\n      this.isLoading = true;\n      this.loadingMessage = 'Espera mientras procesamos tu compra';\n      let hasBalance = await this.paymentService.hasBalance(0, this.token);\n\n      if (hasBalance) {\n        let reservaId = this.lotteryService.getReservaId();\n        let cartValidation = await this.cart.validarCarrito(reservaId);\n        if (cartValidation.status) {\n          let response = await this.paymentService.confirmarCompra(\n            this.token,\n            reservaId\n          );\n          this.isLoading = false;\n          if (response.status) {\n            if (response.instantanea.status) {\n              this.dismissCompras();\n              this.instantaneas = response.instantanea.data;\n              this.isInstantaneas = true;\n            } else {\n              this.instantaneas = '';\n              this.abrirFinalizar();\n            }\n          } else {\n            this.cancelarCompra();\n          }\n        } else {\n          this.openValidationError(cartValidation.message);\n        }\n        this.isLoading = false;\n      } else {\n        this.isLoading = false;\n        let message = 'Tu saldo es insuficiente para realizar la compra';\n        this.recargarSaldo(message);\n      }\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async abrirFinalizar() {\n    this.dismissCompras();\n    await this.cart.borrarCarrito();\n    this.compraFinalizada = true;\n  }\n  cancelarCompra() {\n    this.dismissCompras();\n    this.compraCancelada = true;\n  }\n  irARecarga() {}\n\n  recargaDeSaldoMessage?: string;\n  recargarSaldo(message: any) {\n    this.recargaDeSaldoMessage = message;\n    this.dismissCompras();\n    this.saldoInsuficiente = true;\n  }\n  ticketsLoteria: any = {};\n  ticketsLotto: any = {};\n  descuentos: any;\n  async ngOnInit() {\n    try {\n      this.isLoading = true;\n      if (this.token) {\n        let data = await this.lotteryService.authUser(this.token);\n      }\n      await this.getCarritoTickets();\n      //this.getTotal();\n\n      this.loadingMessage = 'Cargando los sorteos disponibles';\n      this.seleccionAnimales = JSON.parse(\n        localStorage.getItem('animalesSeleccionados')!\n      );\n      this.animalesTabs = JSON.parse(localStorage.getItem('animalesTabs')!);\n\n      //TODO: Preguntar como quiere que venga la variable tabs, si llena o no\n      this.seleccionAnimales!.forEach((element) => {\n        this.animalesTabs.forEach((elemento) => {\n          if (elemento.nombre === element.nombre) {\n            element.status = elemento.status;\n          }\n        });\n      });\n      localStorage.setItem(\n        'animalesSeleccionados',\n        JSON.stringify(this.seleccionAnimales)\n      );\n      let authData = this.lotteryService.getAuthData();\n      this.sorteo = await this.pozo.obtenerSorteo(authData);\n      this.descuentos = await this.lotteryService.obtenerDescuentos();\n      this.isLoading = false;\n      this.showComponents = true;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  async setDescuento(tipoLoteria: any) {\n    return;\n    let descuentos = this.descuentos.filter(\n      (element: any) => parseInt(element.tipoLoteria) == tipoLoteria\n    );\n    for (let index = 0; index < descuentos.length; index++) {\n      const element = descuentos[index];\n      let conteo = await this.cart.contarBoletos(element.sorteo, tipoLoteria);\n      if (conteo >= parseInt(element.cantidad)) {\n        await this.cart.calcularDescuento(element);\n      } else {\n        await this.cart.eliminarDescuento(element, tipoLoteria);\n      }\n      await this.getCarritoTickets();\n    }\n    await this.cart.setTotalConDesc();\n  }\n  async deleteLoteriaTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fracciones = data.ticket.seleccionados;\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let ticket = this.ticketsLoteria[identificador].ticket;\n      let sorteo = data.sorteo;\n\n      let reservaId = this.lotteryService.getReservaId();\n      if (fracciones.length != 0) {\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\n          this.token,\n          ticket,\n          sorteo,\n          fracciones,\n          1,\n          reservaId\n        );\n      }\n      delete this.ticketsLoteria[identificador];\n\n      await this.cart.removeFromCart(ticket, 5);\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\n\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(1);\n\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteMillonariaTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fracciones = data.ticket.seleccionados;\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let ticket = this.ticketsMillonaria[identificador].ticket;\n      let sorteo = data.sorteo;\n      let reservaId = this.lotteryService.getReservaId();\n      if (fracciones.length != 0) {\n        let response = await this.lotteryService.eliminarBoletosDeReserva(\n          this.token,\n          ticket,\n          sorteo,\n          fracciones,\n          14,\n          reservaId\n        );\n      }\n      delete this.ticketsMillonaria[identificador];\n\n      await this.cart.removeFromCart(ticket, 1);\n      await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\n\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(14);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteLottoTicket(data: any) {\n    try {\n      let identificador = data.ticket.identificador;\n      let fraccion = '';\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let ticket = this.ticketsLotto[identificador].ticket;\n      let sorteo = data.sorteo;\n\n      let reservaId = this.lotteryService.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        fraccion,\n        2,\n        reservaId\n      );\n\n      delete this.ticketsLotto[identificador];\n\n      await this.cart.removeFromCart(ticket, 2);\n      await this.cart.setCarritoLotto(this.ticketsLotto);\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(2);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  async deleteLoteriaFraccion(data: any) {\n    try {\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let identificador = data.ticket.ticket.identificador;\n      let ticket = data.ticket.ticket;\n      let sorteo = data.ticket.sorteo;\n      let fraccion = data.fraccion;\n\n      let reservaId = this.cart.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        [fraccion],\n        1,\n        reservaId\n      );\n      let index = this.ticketsLoteria[\n        identificador\n      ].ticket.seleccionados.findIndex((x: any) => x == fraccion);\n      this.ticketsLoteria[identificador].ticket.seleccionados.splice(index, 1);\n      if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\n        delete this.ticketsLoteria[identificador];\n      }\n\n      await this.cart.removeFromCart(ticket, 1);\n      await this.cart.setCarritoLoteria(this.ticketsLoteria);\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(1);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deletePozoTicket(data: any) {\n    try {\n      this.loadingMessage = 'Removiendo boleto del carrito';\n      this.isLoading = true;\n      let identificador = data.ticket.identificador;\n      let fraccion = '';\n      let ticket = this.ticketsPozo[identificador].ticket;\n      let sorteo = this.ticketsPozo[identificador].sorteo;\n      let reservaId = this.lotteryService.getReservaId();\n      let response = await this.lotteryService.eliminarBoletosDeReserva(\n        this.token,\n        ticket,\n        sorteo,\n        fraccion,\n        5,\n        reservaId\n      );\n\n      delete this.ticketsPozo[identificador];\n\n      await this.cart.removeFromCart(ticket, 5);\n      await this.cart.setCarritoPozo(this.ticketsPozo);\n      if (this.ticketsDisponibles && this.ticketsDisponibles.length) {\n        let deletedIndex = this.ticketsDisponibles.findIndex(\n          (x: any) => x.identificador === identificador\n        );\n        if (deletedIndex != -1)\n          this.ticketsDisponibles[deletedIndex].status = false;\n      }\n      await this.getCarritoTickets();\n      //this.getTotal();\n      await this.setDescuento(5);\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n  async deleteAllTickets() {\n    try {\n      this.loadingMessage = 'Removiendo boletos del carrito';\n      this.isLoading = true;\n      let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\n        return {\n          ticket: this.ticketsLoteria[key].ticket,\n          sorteo: this.ticketsLoteria[key].sorteo,\n        };\n      });\n      let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\n        return {\n          ticket: this.ticketsLotto[key].ticket,\n          sorteo: this.ticketsLotto[key].sorteo,\n        };\n      });\n      let boletosPozo = Object.keys(this.ticketsPozo).map((key) => {\n        return {\n          ticket: this.ticketsPozo[key].ticket,\n          sorteo: this.ticketsPozo[key].sorteo,\n        };\n      });\n      let reservaId = this.lotteryService.getReservaId();\n      /*       await this.lotteryService.eliminarTodosLosBoletosDeReserva(\n        this.token,\n        boletosLoteria,\n        boletosLotto,\n        boletosPozo,\n        reservaId\n      ); */\n      Object.keys(this.ticketsPozo).forEach((key) => {\n        if (this.ticketsDisponibles && this.ticketsDisponibles.length != 0) {\n          let deletedIndex = this.ticketsDisponibles.findIndex(\n            (x: any) => x.identificador == key\n          );\n          if (deletedIndex != -1)\n            this.ticketsDisponibles[deletedIndex].status = false;\n        }\n      });\n      await this.cart.borrarCarrito();\n      await this.getCarritoTickets();\n      //this.getTotal();\n      this.isLoading = false;\n    } catch (e: any) {\n      this.isLoading = false;\n      console.log(e.message);\n      let errorMessage = e.message;\n      this.openError(errorMessage);\n    }\n  }\n\n  async getCarritoTickets() {\n    let carrito = await this.cart.buscarCarrito();\n    this.ticketsLoteria = carrito.loteria;\n    this.ticketsLotto = carrito.lotto;\n    this.ticketsMillonaria = carrito.millonaria;\n    this.ticketsPozo = carrito.pozo;\n  }\n  isError: boolean = false;\n  errorMessage?: string;\n  openError(msg: any) {\n    this.errorMessage = msg;\n    this.isError = true;\n  }\n\n  closeError() {\n    this.isError = false;\n  }\n\n  isValidationError: boolean = false;\n  validationErrorMessage?: string;\n  openValidationError(msg: any) {\n    this.validationErrorMessage = msg;\n    this.isValidationError = true;\n  }\n\n  closeValidationError() {\n    this.isValidationError = false;\n    this.validationErrorMessage = '';\n    window.location.reload();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport {environment } from '../../../environments/environment';\n@Injectable({\n  providedIn: 'root',\n})\nexport class CarritoService {\n  total: any = 0;\n  totalConDesc: any = 0;\n  ticketsLoteria: any = {};\n  ticketsLotto: any = {};\n  ticketsPozo: any = {};\n  ticketsMillonaria: any = {};\n  ticketsCarrito: any = [];\n  reservaId: any = 0;\n\n\n  mySource = environment.source;\n\n  constructor(private http: HttpClient) {}\n\n  async eliminarDescuento(element: any, tipoLoteria: any) {\n    let sorteo = element.sorteo;\n    switch (tipoLoteria) {\n      case 1:\n        let loteria = this.getLoteriaLocal();\n        for (let id in loteria) {\n          if (loteria[id].sorteo.sorteo == sorteo) {\n            loteria[id].tieneDescuento = false;\n            loteria[id].subtotalConDesc = 0;\n          }\n        }\n        this.setLoteriaLocal(loteria);\n        break;\n      case 2:\n        let lotto = this.getLottoLocal();\n        for (let id in lotto) {\n          if (lotto[id].sorteo.sorteo == sorteo) {\n            lotto[id].tieneDescuento = false;\n            lotto[id].subtotalConDesc = 0;\n          }\n        }\n        this.setLottoLocal(lotto);\n        break;\n\n      case 5:\n        let pozo = this.getPozoLocal();\n        for (let id in pozo) {\n          if (pozo[id].sorteo.sorteo == sorteo) {\n            pozo[id].tieneDescuento = false;\n            pozo[id].subtotalConDesc = 0;\n          }\n        }\n        this.setPozoLocal(pozo);\n        break;\n      case 14:\n        let millonaria = this.getMillonariaLocal();\n        for (let id in millonaria) {\n          if (millonaria[id].sorteo.sorteo == sorteo) {\n            millonaria[id].tieneDescuento = false;\n            millonaria[id].subtotalConDesc = 0;\n          }\n        }\n        this.setMillonariaLocal(millonaria);\n        break;\n    }\n    await this.actualizarCarrito();\n  }\n\n  async calcularDescuento(descuento: any) {\n    return;\n    let precioConDescuento = descuento.valorConDescuento;\n    let sorteo = descuento.sorteo;\n    switch (descuento.tipoLoteria) {\n      case '1':\n        let loteria = this.getLoteriaLocal();\n        for (let id in loteria) {\n          if (loteria[id].sorteo.sorteo == sorteo) {\n            loteria[id].tieneDescuento = true;\n            loteria[id].subtotalConDesc =\n              loteria[id].ticket.seleccionados.length *\n              parseFloat(precioConDescuento);\n          }\n        }\n        this.setLoteriaLocal(loteria);\n        break;\n      case '2':\n        let lotto = this.getLottoLocal();\n        for (let id in lotto) {\n          if (lotto[id].sorteo.sorteo == sorteo) {\n            lotto[id].tieneDescuento = true;\n            lotto[id].subtotalConDesc = parseFloat(precioConDescuento);\n          }\n        }\n        this.setLottoLocal(lotto);\n        break;\n\n      case '5':\n        let pozo = this.getPozoLocal();\n        for (let id in pozo) {\n          if (pozo[id].sorteo.sorteo == sorteo) {\n            pozo[id].tieneDescuento = true;\n            pozo[id].subtotalConDesc = parseFloat(precioConDescuento);\n          }\n        }\n        this.setPozoLocal(pozo);\n        break;\n      case '14':\n        let millonaria = this.getMillonariaLocal();\n        for (let id in millonaria) {\n          if (millonaria[id].sorteo.sorteo == sorteo) {\n            millonaria[id].tieneDescuento = true;\n            millonaria[id].subtotalConDesc = parseFloat(precioConDescuento);\n          }\n        }\n        this.setMillonariaLocal(millonaria);\n        break;\n    }\n    await this.actualizarCarrito();\n  }\n\n  async contarBoletos(sorteo: any, tipoLoteria: any) {\n    let aux = this.getCarritoLocal();\n    let boletos = aux.filter(\n      (item: any) =>\n        item.sorteo.sorteo == sorteo && item.tipoLoteria == tipoLoteria\n    );\n    let conteo;\n    switch (tipoLoteria) {\n      case 1:\n        conteo = boletos.reduce((total: any, value: any) => {\n          return total + value.ticket.seleccionados.length;\n        }, 0);\n        break;\n      case 14:\n        conteo = boletos.reduce((total: any, value: any) => {\n          return total + value.ticket.seleccionados.length;\n        }, 0);\n        break;\n\n      default:\n        conteo = boletos.length;\n        break;\n    }\n    return conteo;\n  }\n\n  async removeFromCart(ticket: any, tipoLoteria: any) {\n    let carrito = await this.getCarrito();\n    let deletedIndex = carrito.findIndex(\n      (x: any) =>\n        x.identificador === ticket.identificador && x.tipoLoteria == tipoLoteria\n    );\n    carrito.splice(deletedIndex, 1);\n    this.ticketsCarrito = carrito;\n    localStorage.setItem('seleccionadosCarrito', JSON.stringify(carrito));\n  }\n\n  getReservaId() {\n    let reservaId = JSON.parse(localStorage.getItem('reservaId')!);\n    if (reservaId && reservaId != '') {\n      return reservaId;\n    } else {\n      return 0;\n    }\n  }\n\n  setReservaId(id: any) {\n    localStorage.setItem('reservaId', JSON.stringify(id));\n  }\n  async getCount() {\n    let carrito = await this.getCarrito();\n    let count = 0;\n    if (carrito && carrito.length) {\n      carrito.forEach((item: any) => {\n        if (item.tipoLoteria == 1) {\n          count += item.ticket.seleccionados.length;\n        } else {\n          count += 1;\n        }\n      });\n    }\n    return count;\n  }\n\n  async setCarrito(ticket: any, tipoLoteria: any) {\n    let carrito: any = this.getCarritoLocal();\n    if (!carrito) carrito = [];\n    ticket['identificador'] = ticket.ticket.identificador;\n    ticket['tipoLoteria'] = tipoLoteria;\n    let addIndex = carrito.findIndex(\n      (x: any) => x.identificador === ticket.identificador\n    );\n    if ((tipoLoteria == 1 || tipoLoteria == 14) && addIndex != -1) {\n      carrito[addIndex] = ticket;\n    } else {\n      carrito.push(ticket);\n    }\n    this.ticketsCarrito = carrito;\n    localStorage.setItem('seleccionadosCarrito', JSON.stringify(carrito));\n  }\n\n  actualizarCarrito() {\n    return new Promise<any>(async (resolve, reject) => {\n      let headers = new HttpHeaders();\n      headers = headers.append('Content-Type', 'application/json');\n      let address = '/reservas';\n      let endpoint = '/cache';\n      let user = JSON.parse(localStorage.getItem('userData')!).playerDocument;\n\n      let body = {\n        loteria: this.getLoteriaLocal(),\n        lotto: this.getLottoLocal(),\n        pozo: this.getPozoLocal(),\n        millonaria: this.getMillonariaLocal(),\n        carrito: this.getCarritoLocal(),\n        total: this.getTotal(),\n        reservaId: this.getReservaId(),\n        user,\n      };\n      endpoint = `${endpoint}/actualizarCarrito`;\n      address = this.mySource + address + endpoint;\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          resolve('Done');\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n\n  async setCarritoLoteria(tickets: any) {\n    return new Promise<any>(async (resolve, reject) => {\n      localStorage.setItem('seleccionadosLoteria', JSON.stringify(tickets));\n      //this.ticketsLoteria = tickets;\n      await this.setTotal();\n      await this.actualizarCarrito();\n      resolve('Done');\n    });\n  }\n  async setCarritoMillonaria(tickets: any) {\n    return new Promise<any>(async (resolve, reject) => {\n      localStorage.setItem('seleccionadosMillonaria', JSON.stringify(tickets));\n      //this.ticketsLoteria = tickets;\n      await this.setTotal();\n      await this.actualizarCarrito();\n      resolve('Done');\n    });\n  }\n\n  async setCarritoLotto(tickets: any) {\n    return new Promise<any>(async (resolve, reject) => {\n      localStorage.setItem('seleccionadosLotto', JSON.stringify(tickets));\n      //this.ticketsLotto = tickets;\n      await this.setTotal();\n      await this.actualizarCarrito();\n      resolve('Done');\n    });\n  }\n\n  async setCarritoPozo(tickets: any) {\n    return new Promise<any>(async (resolve, reject) => {\n      localStorage.setItem('seleccionadosPozo', JSON.stringify(tickets));\n      //this.ticketsPozo = tickets;\n      await this.setTotal();\n      await this.actualizarCarrito();\n      resolve('Done');\n    });\n  }\n\n  setCarritoLocal(data: any) {\n    localStorage.setItem('seleccionadosCarrito', JSON.stringify(data));\n  }\n  setLoteriaLocal(data: any) {\n    localStorage.setItem('seleccionadosLoteria', JSON.stringify(data));\n  }\n  setMillonariaLocal(data: any) {\n    localStorage.setItem('seleccionadosMillonaria', JSON.stringify(data));\n  }\n  setLottoLocal(data: any) {\n    localStorage.setItem('seleccionadosLotto', JSON.stringify(data));\n  }\n  setPozoLocal(data: any) {\n    localStorage.setItem('seleccionadosPozo', JSON.stringify(data));\n  }\n\n  getCarritoLocal() {\n    let carrito = JSON.parse(localStorage.getItem('seleccionadosCarrito')!);\n    if (carrito && carrito.length) {\n      return carrito;\n    } else {\n      return [];\n    }\n  }\n  getLoteriaLocal() {\n    return JSON.parse(localStorage.getItem('seleccionadosLoteria')!);\n  }\n  getMillonariaLocal() {\n    return JSON.parse(localStorage.getItem('seleccionadosMillonaria')!);\n  }\n  getLottoLocal() {\n    return JSON.parse(localStorage.getItem('seleccionadosLotto')!);\n  }\n  getPozoLocal() {\n    return JSON.parse(localStorage.getItem('seleccionadosPozo')!);\n  }\n\n  async buscarCarrito() {\n    return new Promise<any>(async (resolve, reject) => {\n      let headers = new HttpHeaders();\n      headers = headers.append('Content-Type', 'application/json');\n      let address = '/reservas';\n      let endpoint = '/cache';\n      let user = JSON.parse(localStorage.getItem('userData')!).playerDocument;\n\n      let body = {\n        user,\n      };\n      endpoint = `${endpoint}/getCarrito`;\n      address = this.mySource + address + endpoint;\n      this.http.post(address, body, { headers: headers }).subscribe(\n        async (data: any) => {\n          let reservaId = this.getReservaId();\n          if (data.carrito.length == 0) {\n            this.borrarCarrito();\n            data.carrito = [];\n            data.loteria = {};\n            data.lotto = {};\n            data.pozo = {};\n            data.millonaria = {};\n            data.reservaId = 0;\n          }\n          this.setCarritoLocal(data.carrito);\n          this.setLoteriaLocal(data.loteria);\n          this.setLottoLocal(data.lotto);\n          this.setMillonariaLocal(data.millonaria);\n          this.setPozoLocal(data.pozo);\n          this.setReservaId(data.reservaId);\n          await this.setTotal();\n\n          resolve(data);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n\n  async validarCarrito(reservaId: any) {\n    return new Promise<any>(async (resolve, reject) => {\n      let headers = new HttpHeaders();\n      headers = headers.append('Content-Type', 'application/json');\n      let address = '/reservas';\n      let endpoint = '/cache';\n      let user = JSON.parse(localStorage.getItem('userData')!).playerDocument;\n      let token = JSON.parse(localStorage.getItem('userData')!).lotteryToken;\n\n      let body = {\n        user,\n        token,\n        reservaId,\n      };\n      endpoint = `${endpoint}/validar`;\n      address = this.mySource + address + endpoint;\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          /*           if (!data.status) {\n            reject(new Error(data.message));\n          }\n */ resolve(data);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n\n  async getCarrito() {\n    return new Promise<any>(async (resolve, reject) => {\n      let carritoDB = await this.buscarCarrito();\n      resolve(carritoDB.carrito);\n      //resolve(JSON.parse(localStorage.getItem(\"seleccionadosCarrito\")));\n    });\n  }\n  async getCarritoLoteria() {\n    return new Promise<any>(async (resolve, reject) => {\n      let carritoDB = await this.buscarCarrito();\n      resolve(carritoDB.loteria);\n      //resolve(JSON.parse(localStorage.getItem(\"seleccionadosLoteria\")));\n    });\n  }\n  async getCarritoLotto() {\n    return new Promise<any>(async (resolve, reject) => {\n      let carritoDB = await this.buscarCarrito();\n      resolve(carritoDB.lotto);\n      //resolve(JSON.parse(localStorage.getItem(\"seleccionadosLotto\")));\n    });\n  }\n  async getCarritoPozo() {\n    return new Promise<any>(async (resolve, reject) => {\n      let carritoDB = await this.buscarCarrito();\n      resolve(carritoDB.pozo);\n      //resolve(JSON.parse(localStorage.getItem(\"seleccionadosPozo\")));\n    });\n  }\n  async getCarritoMillonaria() {\n    return new Promise<any>(async (resolve, reject) => {\n      let carritoDB = await this.buscarCarrito();\n      resolve(carritoDB.millonaria);\n      //resolve(JSON.parse(localStorage.getItem(\"seleccionadosPozo\")));\n    });\n  }\n  async borrarCarrito() {\n    this.ticketsCarrito = [];\n    this.ticketsLoteria = {};\n    this.ticketsLotto = {};\n    this.ticketsPozo = {};\n    this.ticketsMillonaria = {};\n    this.reservaId = 0;\n    this.total = 0;\n    localStorage.removeItem('seleccionadosLoteria');\n    localStorage.removeItem('seleccionadosLotto');\n    localStorage.removeItem('seleccionadosPozo');\n    localStorage.removeItem('seleccionadosCarrito');\n    localStorage.removeItem('seleccionadosMillonaria');\n    localStorage.removeItem('reservaId');\n    localStorage.removeItem('total');\n    localStorage.removeItem('totalConDesc');\n    return new Promise<any>(async (resolve, reject) => {\n      let headers = new HttpHeaders();\n      headers = headers.append('Content-Type', 'application/json');\n      let address = '/reservas';\n      let endpoint = '/cache';\n      let user = JSON.parse(localStorage.getItem('userData')!).playerDocument;\n\n      let body = {\n        user,\n      };\n      endpoint = `${endpoint}/borrarCarrito`;\n      address = this.mySource + address + endpoint;\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          resolve('Done');\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n  async setTotalConDesc() {\n    return new Promise<any>(async (resolve, reject) => {\n      //await this.buscarCarrito();\n      let loteriaAux = this.getLoteriaLocal();\n      let lottoAux = this.getLottoLocal();\n      let pozoAux = this.getPozoLocal();\n      let millonariaAux = this.getMillonariaLocal();\n      let loteriaConDesc = 0;\n      for (let id in loteriaAux) {\n        if (loteriaAux[id].tieneDescuento) {\n          loteriaConDesc += parseFloat(loteriaAux[id].subtotalConDesc);\n        } else {\n          loteriaConDesc += parseFloat(loteriaAux[id].subtotal);\n        }\n      }\n      let lottoConDesc = 0;\n      for (let id in lottoAux) {\n        if (lottoAux[id].tieneDescuento) {\n          lottoConDesc += parseFloat(lottoAux[id].subtotalConDesc);\n        } else {\n          lottoConDesc += parseFloat(lottoAux[id].subtotal);\n        }\n      }\n      let pozoConDesc = 0;\n      for (let id in pozoAux) {\n        if (pozoAux[id].tieneDescuento) {\n          pozoConDesc += parseFloat(pozoAux[id].subtotalConDesc);\n        } else {\n          pozoConDesc += parseFloat(pozoAux[id].subtotal);\n        }\n      }\n      let millonariaConDesc = 0;\n      for (let id in millonariaAux) {\n        if (millonariaAux[id].tieneDescuento) {\n          millonariaConDesc += parseFloat(millonariaAux[id].subtotalConDesc);\n        } else {\n          millonariaConDesc += parseFloat(millonariaAux[id].subtotal);\n        }\n      }\n      let auxConDesc =\n        loteriaConDesc + lottoConDesc + pozoConDesc + millonariaConDesc;\n\n      this.totalConDesc = auxConDesc;\n      localStorage.setItem('totalConDesc', JSON.stringify(auxConDesc));\n      resolve('Done');\n    });\n  }\n\n  async setTotal() {\n    return new Promise<any>(async (resolve, reject) => {\n      //await this.buscarCarrito();\n      let loteriaAux = this.getLoteriaLocal();\n      let lottoAux = this.getLottoLocal();\n      let pozoAux = this.getPozoLocal();\n      let millonariaAux = this.getMillonariaLocal();\n      let loteria = 0;\n      for (let id in loteriaAux) {\n        loteria += parseFloat(loteriaAux[id].subtotal);\n      }\n      let lotto = 0;\n      for (let id in lottoAux) {\n        lotto += parseFloat(lottoAux[id].subtotal);\n      }\n      let pozo = 0;\n      for (let id in pozoAux) {\n        pozo += parseFloat(pozoAux[id].subtotal);\n      }\n      let millonaria = 0;\n      for (let id in millonariaAux) {\n        millonaria += parseFloat(millonariaAux[id].subtotal);\n      }\n      let aux = loteria + lotto + pozo + millonaria;\n\n      this.total = aux;\n      localStorage.setItem('total', JSON.stringify(aux));\n      resolve('Done');\n    });\n  }\n  getTotal() {\n    //return this.total;\n    let total = JSON.parse(localStorage.getItem('total')!);\n    if (total) {\n      return total;\n    } else {\n      return 0;\n    }\n  }\n  getTotalConDesc() {\n    //return this.total;\n    let total = JSON.parse(localStorage.getItem('totalConDesc')!);\n    if (total) {\n      return total;\n    } else {\n      return 0;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CarritoService } from './carrito.service';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport {environment } from '../../../environments/environment';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PagosService {\n  mySource = environment.source\n  constructor(private cart: CarritoService, private http: HttpClient) {}\n\n  getAuthData() {\n    let data = JSON.parse(localStorage.getItem('userData')!);\n    let lotteryToken = data.lotteryToken;\n    let user = data.playerDocument;\n    let personalId = data.personaId;\n    let accountId = data.accountId;\n    if (data.user_ == 'italtronicprep') user = data.user_;\n    let response = {\n      lotteryToken,\n      user,\n      personalId,\n      accountId,\n    };\n    return response;\n  }\n\n  reservarSaldo() {}\n\n  liberarSaldo() {}\n\n  recargarSaldo() {}\n\n  hasBalance(subtotal: any, token: any) {\n    let cartTotal = parseFloat(this.cart.getTotal());\n    let testAmount = parseFloat(subtotal) + cartTotal;\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    //let endpoint = \"/inquiry\";\n\n    let address = '/wallet';\n    let endpoint = '';\n    let body = {\n      token,\n    };\n    endpoint = `${endpoint}/getBalance`;\n\n    address = this.mySource + address + endpoint;\n    return new Promise<boolean>((resolve, reject) => {\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          let balance = parseFloat(data.balance);\n          let hasBalance = balance >= testAmount;\n          resolve(hasBalance);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n\n  getCompra(ticketId: any, accountId: any) {\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let address = '/ventas';\n    let endpoint = '';\n    let body = {\n      ticketId,\n      accountId,\n    };\n    endpoint = `${endpoint}/getCompra`;\n\n    address = this.mySource + address + endpoint;\n    return new Promise<boolean>((resolve, reject) => {\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          if (!data.status) {\n            reject(new Error('No se pudo encontrar la compra solicitada'));\n          }\n          resolve(data.values);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n  getGanador(ticketId: any) {\n    ticketId = ticketId.toString();\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let address = '/ganadores';\n    let endpoint = '';\n    let body = {\n      ticketId,\n    };\n    endpoint = `${endpoint}/getGanador`;\n\n    address = this.mySource + address + endpoint;\n    return new Promise<boolean>((resolve, reject) => {\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          resolve(data);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n  async confirmarCompra(token: any, reservaId: any): Promise<any> {\n    let loteria = await this.cart.getCarritoLoteria();\n    let lotto = await this.cart.getCarritoLotto();\n    let pozo = await this.cart.getCarritoPozo();\n    let millonaria = await this.cart.getCarritoMillonaria();\n    let total = this.cart.getTotal();\n    let totalConDesc = this.cart.getTotalConDesc();\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let address = '/ventas';\n    let endpoint = '';\n    let authData = this.getAuthData();\n    let body = {\n      loteria,\n      lotto,\n      pozo,\n      millonaria,\n      lotteryToken: authData.lotteryToken,\n      user: authData.user,\n      personaId: authData.personalId,\n      accountId: authData.accountId,\n      amount: total,\n      amountConDesc: totalConDesc,\n      hasDescuento: !(total == totalConDesc),\n      token,\n      reservaId,\n    };\n    endpoint = `${endpoint}/comprarBoletos`;\n    address = this.mySource + address + endpoint;\n    return new Promise<any>((resolve, reject) => {\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          let response: any = data;\n          resolve(response);\n        },\n        (error: any) => {\n          //reject(new Error(error.error.message));\n          reject(\n            new Error(\n              'Ha ocurrido un error procesando la compra. Por favor, intente de nuevo.'\n            )\n          );\n        }\n      );\n    });\n  }\n  cancelarCompra() {}\n  finalizarCompra() {\n    this.cart.borrarCarrito();\n  }\n  getTotal() {\n    let total = JSON.parse(localStorage.getItem('total')!);\n    if (total) {\n      return total;\n    } else {\n      return 0;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  animales,\n  ticketsAnimales,\n  sorteo,\n  ticketsLotto,\n  ticketsNacional,\n  ticketsMillonaria,\n} from '../interfaces/venta';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\n@Injectable({\n  providedIn: 'root',\n})\nexport class VentasService {\n\n  mySource = environment.source\n\n  sorteo?: Array<sorteo>;\n  ticketsNacional?: ticketsNacional[];\n  ticketsLotto?: ticketsLotto[];\n  ticketsAnimales?: ticketsAnimales[];\n  animales?: animales[];\n  animalesTabs?: animales[];\n  constructor(private http: HttpClient) {}\n\n  formatNumber(number: any) {\n    // Create our number formatter.\n    var formatter = new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    });\n\n    return formatter.format(number);\n  }\n\n  getAuthData() {\n    let data = JSON.parse(localStorage.getItem('userData')!);\n    let response = {\n      user: '',\n      lotteryToken: '',\n    };\n    if (data) {\n      let lotteryToken = data.lotteryToken;\n      let user = data.playerDocument;\n      //if (data.user_ == 'italtronicprep') user = data.user_;\n      response = {\n        lotteryToken,\n        user,\n      };\n    }\n    return response;\n  }\n\n  obtenerDescuentos() {\n    return;\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    //let endpoint = \"/inquiry\";\n\n    let address = '/ventas';\n    let endpoint = '/getDescuentos';\n    let authData = this.getAuthData();\n\n    address = this.mySource + address + endpoint;\n    return new Promise<Array<sorteo>>((resolve, reject) => {\n      this.http\n        .get(address, {\n          params: {\n            lotteryToken: authData.lotteryToken,\n            user: authData.user,\n          },\n          headers: headers,\n        })\n        .subscribe(\n          (data: any) => {\n            let descuentos: Array<any> = data;\n            resolve(descuentos);\n          },\n          (error: any) => {\n            reject(new Error(error.error.message));\n          }\n        );\n    });\n  }\n\n  obtenerImagenBoleto(tipoLoteria: any, sorteo: any) {\n    let sourceBoletos = `${this.mySource}/uploads/boletos/`;\n    return new Promise<string>((resolve, reject) => {\n      let boletoAddress = `${sourceBoletos}B${tipoLoteria}${sorteo}.png`;\n      resolve(boletoAddress);\n    });\n  }\n\n  authUser(token: string): Promise<any> {\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let address = '/auth';\n\n    let endpoint = '/';\n    let body = {\n      token,\n    };\n\n    address = this.mySource + address + endpoint;\n    return new Promise<Array<any>>((resolve, reject) => {\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          localStorage.setItem('userData', JSON.stringify(data));\n          resolve(data);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n\n  getReservaId() {\n    if (\n      JSON.parse(localStorage.getItem('reservaId')!) &&\n      JSON.parse(localStorage.getItem('reservaId')!) != ''\n    ) {\n      return JSON.parse(localStorage.getItem('reservaId')!);\n    } else {\n      return 0;\n    }\n  }\n\n  setReservaId(id: any) {\n    localStorage.setItem('reservaId', JSON.stringify(id));\n  }\n\n  reservarBoletos(\n    token: string,\n    boleto: any,\n    tipoLoteria: any,\n    reservaId: any\n  ) {\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let address = '/reservas';\n    let endpoint = '/reservarBoletos';\n\n    address = this.mySource + address + endpoint;\n    let authData = this.getAuthData();\n    let body: any = {\n      lotteryToken: authData.lotteryToken,\n      user: authData.user,\n      reservaId,\n    };\n    let aux;\n    switch (tipoLoteria) {\n      case 1:\n        aux = [\n          {\n            combinacion: boleto.ticket.combinacion,\n            fracciones: boleto.fracciones,\n            sorteo: boleto.sorteo,\n          },\n        ];\n        body['loteria'] = aux;\n        break;\n      case 2:\n        aux = [\n          {\n            combinacion: boleto.ticket.combinacion1,\n            sorteo: boleto.sorteo,\n          },\n        ];\n        body['lotto'] = aux;\n        break;\n\n      case 5:\n        aux = [\n          {\n            combinacion: boleto.ticket.combinacion1,\n            sorteo: boleto.sorteo,\n          },\n        ];\n        body['pozo'] = aux;\n        break;\n      case 14:\n        aux = [\n          {\n            combinacion: boleto.ticket.combinacion1,\n            combinacion2: boleto.ticket.combinacion2,\n            fracciones: boleto.fracciones,\n            sorteo: boleto.sorteo,\n          },\n        ];\n        body['millonaria'] = aux;\n        break;\n    }\n    return new Promise<any>((resolve, reject) => {\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          let response: any = data;\n          resolve(response);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n\n  eliminarBoletosDeReserva(\n    token: any,\n    boleto: any,\n    sorteo: any,\n    fracciones: any,\n    tipoLoteria: any,\n    reservaId: any\n  ) {\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let address = '/reservas';\n    let endpoint = '/eliminarBoletosDeReserva';\n\n    address = this.mySource + address + endpoint;\n\n    let authData = this.getAuthData();\n    let body: any = {\n      lotteryToken: authData.lotteryToken,\n      user: authData.user,\n      reservaId,\n    };\n    let aux;\n    switch (tipoLoteria) {\n      case 1:\n        aux = [\n          {\n            combinacion: boleto.combinacion,\n            fracciones,\n            sorteo: sorteo,\n          },\n        ];\n        body['loteria'] = aux;\n        break;\n      case 2:\n        aux = [\n          {\n            combinacion: boleto.combinacion1,\n            sorteo: sorteo,\n          },\n        ];\n        body['lotto'] = aux;\n        break;\n\n      case 5:\n        aux = [\n          {\n            combinacion: boleto.combinacion1,\n            sorteo: sorteo,\n          },\n        ];\n        body['pozo'] = aux;\n        break;\n      case 14:\n        aux = [\n          {\n            combinacion: boleto.combinacion1,\n            combinacion2: boleto.combinacion2,\n            fracciones,\n            sorteo: sorteo,\n          },\n        ];\n        body['millonaria'] = aux;\n        break;\n    }\n    return new Promise<any>((resolve, reject) => {\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          let response: any = data;\n          resolve(response);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n  eliminarTodosLosBoletosDeReserva(\n    token: any,\n    boletosLoteria: any,\n    boletosLotto: any,\n    boletosPozo: any,\n    boletosMillonaria: any,\n    reservaId: any\n  ) {\n    let headers = new HttpHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    let address = '/reservas';\n    let endpoint = '/eliminarBoletosDeReserva';\n\n    address = this.mySource + address + endpoint;\n\n    let authData = this.getAuthData();\n    let body: any = {\n      lotteryToken: authData.lotteryToken,\n      user: authData.user,\n      reservaId,\n    };\n    let auxLoteria: any = [];\n    let auxLotto: any = [];\n    let auxPozo: any = [];\n    let auxMillonaria: any = [];\n    boletosLoteria.forEach((boleto: any) => {\n      auxLoteria.push({\n        combinacion: boleto.ticket.combinacion,\n        fracciones: boleto.ticket.seleccionados,\n        sorteo: boleto.sorteo,\n      });\n      body['loteria'] = auxLoteria;\n    });\n    boletosLotto.forEach((boleto: any) => {\n      auxLotto.push({\n        combinacion: boleto.ticket.combinacion1,\n        sorteo: boleto.sorteo,\n      });\n      body['lotto'] = auxLotto;\n    });\n    boletosPozo.forEach((boleto: any) => {\n      auxPozo.push({\n        combinacion: boleto.ticket.combinacion1,\n        sorteo: boleto.sorteo,\n      });\n      body['pozo'] = auxPozo;\n    });\n    boletosMillonaria.forEach((boleto: any) => {\n      auxMillonaria.push({\n        combinacion: boleto.ticket.combinacion1,\n        sorteo: boleto.sorteo,\n      });\n      body['millonaria'] = auxMillonaria;\n    });\n\n    return new Promise<any>((resolve, reject) => {\n      this.http.post(address, body, { headers: headers }).subscribe(\n        (data: any) => {\n          let response: any = data;\n          resolve(response);\n        },\n        (error: any) => {\n          reject(new Error(error.error.message));\n        }\n      );\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { DetalleDeVentaComponent } from './containers/detalle-de-venta/detalle-de-venta.component';\nimport { HomeComponent } from './containers/home/home.component';\nimport { LoteriaComponent } from './containers/loteria/loteria.component';\nimport { LottoComponent } from './containers/lotto/lotto.component';\nimport { MillonariaComponent } from './containers/millonaria/millonaria.component';\nimport { PozoComponent } from './containers/pozo/pozo.component';\nimport { VentasComponent } from './ventas.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VentasComponent,\n    children: [{ path: 'detalle/:id', component: DetalleDeVentaComponent },\n    { path: \"loteria/:token\", component: LoteriaComponent },\n    { path: \"millonaria/:token\", component: MillonariaComponent },\n    { path: \"lotto/:token\", component: LottoComponent },\n    {\n      path: \"pozo/:token\",\n      component: PozoComponent\n    },\n    { path: \":token\", component: HomeComponent }\n  ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VentasRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-ventas',\n  templateUrl: './ventas.component.html',\n  styleUrls: ['./ventas.component.scss']\n})\nexport class VentasComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { VentasRoutingModule } from './ventas-routing.module';\nimport { VentasComponent } from './ventas.component';\nimport { ConfirmacionDeVentaComponent } from './components/confirmacion-de-venta/confirmacion-de-venta.component';\nimport { VentaFinalizadaComponent } from './components/venta-finalizada/venta-finalizada.component';\nimport { DescripcionDeVentaComponent } from './components/descripcion-de-venta/descripcion-de-venta.component';\nimport { CarritoComponent } from './components/carrito/carrito.component';\nimport { InstantaneaComponent } from './components/instantanea/instantanea.component';\nimport { InstantaneasComponent } from './components/instantaneas/instantaneas.component';\nimport { MenuHeaderComponent } from './components/menu-header/menu-header.component';\nimport { MenuBoxComponent } from './components/menu-box/menu-box.component';\nimport { FloatingMenuComponent } from './components/floating-menu/floating-menu.component';\nimport { DetalleDeVentaComponent } from './containers/detalle-de-venta/detalle-de-venta.component';\nimport { LoteriaComponent } from './containers/loteria/loteria.component';\nimport { PozoComponent } from './containers/pozo/pozo.component';\nimport { LottoComponent } from './containers/lotto/lotto.component';\nimport { MillonariaComponent } from './containers/millonaria/millonaria.component';\nimport { DetalleSorteoComponent } from './components/detalle-sorteo/detalle-sorteo.component';\nimport { LoteriaModule } from '../juegos/loteria/loteria.module';\nimport { LottoModule } from '../juegos/lotto/lotto.module';\nimport { PozoModule } from '../juegos/pozo/pozo.module';\nimport { MillonariaModule } from '../juegos/millonaria/millonaria.module';\nimport { SharedModule } from '../shared/shared.module';\nimport { HomeComponent } from './containers/home/home.component';\nimport { BotonDeJuegoComponent } from './components/boton-de-juego/boton-de-juego.component';\nimport { VentaCanceladaComponent } from './components/venta-cancelada/venta-cancelada.component';\nimport { SaldoInsuficienteComponent } from './components/saldo-insuficiente/saldo-insuficiente.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatFormFieldModule } from '@angular/material/form-field';\n\n@NgModule({\n  declarations: [\n    VentasComponent,\n    ConfirmacionDeVentaComponent,\n    VentaFinalizadaComponent,\n    DescripcionDeVentaComponent,\n    CarritoComponent,\n    InstantaneaComponent,\n    InstantaneasComponent,\n    MenuHeaderComponent,\n    MenuBoxComponent,\n    FloatingMenuComponent,\n    DetalleDeVentaComponent,\n    LoteriaComponent,\n    PozoComponent,\n    LottoComponent,\n    MillonariaComponent,\n    DetalleSorteoComponent,\n    HomeComponent,\n    BotonDeJuegoComponent,\n    VentaCanceladaComponent,\n    SaldoInsuficienteComponent,\n  ],\n  exports: [\n    VentasComponent,\n    ConfirmacionDeVentaComponent,\n    VentaFinalizadaComponent,\n    DescripcionDeVentaComponent,\n    CarritoComponent,\n    InstantaneaComponent,\n    InstantaneasComponent,\n    MenuHeaderComponent,\n    MenuBoxComponent,\n    FloatingMenuComponent,\n    DetalleDeVentaComponent,\n    LoteriaComponent,\n    PozoComponent,\n    LottoComponent,\n    MillonariaComponent,\n  ],\n  imports: [\n    CommonModule,\n    LoteriaModule,\n    LottoModule,\n    PozoModule,\n    MillonariaModule,\n    SharedModule,\n    VentasRoutingModule,\n    FormsModule,\n\n    MatPaginatorModule,\n    MatFormFieldModule,\n    ReactiveFormsModule\n  ],\n})\nexport class VentasModule {}\n"],"names":["EventEmitter","i0","item_r4","CarritoComponent","constructor","cart","comprar","emitirCompra","emit","eliminar","eliminarTodo","ngOnInit","seleccionadosCarrito","ticketsCarrito","length","reverse","tipoLoteria","isLoteriaNacional","logoPath","isLotto","isPozoMillonario","isLaMillonaria","getTotal","hasDiscount","total","parseInt","replace","ngDoCheck","getCarritoLocal","checkTicketsLoteria","ticketsLoteria","Object","keys","checkTicketsLotto","ticketsLotto","checkTicketsPozo","ticketsPozo","checkTicketsLaMillonaria","ticketsMillonaria","deleteLoteria","ticket","deleteLoteriaTicket","deleteFraccionLoteria","fraccion","data","deleteLoteriaFraccion","deleteFraccionMillonaria","deleteMillonariaFraccion","deleteLotto","deleteLottoTicket","deleteMillonaria","deleteMillonariaTicket","deletePozo","deletePozoTicket","formatNumber","totalConDesc","getTotalConDesc","number","formatter","Intl","NumberFormat","style","currency","format","selectors","inputs","logo","tickets","isResumen","outputs","decls","vars","consts","template","DetalleSorteoComponent","ventas","changeDetectorRef","getClassColor","color","fondoLoteria","isLoteria","fondoLotto","fondoMillonaria","fondoPozo","handleImgError","imgNotFound","onEmitir","detectChanges","boleto","fecha","seleccionado","split","hora","auxPremio","valorPremioPrincipal","premio","parseFloat","toFixed","precio","cantidadDeFracciones","auxPremioLoteria","Math","ceil","premioLoteria","emitir","obtenerImagenBoleto","sorteo","markForCheck","setSorteoDefault","sorteos","titulo","loteria","ctx","ctx_r1","MenuBoxComponent","actRoute","lottery","paymentService","router","params","subscribe","token","loadingMessage","isLoading","authUser","lotteryToken","linkLoteriaNacional","linkLotto","linkPozoMillonario","linkMillonaria","getCarritoTickets","e","console","log","message","errorMessage","errorTitle","openError","dismissCompras","confirmacionDeCompra","isInstantaneas","compraFinalizada","saldoInsuficiente","compraCancelada","volver","navigateByUrl","loteriaAux","id","aux","combinacion","seleccionados","subtotal","push","lottoAux","lotto","combinacion1","combinacion2","combinacion3","combinacion4","pozoAux","pozo","mascota","millonariaAux","millonaria","subtotalConDesc","tieneDescuento","amount","amountConDesc","detalleCompra","finalizarCompra","irARecarga","confirmarCompra","hasBalance","reservaId","getReservaId","cartValidation","validarCarrito","response","status","instantanea","instantaneas","abrirFinalizar","cancelarCompra","recargarSaldo","borrarCarrito","recargaDeSaldoMessage","identificador","fracciones","eliminarBoletosDeReserva","removeFromCart","setCarritoMillonaria","setCarritoLoteria","setCarritoLotto","index","findIndex","x","splice","setCarritoPozo","deleteAllTickets","boletosLoteria","map","key","boletosLotto","boletosPozo","carrito","buscarCarrito","authError","msg","title","toUpperCase","isError","closeError","ctx_r0","DetalleDeVentaComponent","pagos","accountId","ticketId","compra","getCompra","user","getAuthData","ganador","getGanador","resultadosGanadores","values","forEach","element","i","ganadorIndex","numeroSorteo","compraReady","i_r17","item_r21","$event","ctx_r14","LoteriaComponent","lotteryService","authData","obtenerSorteo","descuentos","obtenerDescuentos","showComponents","procesaEmitir","sorteoSeleccionado","showNumeros","buscarNumero","combinacionDeLaSuerte","toString","undefined","ticketsDisponibles","obtenerTickets","join","tipoSeleccion","allFractions","handlerPage","page_size","pageSize","page_number","pageIndex","fraccionSeleccionada","idTicket","indexOf","ticketLoteria","count","getCount","pushToSeleccionado","pop","setDescuento","filter","conteo","contarBoletos","cantidad","calcularDescuento","eliminarDescuento","setTotalConDesc","seleccionarTodo","fraccionesDisponibles","includes","concat","subtotalTest","reservarBoletos","setReservaId","setCarrito","p","el","isSelected","idFraccion","openValidationError","deletedIndex","indexA","indexB","validationErrorMessage","isValidationError","closeValidationError","window","location","reload","i_r18","ctx_r15","LottoComponent","seleccionarTicket","ticketLotto","find","abrirResumen","navigate","obtenerAntojito","antojito","obtenerCaracteristicasDeAntojito","ruta","serie_r16","i_r22","item_r24","MillonariaComponent","agregar","event","serie","seleccionSeries","seriesTabs","preventDefault","localStorage","setItem","JSON","stringify","ticketMillonaria","remover","nombre","ordenaCombinacion","a","b","combinacionFigura","sort","obtenerSeries","elemento","boletosMillonaria","animal_r12","i_r19","ctx_r11","PozoComponent","animal","seleccionAnimales","animalesTabs","ticketPozo","obtenerMascota","validate","isHigher","over25Error","setTimeout","numero","seleccionarVarios","selectedIndexs","floor","random","obtenerAnimal","parse","getItem","HttpHeaders","environment","CarritoService","http","source","getLoteriaLocal","setLoteriaLocal","getLottoLocal","setLottoLocal","getPozoLocal","setPozoLocal","getMillonariaLocal","setMillonariaLocal","actualizarCarrito","descuento","precioConDescuento","valorConDescuento","boletos","item","reduce","value","getCarrito","addIndex","Promise","resolve","reject","headers","append","address","endpoint","playerDocument","body","mySource","post","error","Error","setTotal","setCarritoLocal","carritoDB","getCarritoLoteria","getCarritoLotto","getCarritoPozo","getCarritoMillonaria","removeItem","loteriaConDesc","lottoConDesc","pozoConDesc","millonariaConDesc","auxConDesc","factory","providedIn","PagosService","personalId","personaId","user_","reservarSaldo","liberarSaldo","cartTotal","testAmount","balance","hasDescuento"],"sourceRoot":"webpack:///"}
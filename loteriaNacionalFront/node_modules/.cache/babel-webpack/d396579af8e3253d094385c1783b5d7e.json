{"ast":null,"code":"import _asyncToGenerator from \"/home/angeloacr/Proyectos/loteriaNacional/app/loteriaNacionalFront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from \"@angular/core\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/ventas.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\n\nfunction DetalleSorteoComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"option\", 10);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const objeto_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngValue\", objeto_r8);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(objeto_r8.dia);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" - \", objeto_r8.sorteo, \" - \", objeto_r8.fecha.split(\" \")[0], \" \");\n  }\n}\n\nfunction DetalleSorteoComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1, \" Precio: \");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.precio);\n  }\n}\n\nfunction DetalleSorteoComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1, \" Precio de fracci\\u00F3n: \");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.precio);\n  }\n}\n\nfunction DetalleSorteoComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1, \" Premio: \");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.premio);\n  }\n}\n\nfunction DetalleSorteoComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1, \" Premio al entero: \");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r4.premioLoteria);\n  }\n}\n\nfunction DetalleSorteoComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1, \" Premio a la fracci\\u00F3n: \");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r5.premio);\n  }\n}\n\nfunction DetalleSorteoComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1, \" Total de fracciones: \");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r6.cantidadDeFracciones);\n  }\n}\n\nfunction DetalleSorteoComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelementStart(1, \"img\", 12);\n    i0.ɵɵlistener(\"error\", function DetalleSorteoComponent_div_28_Template_img_error_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.handleImgError();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r7.boleto, i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport let DetalleSorteoComponent = /*#__PURE__*/(() => {\n  class DetalleSorteoComponent {\n    constructor(ventas, changeDetectorRef) {\n      this.ventas = ventas;\n      this.changeDetectorRef = changeDetectorRef;\n      this.emitir = new EventEmitter();\n      this.fondoLoteria = true;\n      this.isLoteria = false;\n      this.fondoLotto = false;\n      this.fondoPozo = false;\n      this.imgNotFound = true;\n      this.fondoMillonaria = false;\n      this.fecha = \"\";\n      this.hora = \"\";\n      this.premio = \"\";\n      this.premioLoteria = \"\";\n      this.precio = \"\";\n    }\n\n    getClassColor(color) {\n      switch (color) {\n        case \"loteria\":\n          this.tipoLoteria = 1;\n          this.fondoLoteria = true;\n          this.isLoteria = true;\n          this.fondoLotto = false;\n          this.fondoMillonaria = false;\n          this.fondoPozo = false;\n          break;\n\n        case \"lotto\":\n          this.tipoLoteria = 2;\n          this.fondoLotto = true;\n          this.fondoMillonaria = false;\n          this.fondoLoteria = false;\n          this.fondoPozo = false;\n          break;\n\n        case \"pozo\":\n          this.tipoLoteria = 5;\n          this.fondoPozo = true;\n          this.fondoLotto = false;\n          this.fondoMillonaria = false;\n          this.fondoLoteria = false;\n          break;\n\n        case \"millonaria\":\n          this.tipoLoteria = 14;\n          this.isLoteria = true;\n          this.fondoMillonaria = true;\n          this.fondoPozo = false;\n          this.fondoLotto = false;\n          this.fondoLoteria = false;\n          break;\n      }\n    }\n\n    handleImgError() {\n      this.imgNotFound = true;\n    }\n\n    onEmitir() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        _this.changeDetectorRef.detectChanges();\n\n        _this.boleto = \"\";\n        _this.fecha = _this.seleccionado.fecha.split(\" \")[0];\n        _this.hora = _this.seleccionado.fecha.split(\" \")[1];\n        let auxPremio = _this.seleccionado.valorPremioPrincipal;\n        let premio = parseFloat(auxPremio).toFixed(2);\n        let precio = parseFloat(_this.seleccionado.precio).toFixed(2);\n        _this.cantidadDeFracciones = _this.seleccionado.cantidadDeFracciones;\n\n        let auxPremioLoteria = parseInt(premio) * _this.cantidadDeFracciones;\n\n        if (_this.tipoLoteria == 14) {\n          auxPremioLoteria = Math.ceil(parseInt(premio) * _this.cantidadDeFracciones / 10) * 10;\n        }\n\n        _this.premioLoteria = _this.ventas.formatNumber(auxPremioLoteria).split(\".\")[0];\n        _this.premio = _this.ventas.formatNumber(premio).split(\".\")[0];\n        _this.precio = _this.ventas.formatNumber(precio);\n\n        _this.emitir.emit(_this.seleccionado);\n\n        _this.boleto = yield _this.ventas.obtenerImagenBoleto(_this.tipoLoteria, _this.seleccionado.sorteo);\n        _this.imgNotFound = false;\n\n        _this.changeDetectorRef.markForCheck();\n      })();\n    }\n\n    ngOnInit() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        _this2.getClassColor(_this2.color);\n\n        _this2.setSorteoDefault();\n        /*\n        this.sorteo = await this.ventas.obtenerSorteo(this.loteria);*/\n\n      })();\n    }\n\n    setSorteoDefault() {\n      this.changeDetectorRef.detectChanges();\n      this.seleccionado = this.sorteos[0];\n      this.changeDetectorRef.markForCheck();\n      this.onEmitir();\n    }\n\n  }\n\n  DetalleSorteoComponent.ɵfac = function DetalleSorteoComponent_Factory(t) {\n    return new (t || DetalleSorteoComponent)(i0.ɵɵdirectiveInject(i1.VentasService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n\n  DetalleSorteoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DetalleSorteoComponent,\n    selectors: [[\"app-detalle-sorteo\"]],\n    inputs: {\n      titulo: \"titulo\",\n      color: \"color\",\n      loteria: \"loteria\",\n      sorteos: \"sorteos\"\n    },\n    outputs: {\n      emitir: \"emitir\"\n    },\n    decls: 29,\n    vars: 12,\n    consts: [[1, \"menuBox\"], [1, \"menuInfo\"], [1, \"menuSorteo\"], [1, \"menuItem\"], [1, \"fechaItem\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"selected\", \"\", \"disabled\", \"\", 3, \"ngValue\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"menuItem\", 4, \"ngIf\"], [1, \"menuPremio\"], [\"class\", \"menuImage\", 4, \"ngIf\"], [3, \"ngValue\"], [1, \"menuImage\"], [\"alt\", \"\", 3, \"src\", \"error\"]],\n    template: function DetalleSorteoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"h1\");\n        i0.ɵɵtext(4, \"SORTEO\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵtext(6, \" N\\u00FAmero: \");\n        i0.ɵɵelementStart(7, \"select\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function DetalleSorteoComponent_Template_select_ngModelChange_7_listener($event) {\n          return ctx.seleccionado = $event;\n        })(\"change\", function DetalleSorteoComponent_Template_select_change_7_listener() {\n          return ctx.onEmitir();\n        });\n        i0.ɵɵelementStart(8, \"option\", 5);\n        i0.ɵɵtext(9, \" Seleccione un sorteo \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, DetalleSorteoComponent_ng_container_10_Template, 5, 4, \"ng-container\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 3);\n        i0.ɵɵtext(12, \" Fecha: \");\n        i0.ɵɵelementStart(13, \"p\");\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 3);\n        i0.ɵɵtext(16, \" Hora: \");\n        i0.ɵɵelementStart(17, \"p\");\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, DetalleSorteoComponent_div_19_Template, 4, 1, \"div\", 7);\n        i0.ɵɵtemplate(20, DetalleSorteoComponent_div_20_Template, 4, 1, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 8);\n        i0.ɵɵelementStart(22, \"h1\");\n        i0.ɵɵtext(23, \"PREMIOS\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(24, DetalleSorteoComponent_div_24_Template, 4, 1, \"div\", 7);\n        i0.ɵɵtemplate(25, DetalleSorteoComponent_div_25_Template, 4, 1, \"div\", 7);\n        i0.ɵɵtemplate(26, DetalleSorteoComponent_div_26_Template, 4, 1, \"div\", 7);\n        i0.ɵɵtemplate(27, DetalleSorteoComponent_div_27_Template, 4, 1, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(28, DetalleSorteoComponent_div_28_Template, 2, 1, \"div\", 9);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.seleccionado);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngValue\", ctx.sorteoDefault);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sorteos);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.fecha);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.hora);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoteria);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoteria);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoteria);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoteria);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoteria);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoteria);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.imgNotFound);\n      }\n    },\n    directives: [i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgModel, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i3.NgForOf, i3.NgIf],\n    styles: [\".fondoLoteria[_ngcontent-%COMP%]{border-bottom:1px solid #28aae1!important;font-size:30px!important;color:#28aae1;font-family:\\\"Monstserrat Bold\\\"}.fondoMillonaria[_ngcontent-%COMP%]{border-bottom:1px solid #b51f20!important;font-size:30px!important;color:#b51f20;font-family:\\\"Monstserrat Bold\\\"}.fondoLotto[_ngcontent-%COMP%]{border-bottom:1px solid #b51f20!important;font-size:30px!important;color:#b51f20;font-family:\\\"Monstserrat Bold\\\"}.fondoPozo[_ngcontent-%COMP%]{border-bottom:1px solid #04b865!important;font-size:30px!important;color:#04b865;font-family:\\\"Monstserrat Bold\\\"}.menuBox[_ngcontent-%COMP%]{width:100%;padding:0;margin:auto}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]{width:60%;display:flex;background:#ffffff;box-shadow:3px 4px 9px #00000040;border-radius:25px;padding:15px}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuSorteo[_ngcontent-%COMP%]{width:50%;padding:10px}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuSorteo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%;font-weight:bold;text-align:center;margin:0}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuSorteo[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:flex-start;align-items:center;list-style:none;padding:5px;font-size:20px;font-family:\\\"Monstserrat SemiBold\\\";background-color:transparent;margin:0 0 4px;font-style:italic}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuSorteo[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;font-size:20px}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuSorteo[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:first-child{visibility:hidden;display:none}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuSorteo[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-shadow:0px 0px 0px black}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuSorteo[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin:3px 3px 3px 10px;font-family:\\\"Monstserrat Regular\\\";font-style:normal}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuSorteo[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]   .fechaItem[_ngcontent-%COMP%]{width:100%;min-width:220px;max-width:320px;display:block;font-size:20px;font-family:\\\"Monstserrat Regular\\\";font-weight:400;color:#444;background-color:#f2f2f2;line-height:1.3;padding:4px;margin:0 0 0 10px;box-sizing:border-box;border:1px solid #aaa;box-shadow:0 1px 0 1px #00000008;border-radius:.3em;text-align:center}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuSorteo[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]   .fechaItem[_ngcontent-%COMP%]:hover{border-color:#888}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuSorteo[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]   .fechaItem[_ngcontent-%COMP%]:focus{outline:none}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuPremio[_ngcontent-%COMP%]{width:50%;padding:10px}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuPremio[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%;font-weight:bold;text-align:center;margin:0}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuPremio[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:flex-start;align-items:center;list-style:none;padding:5px;font-size:20px;font-family:\\\"Monstserrat SemiBold\\\";background-color:transparent;margin:0 0 4px;font-style:italic}.menuBox[_ngcontent-%COMP%]   .menuInfo[_ngcontent-%COMP%]   .menuPremio[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin:3px 3px 3px 10px;font-family:\\\"Monstserrat Regular\\\";font-style:normal}.menuBox[_ngcontent-%COMP%]   .menuImage[_ngcontent-%COMP%]{display:flex;width:40%;justify-content:center;align-items:center;list-style:none;padding:5px;background-color:transparent}.menuBox[_ngcontent-%COMP%]   .menuImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}\"]\n  });\n  return DetalleSorteoComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}
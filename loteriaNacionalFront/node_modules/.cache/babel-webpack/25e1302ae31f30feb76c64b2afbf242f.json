{"ast":null,"code":"import { HttpHeaders } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let CodigosPromocionalesService = /*#__PURE__*/(() => {\n  class CodigosPromocionalesService {\n    //mySource = this.productionSource;\n    constructor(http) {\n      this.http = http;\n      this.localSource = \"http://localhost:100\";\n      this.testSource = \"https://ventas-api-prueba.loteria.com.ec\";\n      this.productionSource = \"https://ventas-api.loteria.com.ec\"; //mySource = this.localSource;\n\n      this.mySource = this.testSource;\n    }\n\n    obtenerCodigos() {\n      let headers = new HttpHeaders();\n      headers = headers.append(\"Content-Type\", \"application/json\"); //let endpoint = \"/inquiry\";\n\n      let address = \"/codigosPromocionales\";\n      let endpoint = \"/getCodCsv\";\n      address = this.mySource + address + endpoint;\n      return new Promise((resolve, reject) => {\n        this.http.get(address, {\n          headers: headers\n        }).subscribe(data => {\n          resolve(data);\n        }, error => {\n          reject(new Error(error.error.message));\n        });\n      });\n    }\n    /*   obtenerTxt() {\n      let address = \"\";\n      let endpoint = \"/getTxt\";\n      address = this.mySource + address + endpoint;\n      return new Promise((resolve, reject) => {\n        this.http\n          .get<Blob>(address, {\n            observe: \"response\",\n            responseType: \"blob\" as \"json\",\n          })\n          .subscribe(\n            (data: HttpResponse<Blob>) => {\n              let contentDisposition = data.headers.get(\"content-disposition\");\n              resolve(data.body);\n            },\n            (error: any) => {\n              reject(new Error(error.error.message));\n            }\n          );\n      });\n    } */\n\n\n    obtenerTxt() {\n      let address = \"/codigosPromocionales\";\n      let endpoint = \"/getTxt\";\n      address = this.mySource + address + endpoint;\n      return this.http.get(address, {\n        observe: \"response\",\n        responseType: \"blob\"\n      });\n    }\n\n  }\n\n  CodigosPromocionalesService.ɵfac = function CodigosPromocionalesService_Factory(t) {\n    return new (t || CodigosPromocionalesService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  CodigosPromocionalesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CodigosPromocionalesService,\n    factory: CodigosPromocionalesService.ɵfac,\n    providedIn: \"root\"\n  });\n  return CodigosPromocionalesService;\n})();","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _asyncToGenerator from \"/home/angeloacr/Proyectos/loteriaNacional/app/loteriaNacionalFront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { NavigationStart, NavigationEnd, NavigationError } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./consultas/services/consultas.service\";\nexport class AppComponent {\n  constructor(router, consultas) {\n    this.router = router;\n    this.consultas = consultas;\n    this.title = 'loteriaNacionalWeb';\n    this.token = '';\n    this.isDetail = false;\n    this.isDetail = false;\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationStart) {\n        let data = decodeURIComponent(event.url);\n\n        if (data.includes('compra_tus_juegos?token')) {\n          let url = data.split('?token=')[0];\n          this.token = data.split('?token=')[1];\n          this.router.navigateByUrl(`${url}/${this.token}`);\n        }\n\n        if (data.includes('compra_tus_juegos/detalle')) {\n          this.isDetail = true;\n          let url;\n          let ticketId;\n\n          if (data.includes('?ticketId')) {\n            url = data.split('?ticketId=')[0];\n            ticketId = data.split('?ticketId=')[1];\n            this.router.navigateByUrl(`${url}/${ticketId}`);\n          }\n        }\n      }\n\n      if (event instanceof NavigationEnd) {}\n\n      if (event instanceof NavigationError) {\n        console.log(event.error);\n      }\n    });\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.consultas.recuperarUltimosResultados();\n    })();\n  }\n\n}\n\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ConsultasService));\n};\n\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 1,\n  vars: 0,\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"router-outlet\");\n    }\n  },\n  directives: [i1.RouterOutlet],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"sources":["/home/angeloacr/Proyectos/loteriaNacional/app/loteriaNacionalFront/src/app/app.component.ts"],"names":["NavigationStart","NavigationEnd","NavigationError","i0","i1","i2","AppComponent","constructor","router","consultas","title","token","isDetail","events","subscribe","event","data","decodeURIComponent","url","includes","split","navigateByUrl","ticketId","console","log","error","ngOnInit","recuperarUltimosResultados","ɵfac","AppComponent_Factory","t","ɵɵdirectiveInject","Router","ConsultasService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","template","AppComponent_Template","rf","ctx","ɵɵelement","directives","RouterOutlet","styles"],"mappings":"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","sourcesContent":["import { NavigationStart, NavigationEnd, NavigationError, } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./consultas/services/consultas.service\";\nexport class AppComponent {\n    constructor(router, consultas) {\n        this.router = router;\n        this.consultas = consultas;\n        this.title = 'loteriaNacionalWeb';\n        this.token = '';\n        this.isDetail = false;\n        this.isDetail = false;\n        this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                let data = decodeURIComponent(event.url);\n                if (data.includes('compra_tus_juegos?token')) {\n                    let url = data.split('?token=')[0];\n                    this.token = data.split('?token=')[1];\n                    this.router.navigateByUrl(`${url}/${this.token}`);\n                }\n                if (data.includes('compra_tus_juegos/detalle')) {\n                    this.isDetail = true;\n                    let url;\n                    let ticketId;\n                    if (data.includes('?ticketId')) {\n                        url = data.split('?ticketId=')[0];\n                        ticketId = data.split('?ticketId=')[1];\n                        this.router.navigateByUrl(`${url}/${ticketId}`);\n                    }\n                }\n            }\n            if (event instanceof NavigationEnd) {\n            }\n            if (event instanceof NavigationError) {\n                console.log(event.error);\n            }\n        });\n    }\n    async ngOnInit() {\n        await this.consultas.recuperarUltimosResultados();\n    }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) { return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ConsultasService)); };\nAppComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AppComponent, selectors: [[\"app-root\"]], decls: 1, vars: 0, template: function AppComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelement(0, \"router-outlet\");\n    } }, directives: [i1.RouterOutlet], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAuY29tcG9uZW50LnNjc3MifQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}
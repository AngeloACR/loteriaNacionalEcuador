{"ast":null,"code":"import _asyncToGenerator from \"/home/angeloacr/Proyectos/loteriaNacional/app/loteriaNacionalFront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/ventas.service\";\nimport * as i3 from \"../../services/pagos.service\";\nimport * as i4 from \"../../services/carrito.service\";\nimport * as i5 from \"../boton-de-juego/boton-de-juego.component\";\nimport * as i6 from \"../floating-menu/floating-menu.component\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../../../shared/components/loader/loader.component\";\nimport * as i9 from \"../../../shared/components/error/error.component\";\nimport * as i10 from \"../confirmacion-de-venta/confirmacion-de-venta.component\";\nimport * as i11 from \"../instantaneas/instantaneas.component\";\nimport * as i12 from \"../venta-finalizada/venta-finalizada.component\";\nimport * as i13 from \"../saldo-insuficiente/saldo-insuficiente.component\";\nimport * as i14 from \"../venta-cancelada/venta-cancelada.component\";\n\nfunction MenuBoxComponent_app_loader_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\", 13);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"message\", ctx_r0.loadingMessage);\n  }\n}\n\nfunction MenuBoxComponent_app_error_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-error\", 14);\n    i0.ɵɵlistener(\"closeError\", function MenuBoxComponent_app_error_7_Template_app_error_closeError_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.closeError();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"msg\", ctx_r1.errorMessage)(\"title\", ctx_r1.errorTitle);\n  }\n}\n\nfunction MenuBoxComponent_app_confirmacion_de_venta_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-confirmacion-de-venta\", 15);\n    i0.ɵɵlistener(\"compraConfirmada\", function MenuBoxComponent_app_confirmacion_de_venta_8_Template_app_confirmacion_de_venta_compraConfirmada_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.confirmarCompra();\n    })(\"compraCancelada\", function MenuBoxComponent_app_confirmacion_de_venta_8_Template_app_confirmacion_de_venta_compraCancelada_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.cancelarCompra($event);\n    })(\"comprarDespues\", function MenuBoxComponent_app_confirmacion_de_venta_8_Template_app_confirmacion_de_venta_comprarDespues_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.dismissCompras();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"compra\", ctx_r2.detalleCompra);\n  }\n}\n\nfunction MenuBoxComponent_app_instantaneas_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-instantaneas\", 16);\n    i0.ɵɵlistener(\"close\", function MenuBoxComponent_app_instantaneas_9_Template_app_instantaneas_close_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.abrirFinalizar();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"resultados\", ctx_r3.instantaneas)(\"isLoteriaNacional\", true);\n  }\n}\n\nfunction MenuBoxComponent_app_venta_finalizada_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-venta-finalizada\", 17);\n    i0.ɵɵlistener(\"volver\", function MenuBoxComponent_app_venta_finalizada_10_Template_app_venta_finalizada_volver_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.finalizarCompra();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"compra\", ctx_r4.detalleCompra)(\"codigosPromocionales\", ctx_r4.codigoPromocional);\n  }\n}\n\nfunction MenuBoxComponent_app_saldo_insuficiente_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-saldo-insuficiente\", 18);\n    i0.ɵɵlistener(\"volver\", function MenuBoxComponent_app_saldo_insuficiente_11_Template_app_saldo_insuficiente_volver_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.dismissCompras();\n    })(\"recarga\", function MenuBoxComponent_app_saldo_insuficiente_11_Template_app_saldo_insuficiente_recarga_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.irARecarga();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"message\", ctx_r5.recargaDeSaldoMessage);\n  }\n}\n\nfunction MenuBoxComponent_app_venta_cancelada_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-venta-cancelada\", 19);\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"message\", ctx_r6.cancelMessage);\n  }\n}\n\nexport class MenuBoxComponent {\n  constructor(actRoute, lottery, paymentService, cart, router) {\n    this.actRoute = actRoute;\n    this.lottery = lottery;\n    this.paymentService = paymentService;\n    this.cart = cart;\n    this.router = router;\n    this.linkLotto = \"\";\n    this.linkLoteriaNacional = \"\";\n    this.linkPozoMillonario = \"\";\n    this.linkMillonaria = \"\";\n    this.codigoPromocional = [];\n    this.confirmacionDeCompra = false;\n    this.compraFinalizada = false;\n    this.saldoInsuficiente = false;\n    this.compraCancelada = false;\n    this.isInstantaneas = false;\n    this.cancelMessage = \"\";\n    this.isError = false;\n    this.actRoute.params.subscribe(params => {\n      this.token = params[\"token\"];\n    });\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.loadingMessage = \"Espera mientras procesamos tu información\";\n        _this.isLoading = true;\n\n        if (_this.token) {\n          let data = yield _this.lottery.authUser(_this.token);\n          _this.lotteryToken = data.lotteryToken;\n\n          if (_this.lotteryToken) {\n            _this.linkLoteriaNacional = `/compra_tus_juegos/loteria/${_this.token}`;\n            _this.linkLotto = `/compra_tus_juegos/lotto/${_this.token}`;\n            _this.linkPozoMillonario = `/compra_tus_juegos/pozo/${_this.token}`;\n            _this.linkMillonaria = `/compra_tus_juegos/millonaria/${_this.token}`;\n          }\n\n          yield _this.getCarritoTickets(); //this.getTotal();\n        }\n\n        _this.isLoading = false;\n      } catch (e) {\n        _this.isLoading = false;\n        console.log(e.message);\n        let errorMessage = e.message;\n        let errorTitle = \"Error\";\n\n        _this.openError(errorMessage, errorTitle);\n      }\n    })();\n  }\n\n  dismissCompras() {\n    this.confirmacionDeCompra = false;\n    this.isInstantaneas = false;\n    this.compraFinalizada = false;\n    this.saldoInsuficiente = false;\n    this.compraCancelada = false;\n  }\n\n  volver() {\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n  }\n\n  getTotal() {\n    this.total = this.cart.getTotal();\n  }\n\n  comprar() {\n    this.dismissCompras();\n    let loteriaAux = this.ticketsLoteria;\n    let loteria = [];\n\n    for (let id in loteriaAux) {\n      let aux = {};\n      aux[\"combinacion1\"] = loteriaAux[id].ticket.combinacion;\n      aux[\"fracciones\"] = loteriaAux[id].ticket.seleccionados;\n      aux[\"subtotal\"] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\n      aux[\"fecha\"] = loteriaAux[id].sorteo.fecha;\n      aux[\"sorteo\"] = loteriaAux[id].sorteo.sorteo;\n      loteria.push(aux);\n    }\n\n    let lottoAux = this.ticketsLotto;\n    let lotto = [];\n\n    for (let id in lottoAux) {\n      let aux = {};\n      aux[\"combinacion1\"] = lottoAux[id].ticket.combinacion1;\n      aux[\"combinacion2\"] = lottoAux[id].ticket.combinacion2;\n      aux[\"combinacion3\"] = lottoAux[id].ticket.combinacion3;\n      aux[\"combinacion4\"] = lottoAux[id].ticket.combinacion4;\n      aux[\"sorteo\"] = lottoAux[id].sorteo.sorteo;\n      aux[\"subtotal\"] = parseFloat(lottoAux[id].subtotal).toFixed(2);\n      aux[\"fecha\"] = lottoAux[id].sorteo.fecha;\n      lotto.push(aux);\n    }\n\n    let pozoAux = this.ticketsPozo;\n    let pozo = [];\n\n    for (let id in pozoAux) {\n      let aux = {};\n      aux[\"combinacion1\"] = pozoAux[id].ticket.combinacion1;\n      aux[\"combinacion2\"] = pozoAux[id].ticket.combinacion2;\n      aux[\"mascota\"] = pozoAux[id].ticket.mascota;\n      aux[\"sorteo\"] = pozoAux[id].sorteo.sorteo;\n      aux[\"subtotal\"] = parseFloat(pozoAux[id].subtotal).toFixed(2);\n      aux[\"fecha\"] = pozoAux[id].sorteo.fecha;\n      pozo.push(aux);\n    }\n\n    let millonariaAux = this.ticketsMillonaria;\n    let millonaria = [];\n\n    for (let id in millonariaAux) {\n      let aux = {};\n      aux[\"combinacion1\"] = millonariaAux[id].ticket.combinacion1;\n      aux[\"combinacion2\"] = millonariaAux[id].ticket.combinacion2;\n      aux[\"fracciones\"] = millonariaAux[id].ticket.seleccionados;\n      aux[\"subtotal\"] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\n      aux[\"subtotalConDesc\"] = parseFloat(millonariaAux[id].subtotalConDesc).toFixed(2);\n      aux[\"tieneDescuento\"] = millonariaAux[id].tieneDescuento;\n      aux[\"fecha\"] = millonariaAux[id].sorteo.fecha;\n      aux[\"sorteo\"] = millonariaAux[id].sorteo.sorteo;\n      millonaria.push(aux);\n    }\n\n    let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\n    let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\n    this.detalleCompra = {\n      loteria,\n      millonaria,\n      lotto,\n      pozo,\n      amount,\n      amountConDesc\n    };\n    this.confirmacionDeCompra = true;\n  }\n\n  finalizarCompra() {\n    this.paymentService.finalizarCompra();\n    this.dismissCompras();\n    this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n  }\n\n  irARecarga() {}\n\n  confirmarCompra() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this2.isLoading = true;\n        _this2.loadingMessage = \"Espera mientras procesamos tu compra\";\n        let hasBalance = yield _this2.paymentService.hasBalance(0, _this2.token);\n\n        if (hasBalance) {\n          let reservaId = _this2.cart.getReservaId();\n\n          let cartValidation = yield _this2.cart.validarCarrito(reservaId);\n\n          if (cartValidation) {\n            let response = yield _this2.paymentService.confirmarCompra(_this2.token, reservaId);\n\n            if (response.status) {\n              _this2.codigoPromocional = response.codigoPromocional;\n\n              if (response.instantanea.status) {\n                _this2.dismissCompras();\n\n                _this2.instantaneas = response.instantanea.data;\n                _this2.isInstantaneas = true;\n              } else {\n                _this2.instantaneas = \"\";\n\n                _this2.abrirFinalizar();\n              }\n            } else {\n              _this2.cancelarCompra(\"\");\n            }\n          }\n\n          _this2.isLoading = false;\n        } else {\n          _this2.isLoading = false;\n          let message = \"Tu saldo es insuficiente para realizar la compra\";\n\n          _this2.recargarSaldo(message);\n        }\n      } catch (e) {\n        _this2.isLoading = false;\n        console.log(e.message);\n        let errorMessage = e.message;\n        let errorTitle = \"Error\";\n\n        _this2.openError(errorMessage, errorTitle);\n      }\n    })();\n  }\n\n  cancelarCompra(e) {\n    this.dismissCompras();\n    this.compraCancelada = true;\n  }\n\n  abrirFinalizar() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.dismissCompras();\n\n      yield _this3.cart.borrarCarrito();\n      _this3.compraFinalizada = true;\n    })();\n  }\n\n  recargarSaldo(message) {\n    this.recargaDeSaldoMessage = message;\n    this.dismissCompras();\n    this.saldoInsuficiente = true;\n  }\n\n  deleteMillonariaTicket(data) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        let identificador = data.ticket.identificador;\n        let fracciones = data.ticket.seleccionados;\n        _this4.loadingMessage = \"Removiendo boleto del carrito\";\n        _this4.isLoading = true;\n        let ticket = _this4.ticketsMillonaria[identificador].ticket;\n        let sorteo = data.sorteo;\n\n        let reservaId = _this4.lottery.getReservaId();\n\n        if (fracciones.length != 0) {\n          let response = yield _this4.lottery.eliminarBoletosDeReserva(_this4.token, ticket, sorteo, fracciones, 14, reservaId);\n        }\n\n        delete _this4.ticketsMillonaria[identificador];\n        yield _this4.cart.removeFromCart(ticket, 1);\n        yield _this4.cart.setCarritoMillonaria(_this4.ticketsMillonaria);\n        yield _this4.getCarritoTickets(); //this.getTotal();\n        //await this.setDescuento(14);\n\n        _this4.isLoading = false;\n      } catch (e) {\n        _this4.isLoading = false;\n        console.log(e.message);\n        let errorMessage = e.message;\n        let errorTitle = \"Error\";\n\n        _this4.openError(errorMessage, errorTitle);\n      }\n    })();\n  }\n\n  deleteLoteriaTicket(data) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        let identificador = data.ticket.identificador;\n        let fracciones = data.ticket.seleccionados;\n        _this5.loadingMessage = \"Removiendo boleto del carrito\";\n        _this5.isLoading = true;\n        let ticket = _this5.ticketsLoteria[identificador].ticket;\n        let sorteo = data.sorteo;\n\n        let reservaId = _this5.lottery.getReservaId();\n\n        if (fracciones.length != 0) {\n          let response = yield _this5.lottery.eliminarBoletosDeReserva(_this5.token, ticket, sorteo, fracciones, 1, reservaId);\n        }\n\n        delete _this5.ticketsLoteria[identificador];\n        yield _this5.cart.setCarritoLoteria(_this5.ticketsLoteria);\n        yield _this5.getCarritoTickets();\n\n        _this5.getTotal();\n\n        _this5.isLoading = false;\n      } catch (e) {\n        _this5.isLoading = false;\n        console.log(e.message);\n        let errorMessage = e.message;\n        let errorTitle = \"Error\";\n\n        _this5.openError(errorMessage, errorTitle);\n      }\n    })();\n  }\n\n  deleteLottoTicket(data) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        let identificador = data.ticket.identificador;\n        let fraccion = \"\";\n        _this6.loadingMessage = \"Removiendo boleto del carrito\";\n        _this6.isLoading = true;\n        let ticket = _this6.ticketsLotto[identificador].ticket;\n        let sorteo = data.sorteo;\n\n        let reservaId = _this6.lottery.getReservaId();\n\n        let response = yield _this6.lottery.eliminarBoletosDeReserva(_this6.token, ticket, sorteo, fraccion, 2, reservaId);\n        delete _this6.ticketsLotto[identificador];\n        yield _this6.cart.setCarritoLotto(_this6.ticketsLotto);\n        yield _this6.getCarritoTickets();\n\n        _this6.getTotal();\n\n        _this6.isLoading = false;\n      } catch (e) {\n        _this6.isLoading = false;\n        console.log(e.message);\n        let errorMessage = e.message;\n        let errorTitle = \"Error\";\n\n        _this6.openError(errorMessage, errorTitle);\n      }\n    })();\n  }\n\n  deleteLoteriaFraccion(data) {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this7.loadingMessage = \"Removiendo boleto del carrito\";\n        _this7.isLoading = true;\n        let identificador = data.ticket.ticket.identificador;\n        let ticket = data.ticket.ticket;\n        let sorteo = data.ticket.sorteo;\n        let fraccion = data.fraccion;\n\n        let reservaId = _this7.cart.getReservaId();\n\n        let response = yield _this7.lottery.eliminarBoletosDeReserva(_this7.token, ticket, sorteo, [fraccion], 1, reservaId);\n\n        let index = _this7.ticketsLoteria[identificador].ticket.seleccionados.findIndex(x => x == fraccion);\n\n        _this7.ticketsLoteria[identificador].ticket.seleccionados.splice(index, 1);\n\n        if (_this7.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\n          delete _this7.ticketsLoteria[identificador];\n        }\n\n        yield _this7.cart.setCarritoLoteria(_this7.ticketsLoteria);\n        yield _this7.getCarritoTickets();\n\n        _this7.getTotal();\n\n        _this7.isLoading = false;\n      } catch (e) {\n        _this7.isLoading = false;\n        console.log(e.message);\n        let errorMessage = e.message;\n        let errorTitle = \"Error\";\n\n        _this7.openError(errorMessage, errorTitle);\n      }\n    })();\n  }\n\n  deletePozoTicket(data) {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        let identificador = data.ticket.identificador;\n        let fraccion = \"\";\n        _this8.loadingMessage = \"Removiendo boleto del carrito\";\n        _this8.isLoading = true;\n        let ticket = _this8.ticketsPozo[identificador].ticket;\n        let sorteo = data.sorteo;\n\n        let reservaId = _this8.lottery.getReservaId();\n\n        let response = yield _this8.lottery.eliminarBoletosDeReserva(_this8.token, ticket, sorteo, fraccion, 5, reservaId);\n        delete _this8.ticketsPozo[identificador];\n        yield _this8.cart.setCarritoPozo(_this8.ticketsPozo);\n        yield _this8.getCarritoTickets();\n\n        _this8.getTotal();\n\n        _this8.isLoading = false;\n      } catch (e) {\n        _this8.isLoading = false;\n        console.log(e.message);\n        let errorMessage = e.message;\n        let errorTitle = \"Error\";\n\n        _this8.openError(errorMessage, errorTitle);\n      }\n    })();\n  }\n\n  deleteAllTickets() {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this9.loadingMessage = \"Removiendo boletos del carrito\";\n        _this9.isLoading = true;\n        let boletosLoteria = Object.keys(_this9.ticketsLoteria).map(key => {\n          return {\n            ticket: _this9.ticketsLoteria[key].ticket,\n            sorteo: _this9.ticketsLoteria[key].sorteo\n          };\n        });\n        let boletosLotto = Object.keys(_this9.ticketsLotto).map(key => {\n          return {\n            ticket: _this9.ticketsLotto[key].ticket,\n            sorteo: _this9.ticketsLotto[key].sorteo\n          };\n        });\n        let boletosPozo = Object.keys(_this9.ticketsPozo).map(key => {\n          return {\n            ticket: _this9.ticketsPozo[key].ticket,\n            sorteo: _this9.ticketsPozo[key].sorteo\n          };\n        });\n\n        let reservaId = _this9.lottery.getReservaId();\n        /*       await this.lottery.eliminarTodosLosBoletosDeReserva(\n                this.token,\n                boletosLoteria,\n                boletosLotto,\n                boletosPozo,\n                reservaId\n              ); */\n\n\n        yield _this9.cart.borrarCarrito();\n        yield _this9.getCarritoTickets();\n\n        _this9.getTotal();\n\n        _this9.isLoading = false;\n      } catch (e) {\n        _this9.isLoading = false;\n        console.log(e.message);\n        let errorMessage = e.message;\n        let errorTitle = \"Error\";\n\n        _this9.openError(errorMessage, errorTitle);\n      }\n    })();\n  }\n\n  getCarritoTickets() {\n    var _this10 = this;\n\n    return _asyncToGenerator(function* () {\n      let carrito = yield _this10.cart.buscarCarrito();\n      _this10.ticketsLoteria = carrito.loteria;\n      _this10.ticketsLotto = carrito.lotto;\n      _this10.ticketsPozo = carrito.pozo;\n    })();\n  }\n\n  authError() {\n    this.openError(\"Por favor, para poder comprar tu boleto preferido, deberás iniciar sesión en tu cuenta\", \"Aviso\");\n  }\n\n  openError(msg, title) {\n    this.errorTitle = title.toUpperCase();\n    this.errorMessage = msg;\n    this.isError = true;\n  }\n\n  closeError() {\n    this.isError = false;\n  }\n\n}\n\nMenuBoxComponent.ɵfac = function MenuBoxComponent_Factory(t) {\n  return new (t || MenuBoxComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.VentasService), i0.ɵɵdirectiveInject(i3.PagosService), i0.ɵɵdirectiveInject(i4.CarritoService), i0.ɵɵdirectiveInject(i1.Router));\n};\n\nMenuBoxComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MenuBoxComponent,\n  selectors: [[\"app-menu-box\"]],\n  decls: 13,\n  vars: 19,\n  consts: [[1, \"selectionBox\"], [\"image\", \"assets/img/loteria-sombra-2.png\", \"name\", \"loteria\", 3, \"link\", \"token\", \"authError\"], [\"image\", \"assets/img/lotto-sombra.png\", \"name\", \"lotto\", 3, \"link\", \"token\", \"authError\"], [\"image\", \"assets/img/pozo-sombra.png\", \"name\", \"pozo\", 3, \"link\", \"token\", \"authError\"], [\"image\", \"assets/img/millonaria-sombra.png\", \"name\", \"millonaria\", 3, \"link\", \"token\", \"authError\"], [\"tipoLoteria\", \"loteria\", 3, \"ticketsLoteria\", \"ticketsLotto\", \"ticketsPozo\", \"ticketsMillonaria\", \"deleteLoteriaTicket\", \"deleteLottoTicket\", \"deletePozoTicket\", \"deleteMillonariaTicket\", \"deleteLoteriaFraccion\", \"emitirCompra\", \"eliminarTodo\"], [\"loader\", \"loteria\", 3, \"message\", 4, \"ngIf\"], [3, \"msg\", \"title\", \"closeError\", 4, \"ngIf\"], [\"class\", \"paymentItem\", 3, \"compra\", \"compraConfirmada\", \"compraCancelada\", \"comprarDespues\", 4, \"ngIf\"], [\"tipoloteria\", \"14\", \"class\", \"paymentItem\", 3, \"resultados\", \"isLoteriaNacional\", \"close\", 4, \"ngIf\"], [\"class\", \"paymentItem\", 3, \"compra\", \"codigosPromocionales\", \"volver\", 4, \"ngIf\"], [\"class\", \"paymentItem\", 3, \"message\", \"volver\", \"recarga\", 4, \"ngIf\"], [\"class\", \"paymentItem\", 3, \"message\", 4, \"ngIf\"], [\"loader\", \"loteria\", 3, \"message\"], [3, \"msg\", \"title\", \"closeError\"], [1, \"paymentItem\", 3, \"compra\", \"compraConfirmada\", \"compraCancelada\", \"comprarDespues\"], [\"tipoloteria\", \"14\", 1, \"paymentItem\", 3, \"resultados\", \"isLoteriaNacional\", \"close\"], [1, \"paymentItem\", 3, \"compra\", \"codigosPromocionales\", \"volver\"], [1, \"paymentItem\", 3, \"message\", \"volver\", \"recarga\"], [1, \"paymentItem\", 3, \"message\"]],\n  template: function MenuBoxComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"app-boton-de-juego\", 1);\n      i0.ɵɵlistener(\"authError\", function MenuBoxComponent_Template_app_boton_de_juego_authError_1_listener() {\n        return ctx.authError();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"app-boton-de-juego\", 2);\n      i0.ɵɵlistener(\"authError\", function MenuBoxComponent_Template_app_boton_de_juego_authError_2_listener() {\n        return ctx.authError();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"app-boton-de-juego\", 3);\n      i0.ɵɵlistener(\"authError\", function MenuBoxComponent_Template_app_boton_de_juego_authError_3_listener() {\n        return ctx.authError();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"app-boton-de-juego\", 4);\n      i0.ɵɵlistener(\"authError\", function MenuBoxComponent_Template_app_boton_de_juego_authError_4_listener() {\n        return ctx.authError();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"app-floating-menu\", 5);\n      i0.ɵɵlistener(\"deleteLoteriaTicket\", function MenuBoxComponent_Template_app_floating_menu_deleteLoteriaTicket_5_listener($event) {\n        return ctx.deleteLoteriaTicket($event);\n      })(\"deleteLottoTicket\", function MenuBoxComponent_Template_app_floating_menu_deleteLottoTicket_5_listener($event) {\n        return ctx.deleteLottoTicket($event);\n      })(\"deletePozoTicket\", function MenuBoxComponent_Template_app_floating_menu_deletePozoTicket_5_listener($event) {\n        return ctx.deletePozoTicket($event);\n      })(\"deleteMillonariaTicket\", function MenuBoxComponent_Template_app_floating_menu_deleteMillonariaTicket_5_listener($event) {\n        return ctx.deleteMillonariaTicket($event);\n      })(\"deleteLoteriaFraccion\", function MenuBoxComponent_Template_app_floating_menu_deleteLoteriaFraccion_5_listener($event) {\n        return ctx.deleteLoteriaFraccion($event);\n      })(\"emitirCompra\", function MenuBoxComponent_Template_app_floating_menu_emitirCompra_5_listener() {\n        return ctx.comprar();\n      })(\"eliminarTodo\", function MenuBoxComponent_Template_app_floating_menu_eliminarTodo_5_listener() {\n        return ctx.deleteAllTickets();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, MenuBoxComponent_app_loader_6_Template, 1, 1, \"app-loader\", 6);\n      i0.ɵɵtemplate(7, MenuBoxComponent_app_error_7_Template, 1, 2, \"app-error\", 7);\n      i0.ɵɵtemplate(8, MenuBoxComponent_app_confirmacion_de_venta_8_Template, 1, 1, \"app-confirmacion-de-venta\", 8);\n      i0.ɵɵtemplate(9, MenuBoxComponent_app_instantaneas_9_Template, 1, 2, \"app-instantaneas\", 9);\n      i0.ɵɵtemplate(10, MenuBoxComponent_app_venta_finalizada_10_Template, 1, 2, \"app-venta-finalizada\", 10);\n      i0.ɵɵtemplate(11, MenuBoxComponent_app_saldo_insuficiente_11_Template, 1, 1, \"app-saldo-insuficiente\", 11);\n      i0.ɵɵtemplate(12, MenuBoxComponent_app_venta_cancelada_12_Template, 1, 1, \"app-venta-cancelada\", 12);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"link\", ctx.linkLoteriaNacional)(\"token\", ctx.lotteryToken);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"link\", ctx.linkLotto)(\"token\", ctx.lotteryToken);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"link\", ctx.linkPozoMillonario)(\"token\", ctx.lotteryToken);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"link\", ctx.linkMillonaria)(\"token\", ctx.lotteryToken);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ticketsLoteria\", ctx.ticketsLoteria)(\"ticketsLotto\", ctx.ticketsLotto)(\"ticketsPozo\", ctx.ticketsPozo)(\"ticketsMillonaria\", ctx.ticketsMillonaria);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isError);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.confirmacionDeCompra);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isInstantaneas);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.compraFinalizada);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.saldoInsuficiente);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.compraCancelada);\n    }\n  },\n  directives: [i5.BotonDeJuegoComponent, i6.FloatingMenuComponent, i7.NgIf, i8.LoaderComponent, i9.ErrorComponent, i10.ConfirmacionDeVentaComponent, i11.InstantaneasComponent, i12.VentaFinalizadaComponent, i13.SaldoInsuficienteComponent, i14.VentaCanceladaComponent],\n  styles: [\".selectionBox[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-evenly;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: 100px;\\n}\\n\\n@media screen and (max-width: 1000px) {\\n  .selectionBox[_ngcontent-%COMP%] {\\n    padding: 25px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUtYm94LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLGFBQUE7RUFDQSw2QkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0FBQ0o7O0FBQ0U7RUFDRTtJQUNFLGFBQUE7RUFFSjtBQUNGIiwiZmlsZSI6Im1lbnUtYm94LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNlbGVjdGlvbkJveCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMTAwcHg7XG4gIH1cbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTAwMHB4KSB7XG4gICAgLnNlbGVjdGlvbkJveHtcbiAgICAgIHBhZGRpbmc6IDI1cHg7XG4gICAgfVxuICB9Il19 */\"]\n});","map":{"version":3,"sources":["/home/angeloacr/Proyectos/loteriaNacional/app/loteriaNacionalFront/src/app/ventas/components/menu-box/menu-box.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","i11","i12","i13","i14","MenuBoxComponent_app_loader_6_Template","rf","ctx","ɵɵelement","ctx_r0","ɵɵnextContext","ɵɵproperty","loadingMessage","MenuBoxComponent_app_error_7_Template","_r8","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","MenuBoxComponent_app_error_7_Template_app_error_closeError_0_listener","ɵɵrestoreView","ctx_r7","closeError","ɵɵelementEnd","ctx_r1","errorMessage","errorTitle","MenuBoxComponent_app_confirmacion_de_venta_8_Template","_r10","MenuBoxComponent_app_confirmacion_de_venta_8_Template_app_confirmacion_de_venta_compraConfirmada_0_listener","ctx_r9","confirmarCompra","MenuBoxComponent_app_confirmacion_de_venta_8_Template_app_confirmacion_de_venta_compraCancelada_0_listener","$event","ctx_r11","cancelarCompra","MenuBoxComponent_app_confirmacion_de_venta_8_Template_app_confirmacion_de_venta_comprarDespues_0_listener","ctx_r12","dismissCompras","ctx_r2","detalleCompra","MenuBoxComponent_app_instantaneas_9_Template","_r14","MenuBoxComponent_app_instantaneas_9_Template_app_instantaneas_close_0_listener","ctx_r13","abrirFinalizar","ctx_r3","instantaneas","MenuBoxComponent_app_venta_finalizada_10_Template","_r16","MenuBoxComponent_app_venta_finalizada_10_Template_app_venta_finalizada_volver_0_listener","ctx_r15","finalizarCompra","ctx_r4","codigoPromocional","MenuBoxComponent_app_saldo_insuficiente_11_Template","_r18","MenuBoxComponent_app_saldo_insuficiente_11_Template_app_saldo_insuficiente_volver_0_listener","ctx_r17","MenuBoxComponent_app_saldo_insuficiente_11_Template_app_saldo_insuficiente_recarga_0_listener","ctx_r19","irARecarga","ctx_r5","recargaDeSaldoMessage","MenuBoxComponent_app_venta_cancelada_12_Template","ctx_r6","cancelMessage","MenuBoxComponent","constructor","actRoute","lottery","paymentService","cart","router","linkLotto","linkLoteriaNacional","linkPozoMillonario","linkMillonaria","confirmacionDeCompra","compraFinalizada","saldoInsuficiente","compraCancelada","isInstantaneas","isError","params","subscribe","token","ngOnInit","isLoading","data","authUser","lotteryToken","getCarritoTickets","e","console","log","message","openError","volver","navigateByUrl","getTotal","total","comprar","loteriaAux","ticketsLoteria","loteria","id","aux","ticket","combinacion","seleccionados","parseFloat","subtotal","toFixed","sorteo","fecha","push","lottoAux","ticketsLotto","lotto","combinacion1","combinacion2","combinacion3","combinacion4","pozoAux","ticketsPozo","pozo","mascota","millonariaAux","ticketsMillonaria","millonaria","subtotalConDesc","tieneDescuento","amount","amountConDesc","getTotalConDesc","hasBalance","reservaId","getReservaId","cartValidation","validarCarrito","response","status","instantanea","recargarSaldo","borrarCarrito","deleteMillonariaTicket","identificador","fracciones","length","eliminarBoletosDeReserva","removeFromCart","setCarritoMillonaria","deleteLoteriaTicket","setCarritoLoteria","deleteLottoTicket","fraccion","setCarritoLotto","deleteLoteriaFraccion","index","findIndex","x","splice","deletePozoTicket","setCarritoPozo","deleteAllTickets","boletosLoteria","Object","keys","map","key","boletosLotto","boletosPozo","carrito","buscarCarrito","authError","msg","title","toUpperCase","ɵfac","MenuBoxComponent_Factory","t","ɵɵdirectiveInject","ActivatedRoute","VentasService","PagosService","CarritoService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","MenuBoxComponent_Template","MenuBoxComponent_Template_app_boton_de_juego_authError_1_listener","MenuBoxComponent_Template_app_boton_de_juego_authError_2_listener","MenuBoxComponent_Template_app_boton_de_juego_authError_3_listener","MenuBoxComponent_Template_app_boton_de_juego_authError_4_listener","MenuBoxComponent_Template_app_floating_menu_deleteLoteriaTicket_5_listener","MenuBoxComponent_Template_app_floating_menu_deleteLottoTicket_5_listener","MenuBoxComponent_Template_app_floating_menu_deletePozoTicket_5_listener","MenuBoxComponent_Template_app_floating_menu_deleteMillonariaTicket_5_listener","MenuBoxComponent_Template_app_floating_menu_deleteLoteriaFraccion_5_listener","MenuBoxComponent_Template_app_floating_menu_emitirCompra_5_listener","MenuBoxComponent_Template_app_floating_menu_eliminarTodo_5_listener","ɵɵtemplate","ɵɵadvance","directives","BotonDeJuegoComponent","FloatingMenuComponent","NgIf","LoaderComponent","ErrorComponent","ConfirmacionDeVentaComponent","InstantaneasComponent","VentaFinalizadaComponent","SaldoInsuficienteComponent","VentaCanceladaComponent","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/ventas.service\";\nimport * as i3 from \"../../services/pagos.service\";\nimport * as i4 from \"../../services/carrito.service\";\nimport * as i5 from \"../boton-de-juego/boton-de-juego.component\";\nimport * as i6 from \"../floating-menu/floating-menu.component\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../../../shared/components/loader/loader.component\";\nimport * as i9 from \"../../../shared/components/error/error.component\";\nimport * as i10 from \"../confirmacion-de-venta/confirmacion-de-venta.component\";\nimport * as i11 from \"../instantaneas/instantaneas.component\";\nimport * as i12 from \"../venta-finalizada/venta-finalizada.component\";\nimport * as i13 from \"../saldo-insuficiente/saldo-insuficiente.component\";\nimport * as i14 from \"../venta-cancelada/venta-cancelada.component\";\nfunction MenuBoxComponent_app_loader_6_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\", 13);\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"message\", ctx_r0.loadingMessage);\n} }\nfunction MenuBoxComponent_app_error_7_Template(rf, ctx) { if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-error\", 14);\n    i0.ɵɵlistener(\"closeError\", function MenuBoxComponent_app_error_7_Template_app_error_closeError_0_listener() { i0.ɵɵrestoreView(_r8); const ctx_r7 = i0.ɵɵnextContext(); return ctx_r7.closeError(); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"msg\", ctx_r1.errorMessage)(\"title\", ctx_r1.errorTitle);\n} }\nfunction MenuBoxComponent_app_confirmacion_de_venta_8_Template(rf, ctx) { if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-confirmacion-de-venta\", 15);\n    i0.ɵɵlistener(\"compraConfirmada\", function MenuBoxComponent_app_confirmacion_de_venta_8_Template_app_confirmacion_de_venta_compraConfirmada_0_listener() { i0.ɵɵrestoreView(_r10); const ctx_r9 = i0.ɵɵnextContext(); return ctx_r9.confirmarCompra(); })(\"compraCancelada\", function MenuBoxComponent_app_confirmacion_de_venta_8_Template_app_confirmacion_de_venta_compraCancelada_0_listener($event) { i0.ɵɵrestoreView(_r10); const ctx_r11 = i0.ɵɵnextContext(); return ctx_r11.cancelarCompra($event); })(\"comprarDespues\", function MenuBoxComponent_app_confirmacion_de_venta_8_Template_app_confirmacion_de_venta_comprarDespues_0_listener() { i0.ɵɵrestoreView(_r10); const ctx_r12 = i0.ɵɵnextContext(); return ctx_r12.dismissCompras(); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"compra\", ctx_r2.detalleCompra);\n} }\nfunction MenuBoxComponent_app_instantaneas_9_Template(rf, ctx) { if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-instantaneas\", 16);\n    i0.ɵɵlistener(\"close\", function MenuBoxComponent_app_instantaneas_9_Template_app_instantaneas_close_0_listener() { i0.ɵɵrestoreView(_r14); const ctx_r13 = i0.ɵɵnextContext(); return ctx_r13.abrirFinalizar(); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"resultados\", ctx_r3.instantaneas)(\"isLoteriaNacional\", true);\n} }\nfunction MenuBoxComponent_app_venta_finalizada_10_Template(rf, ctx) { if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-venta-finalizada\", 17);\n    i0.ɵɵlistener(\"volver\", function MenuBoxComponent_app_venta_finalizada_10_Template_app_venta_finalizada_volver_0_listener() { i0.ɵɵrestoreView(_r16); const ctx_r15 = i0.ɵɵnextContext(); return ctx_r15.finalizarCompra(); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"compra\", ctx_r4.detalleCompra)(\"codigosPromocionales\", ctx_r4.codigoPromocional);\n} }\nfunction MenuBoxComponent_app_saldo_insuficiente_11_Template(rf, ctx) { if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-saldo-insuficiente\", 18);\n    i0.ɵɵlistener(\"volver\", function MenuBoxComponent_app_saldo_insuficiente_11_Template_app_saldo_insuficiente_volver_0_listener() { i0.ɵɵrestoreView(_r18); const ctx_r17 = i0.ɵɵnextContext(); return ctx_r17.dismissCompras(); })(\"recarga\", function MenuBoxComponent_app_saldo_insuficiente_11_Template_app_saldo_insuficiente_recarga_0_listener() { i0.ɵɵrestoreView(_r18); const ctx_r19 = i0.ɵɵnextContext(); return ctx_r19.irARecarga(); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"message\", ctx_r5.recargaDeSaldoMessage);\n} }\nfunction MenuBoxComponent_app_venta_cancelada_12_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"app-venta-cancelada\", 19);\n} if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"message\", ctx_r6.cancelMessage);\n} }\nexport class MenuBoxComponent {\n    constructor(actRoute, lottery, paymentService, cart, router) {\n        this.actRoute = actRoute;\n        this.lottery = lottery;\n        this.paymentService = paymentService;\n        this.cart = cart;\n        this.router = router;\n        this.linkLotto = \"\";\n        this.linkLoteriaNacional = \"\";\n        this.linkPozoMillonario = \"\";\n        this.linkMillonaria = \"\";\n        this.codigoPromocional = [];\n        this.confirmacionDeCompra = false;\n        this.compraFinalizada = false;\n        this.saldoInsuficiente = false;\n        this.compraCancelada = false;\n        this.isInstantaneas = false;\n        this.cancelMessage = \"\";\n        this.isError = false;\n        this.actRoute.params.subscribe((params) => {\n            this.token = params[\"token\"];\n        });\n    }\n    async ngOnInit() {\n        try {\n            this.loadingMessage = \"Espera mientras procesamos tu información\";\n            this.isLoading = true;\n            if (this.token) {\n                let data = await this.lottery.authUser(this.token);\n                this.lotteryToken = data.lotteryToken;\n                if (this.lotteryToken) {\n                    this.linkLoteriaNacional = `/compra_tus_juegos/loteria/${this.token}`;\n                    this.linkLotto = `/compra_tus_juegos/lotto/${this.token}`;\n                    this.linkPozoMillonario = `/compra_tus_juegos/pozo/${this.token}`;\n                    this.linkMillonaria = `/compra_tus_juegos/millonaria/${this.token}`;\n                }\n                await this.getCarritoTickets();\n                //this.getTotal();\n            }\n            this.isLoading = false;\n        }\n        catch (e) {\n            this.isLoading = false;\n            console.log(e.message);\n            let errorMessage = e.message;\n            let errorTitle = \"Error\";\n            this.openError(errorMessage, errorTitle);\n        }\n    }\n    dismissCompras() {\n        this.confirmacionDeCompra = false;\n        this.isInstantaneas = false;\n        this.compraFinalizada = false;\n        this.saldoInsuficiente = false;\n        this.compraCancelada = false;\n    }\n    volver() {\n        this.dismissCompras();\n        this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n    }\n    getTotal() {\n        this.total = this.cart.getTotal();\n    }\n    comprar() {\n        this.dismissCompras();\n        let loteriaAux = this.ticketsLoteria;\n        let loteria = [];\n        for (let id in loteriaAux) {\n            let aux = {};\n            aux[\"combinacion1\"] = loteriaAux[id].ticket.combinacion;\n            aux[\"fracciones\"] = loteriaAux[id].ticket.seleccionados;\n            aux[\"subtotal\"] = parseFloat(loteriaAux[id].subtotal).toFixed(2);\n            aux[\"fecha\"] = loteriaAux[id].sorteo.fecha;\n            aux[\"sorteo\"] = loteriaAux[id].sorteo.sorteo;\n            loteria.push(aux);\n        }\n        let lottoAux = this.ticketsLotto;\n        let lotto = [];\n        for (let id in lottoAux) {\n            let aux = {};\n            aux[\"combinacion1\"] = lottoAux[id].ticket.combinacion1;\n            aux[\"combinacion2\"] = lottoAux[id].ticket.combinacion2;\n            aux[\"combinacion3\"] = lottoAux[id].ticket.combinacion3;\n            aux[\"combinacion4\"] = lottoAux[id].ticket.combinacion4;\n            aux[\"sorteo\"] = lottoAux[id].sorteo.sorteo;\n            aux[\"subtotal\"] = parseFloat(lottoAux[id].subtotal).toFixed(2);\n            aux[\"fecha\"] = lottoAux[id].sorteo.fecha;\n            lotto.push(aux);\n        }\n        let pozoAux = this.ticketsPozo;\n        let pozo = [];\n        for (let id in pozoAux) {\n            let aux = {};\n            aux[\"combinacion1\"] = pozoAux[id].ticket.combinacion1;\n            aux[\"combinacion2\"] = pozoAux[id].ticket.combinacion2;\n            aux[\"mascota\"] = pozoAux[id].ticket.mascota;\n            aux[\"sorteo\"] = pozoAux[id].sorteo.sorteo;\n            aux[\"subtotal\"] = parseFloat(pozoAux[id].subtotal).toFixed(2);\n            aux[\"fecha\"] = pozoAux[id].sorteo.fecha;\n            pozo.push(aux);\n        }\n        let millonariaAux = this.ticketsMillonaria;\n        let millonaria = [];\n        for (let id in millonariaAux) {\n            let aux = {};\n            aux[\"combinacion1\"] = millonariaAux[id].ticket.combinacion1;\n            aux[\"combinacion2\"] = millonariaAux[id].ticket.combinacion2;\n            aux[\"fracciones\"] = millonariaAux[id].ticket.seleccionados;\n            aux[\"subtotal\"] = parseFloat(millonariaAux[id].subtotal).toFixed(2);\n            aux[\"subtotalConDesc\"] = parseFloat(millonariaAux[id].subtotalConDesc).toFixed(2);\n            aux[\"tieneDescuento\"] = millonariaAux[id].tieneDescuento;\n            aux[\"fecha\"] = millonariaAux[id].sorteo.fecha;\n            aux[\"sorteo\"] = millonariaAux[id].sorteo.sorteo;\n            millonaria.push(aux);\n        }\n        let amount = parseFloat(this.paymentService.getTotal()).toFixed(2);\n        let amountConDesc = parseFloat(this.cart.getTotalConDesc()).toFixed(2);\n        this.detalleCompra = {\n            loteria,\n            millonaria,\n            lotto,\n            pozo,\n            amount,\n            amountConDesc,\n        };\n        this.confirmacionDeCompra = true;\n    }\n    finalizarCompra() {\n        this.paymentService.finalizarCompra();\n        this.dismissCompras();\n        this.router.navigateByUrl(`/compra_tus_juegos/${this.token}`);\n    }\n    irARecarga() { }\n    async confirmarCompra() {\n        try {\n            this.isLoading = true;\n            this.loadingMessage = \"Espera mientras procesamos tu compra\";\n            let hasBalance = await this.paymentService.hasBalance(0, this.token);\n            if (hasBalance) {\n                let reservaId = this.cart.getReservaId();\n                let cartValidation = await this.cart.validarCarrito(reservaId);\n                if (cartValidation) {\n                    let response = await this.paymentService.confirmarCompra(this.token, reservaId);\n                    if (response.status) {\n                        this.codigoPromocional = response.codigoPromocional;\n                        if (response.instantanea.status) {\n                            this.dismissCompras();\n                            this.instantaneas = response.instantanea.data;\n                            this.isInstantaneas = true;\n                        }\n                        else {\n                            this.instantaneas = \"\";\n                            this.abrirFinalizar();\n                        }\n                    }\n                    else {\n                        this.cancelarCompra(\"\");\n                    }\n                }\n                this.isLoading = false;\n            }\n            else {\n                this.isLoading = false;\n                let message = \"Tu saldo es insuficiente para realizar la compra\";\n                this.recargarSaldo(message);\n            }\n        }\n        catch (e) {\n            this.isLoading = false;\n            console.log(e.message);\n            let errorMessage = e.message;\n            let errorTitle = \"Error\";\n            this.openError(errorMessage, errorTitle);\n        }\n    }\n    cancelarCompra(e) {\n        this.dismissCompras();\n        this.compraCancelada = true;\n    }\n    async abrirFinalizar() {\n        this.dismissCompras();\n        await this.cart.borrarCarrito();\n        this.compraFinalizada = true;\n    }\n    recargarSaldo(message) {\n        this.recargaDeSaldoMessage = message;\n        this.dismissCompras();\n        this.saldoInsuficiente = true;\n    }\n    async deleteMillonariaTicket(data) {\n        try {\n            let identificador = data.ticket.identificador;\n            let fracciones = data.ticket.seleccionados;\n            this.loadingMessage = \"Removiendo boleto del carrito\";\n            this.isLoading = true;\n            let ticket = this.ticketsMillonaria[identificador].ticket;\n            let sorteo = data.sorteo;\n            let reservaId = this.lottery.getReservaId();\n            if (fracciones.length != 0) {\n                let response = await this.lottery.eliminarBoletosDeReserva(this.token, ticket, sorteo, fracciones, 14, reservaId);\n            }\n            delete this.ticketsMillonaria[identificador];\n            await this.cart.removeFromCart(ticket, 1);\n            await this.cart.setCarritoMillonaria(this.ticketsMillonaria);\n            await this.getCarritoTickets();\n            //this.getTotal();\n            //await this.setDescuento(14);\n            this.isLoading = false;\n        }\n        catch (e) {\n            this.isLoading = false;\n            console.log(e.message);\n            let errorMessage = e.message;\n            let errorTitle = \"Error\";\n            this.openError(errorMessage, errorTitle);\n        }\n    }\n    async deleteLoteriaTicket(data) {\n        try {\n            let identificador = data.ticket.identificador;\n            let fracciones = data.ticket.seleccionados;\n            this.loadingMessage = \"Removiendo boleto del carrito\";\n            this.isLoading = true;\n            let ticket = this.ticketsLoteria[identificador].ticket;\n            let sorteo = data.sorteo;\n            let reservaId = this.lottery.getReservaId();\n            if (fracciones.length != 0) {\n                let response = await this.lottery.eliminarBoletosDeReserva(this.token, ticket, sorteo, fracciones, 1, reservaId);\n            }\n            delete this.ticketsLoteria[identificador];\n            await this.cart.setCarritoLoteria(this.ticketsLoteria);\n            await this.getCarritoTickets();\n            this.getTotal();\n            this.isLoading = false;\n        }\n        catch (e) {\n            this.isLoading = false;\n            console.log(e.message);\n            let errorMessage = e.message;\n            let errorTitle = \"Error\";\n            this.openError(errorMessage, errorTitle);\n        }\n    }\n    async deleteLottoTicket(data) {\n        try {\n            let identificador = data.ticket.identificador;\n            let fraccion = \"\";\n            this.loadingMessage = \"Removiendo boleto del carrito\";\n            this.isLoading = true;\n            let ticket = this.ticketsLotto[identificador].ticket;\n            let sorteo = data.sorteo;\n            let reservaId = this.lottery.getReservaId();\n            let response = await this.lottery.eliminarBoletosDeReserva(this.token, ticket, sorteo, fraccion, 2, reservaId);\n            delete this.ticketsLotto[identificador];\n            await this.cart.setCarritoLotto(this.ticketsLotto);\n            await this.getCarritoTickets();\n            this.getTotal();\n            this.isLoading = false;\n        }\n        catch (e) {\n            this.isLoading = false;\n            console.log(e.message);\n            let errorMessage = e.message;\n            let errorTitle = \"Error\";\n            this.openError(errorMessage, errorTitle);\n        }\n    }\n    async deleteLoteriaFraccion(data) {\n        try {\n            this.loadingMessage = \"Removiendo boleto del carrito\";\n            this.isLoading = true;\n            let identificador = data.ticket.ticket.identificador;\n            let ticket = data.ticket.ticket;\n            let sorteo = data.ticket.sorteo;\n            let fraccion = data.fraccion;\n            let reservaId = this.cart.getReservaId();\n            let response = await this.lottery.eliminarBoletosDeReserva(this.token, ticket, sorteo, [fraccion], 1, reservaId);\n            let index = this.ticketsLoteria[identificador].ticket.seleccionados.findIndex((x) => x == fraccion);\n            this.ticketsLoteria[identificador].ticket.seleccionados.splice(index, 1);\n            if (this.ticketsLoteria[identificador].ticket.seleccionados.length == 0) {\n                delete this.ticketsLoteria[identificador];\n            }\n            await this.cart.setCarritoLoteria(this.ticketsLoteria);\n            await this.getCarritoTickets();\n            this.getTotal();\n            this.isLoading = false;\n        }\n        catch (e) {\n            this.isLoading = false;\n            console.log(e.message);\n            let errorMessage = e.message;\n            let errorTitle = \"Error\";\n            this.openError(errorMessage, errorTitle);\n        }\n    }\n    async deletePozoTicket(data) {\n        try {\n            let identificador = data.ticket.identificador;\n            let fraccion = \"\";\n            this.loadingMessage = \"Removiendo boleto del carrito\";\n            this.isLoading = true;\n            let ticket = this.ticketsPozo[identificador].ticket;\n            let sorteo = data.sorteo;\n            let reservaId = this.lottery.getReservaId();\n            let response = await this.lottery.eliminarBoletosDeReserva(this.token, ticket, sorteo, fraccion, 5, reservaId);\n            delete this.ticketsPozo[identificador];\n            await this.cart.setCarritoPozo(this.ticketsPozo);\n            await this.getCarritoTickets();\n            this.getTotal();\n            this.isLoading = false;\n        }\n        catch (e) {\n            this.isLoading = false;\n            console.log(e.message);\n            let errorMessage = e.message;\n            let errorTitle = \"Error\";\n            this.openError(errorMessage, errorTitle);\n        }\n    }\n    async deleteAllTickets() {\n        try {\n            this.loadingMessage = \"Removiendo boletos del carrito\";\n            this.isLoading = true;\n            let boletosLoteria = Object.keys(this.ticketsLoteria).map((key) => {\n                return {\n                    ticket: this.ticketsLoteria[key].ticket,\n                    sorteo: this.ticketsLoteria[key].sorteo,\n                };\n            });\n            let boletosLotto = Object.keys(this.ticketsLotto).map((key) => {\n                return {\n                    ticket: this.ticketsLotto[key].ticket,\n                    sorteo: this.ticketsLotto[key].sorteo,\n                };\n            });\n            let boletosPozo = Object.keys(this.ticketsPozo).map((key) => {\n                return {\n                    ticket: this.ticketsPozo[key].ticket,\n                    sorteo: this.ticketsPozo[key].sorteo,\n                };\n            });\n            let reservaId = this.lottery.getReservaId();\n            /*       await this.lottery.eliminarTodosLosBoletosDeReserva(\n                    this.token,\n                    boletosLoteria,\n                    boletosLotto,\n                    boletosPozo,\n                    reservaId\n                  ); */\n            await this.cart.borrarCarrito();\n            await this.getCarritoTickets();\n            this.getTotal();\n            this.isLoading = false;\n        }\n        catch (e) {\n            this.isLoading = false;\n            console.log(e.message);\n            let errorMessage = e.message;\n            let errorTitle = \"Error\";\n            this.openError(errorMessage, errorTitle);\n        }\n    }\n    async getCarritoTickets() {\n        let carrito = await this.cart.buscarCarrito();\n        this.ticketsLoteria = carrito.loteria;\n        this.ticketsLotto = carrito.lotto;\n        this.ticketsPozo = carrito.pozo;\n    }\n    authError() {\n        this.openError(\"Por favor, para poder comprar tu boleto preferido, deberás iniciar sesión en tu cuenta\", \"Aviso\");\n    }\n    openError(msg, title) {\n        this.errorTitle = title.toUpperCase();\n        this.errorMessage = msg;\n        this.isError = true;\n    }\n    closeError() {\n        this.isError = false;\n    }\n}\nMenuBoxComponent.ɵfac = function MenuBoxComponent_Factory(t) { return new (t || MenuBoxComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.VentasService), i0.ɵɵdirectiveInject(i3.PagosService), i0.ɵɵdirectiveInject(i4.CarritoService), i0.ɵɵdirectiveInject(i1.Router)); };\nMenuBoxComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MenuBoxComponent, selectors: [[\"app-menu-box\"]], decls: 13, vars: 19, consts: [[1, \"selectionBox\"], [\"image\", \"assets/img/loteria-sombra-2.png\", \"name\", \"loteria\", 3, \"link\", \"token\", \"authError\"], [\"image\", \"assets/img/lotto-sombra.png\", \"name\", \"lotto\", 3, \"link\", \"token\", \"authError\"], [\"image\", \"assets/img/pozo-sombra.png\", \"name\", \"pozo\", 3, \"link\", \"token\", \"authError\"], [\"image\", \"assets/img/millonaria-sombra.png\", \"name\", \"millonaria\", 3, \"link\", \"token\", \"authError\"], [\"tipoLoteria\", \"loteria\", 3, \"ticketsLoteria\", \"ticketsLotto\", \"ticketsPozo\", \"ticketsMillonaria\", \"deleteLoteriaTicket\", \"deleteLottoTicket\", \"deletePozoTicket\", \"deleteMillonariaTicket\", \"deleteLoteriaFraccion\", \"emitirCompra\", \"eliminarTodo\"], [\"loader\", \"loteria\", 3, \"message\", 4, \"ngIf\"], [3, \"msg\", \"title\", \"closeError\", 4, \"ngIf\"], [\"class\", \"paymentItem\", 3, \"compra\", \"compraConfirmada\", \"compraCancelada\", \"comprarDespues\", 4, \"ngIf\"], [\"tipoloteria\", \"14\", \"class\", \"paymentItem\", 3, \"resultados\", \"isLoteriaNacional\", \"close\", 4, \"ngIf\"], [\"class\", \"paymentItem\", 3, \"compra\", \"codigosPromocionales\", \"volver\", 4, \"ngIf\"], [\"class\", \"paymentItem\", 3, \"message\", \"volver\", \"recarga\", 4, \"ngIf\"], [\"class\", \"paymentItem\", 3, \"message\", 4, \"ngIf\"], [\"loader\", \"loteria\", 3, \"message\"], [3, \"msg\", \"title\", \"closeError\"], [1, \"paymentItem\", 3, \"compra\", \"compraConfirmada\", \"compraCancelada\", \"comprarDespues\"], [\"tipoloteria\", \"14\", 1, \"paymentItem\", 3, \"resultados\", \"isLoteriaNacional\", \"close\"], [1, \"paymentItem\", 3, \"compra\", \"codigosPromocionales\", \"volver\"], [1, \"paymentItem\", 3, \"message\", \"volver\", \"recarga\"], [1, \"paymentItem\", 3, \"message\"]], template: function MenuBoxComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"app-boton-de-juego\", 1);\n        i0.ɵɵlistener(\"authError\", function MenuBoxComponent_Template_app_boton_de_juego_authError_1_listener() { return ctx.authError(); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"app-boton-de-juego\", 2);\n        i0.ɵɵlistener(\"authError\", function MenuBoxComponent_Template_app_boton_de_juego_authError_2_listener() { return ctx.authError(); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"app-boton-de-juego\", 3);\n        i0.ɵɵlistener(\"authError\", function MenuBoxComponent_Template_app_boton_de_juego_authError_3_listener() { return ctx.authError(); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"app-boton-de-juego\", 4);\n        i0.ɵɵlistener(\"authError\", function MenuBoxComponent_Template_app_boton_de_juego_authError_4_listener() { return ctx.authError(); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"app-floating-menu\", 5);\n        i0.ɵɵlistener(\"deleteLoteriaTicket\", function MenuBoxComponent_Template_app_floating_menu_deleteLoteriaTicket_5_listener($event) { return ctx.deleteLoteriaTicket($event); })(\"deleteLottoTicket\", function MenuBoxComponent_Template_app_floating_menu_deleteLottoTicket_5_listener($event) { return ctx.deleteLottoTicket($event); })(\"deletePozoTicket\", function MenuBoxComponent_Template_app_floating_menu_deletePozoTicket_5_listener($event) { return ctx.deletePozoTicket($event); })(\"deleteMillonariaTicket\", function MenuBoxComponent_Template_app_floating_menu_deleteMillonariaTicket_5_listener($event) { return ctx.deleteMillonariaTicket($event); })(\"deleteLoteriaFraccion\", function MenuBoxComponent_Template_app_floating_menu_deleteLoteriaFraccion_5_listener($event) { return ctx.deleteLoteriaFraccion($event); })(\"emitirCompra\", function MenuBoxComponent_Template_app_floating_menu_emitirCompra_5_listener() { return ctx.comprar(); })(\"eliminarTodo\", function MenuBoxComponent_Template_app_floating_menu_eliminarTodo_5_listener() { return ctx.deleteAllTickets(); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, MenuBoxComponent_app_loader_6_Template, 1, 1, \"app-loader\", 6);\n        i0.ɵɵtemplate(7, MenuBoxComponent_app_error_7_Template, 1, 2, \"app-error\", 7);\n        i0.ɵɵtemplate(8, MenuBoxComponent_app_confirmacion_de_venta_8_Template, 1, 1, \"app-confirmacion-de-venta\", 8);\n        i0.ɵɵtemplate(9, MenuBoxComponent_app_instantaneas_9_Template, 1, 2, \"app-instantaneas\", 9);\n        i0.ɵɵtemplate(10, MenuBoxComponent_app_venta_finalizada_10_Template, 1, 2, \"app-venta-finalizada\", 10);\n        i0.ɵɵtemplate(11, MenuBoxComponent_app_saldo_insuficiente_11_Template, 1, 1, \"app-saldo-insuficiente\", 11);\n        i0.ɵɵtemplate(12, MenuBoxComponent_app_venta_cancelada_12_Template, 1, 1, \"app-venta-cancelada\", 12);\n    } if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"link\", ctx.linkLoteriaNacional)(\"token\", ctx.lotteryToken);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"link\", ctx.linkLotto)(\"token\", ctx.lotteryToken);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"link\", ctx.linkPozoMillonario)(\"token\", ctx.lotteryToken);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"link\", ctx.linkMillonaria)(\"token\", ctx.lotteryToken);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ticketsLoteria\", ctx.ticketsLoteria)(\"ticketsLotto\", ctx.ticketsLotto)(\"ticketsPozo\", ctx.ticketsPozo)(\"ticketsMillonaria\", ctx.ticketsMillonaria);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isError);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.confirmacionDeCompra);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isInstantaneas);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.compraFinalizada);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.saldoInsuficiente);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.compraCancelada);\n    } }, directives: [i5.BotonDeJuegoComponent, i6.FloatingMenuComponent, i7.NgIf, i8.LoaderComponent, i9.ErrorComponent, i10.ConfirmacionDeVentaComponent, i11.InstantaneasComponent, i12.VentaFinalizadaComponent, i13.SaldoInsuficienteComponent, i14.VentaCanceladaComponent], styles: [\".selectionBox[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-evenly;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: 100px;\\n}\\n\\n@media screen and (max-width: 1000px) {\\n  .selectionBox[_ngcontent-%COMP%] {\\n    padding: 25px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUtYm94LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLGFBQUE7RUFDQSw2QkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0FBQ0o7O0FBQ0U7RUFDRTtJQUNFLGFBQUE7RUFFSjtBQUNGIiwiZmlsZSI6Im1lbnUtYm94LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNlbGVjdGlvbkJveCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMTAwcHg7XG4gIH1cbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTAwMHB4KSB7XG4gICAgLnNlbGVjdGlvbkJveHtcbiAgICAgIHBhZGRpbmc6IDI1cHg7XG4gICAgfVxuICB9Il19 */\"] });\n"]},"metadata":{},"sourceType":"module"}